"use strict";(self.webpackChunkcsgoroll=self.webpackChunkcsgoroll||[]).push([["libs_player_src_index_ts"],{97770:(Yn,Be,r)=>{r.d(Be,{HT:()=>A,Cl:()=>m,WI:()=>y});var A=(()=>{return(u=A||(A={})).HIGHEST_BET="HIGHEST_BET",u.HIGHEST_CRASH_MULTIPLIER="HIGHEST_CRASH_MULTIPLIER",u.HIGHEST_BET_LOSS="HIGHEST_BET_LOSS",u.HIGHEST_ROULETTE_GREEN_WIN="HIGHEST_ROULETTE_GREEN_WIN",u.TOTAL_BOXES_OPENED="TOTAL_BOXES_OPENED",u.TOTAL_COMMISSION="TOTAL_COMMISSION",u.TOTAL_COMMISSION_EARNT="TOTAL_COMMISSION_EARNT",u.TOTAL_DEPOSITED="TOTAL_DEPOSITED",u.TOTAL_PROFIT="TOTAL_PROFIT",u.TOTAL_WAGERED="TOTAL_WAGERED",u.TOTAL_WAGERED_CRASH="TOTAL_WAGERED_CRASH",u.TOTAL_WAGERED_DICE="TOTAL_WAGERED_DICE",u.TOTAL_WAGERED_MATCH_BETTING="TOTAL_WAGERED_MATCH_BETTING",u.TOTAL_WAGERED_PLINKO="TOTAL_WAGERED_PLINKO",u.TOTAL_WAGERED_PVP="TOTAL_WAGERED_PVP",u.TOTAL_WAGERED_ROULETTE="TOTAL_WAGERED_ROULETTE",u.TOTAL_WAGERED_UNBOXING="TOTAL_WAGERED_UNBOXING",u.TOTAL_WITHDRAWN="TOTAL_WITHDRAWN",A;var u})(),m=(()=>{return(u=m||(m={})).ALL_TIME="ALL_TIME",u.DAILY="DAILY",u.WEEKLY="WEEKLY",m;var u})(),y=(()=>{return(u=y||(y={})).ID="ID",u.ID_DESC="ID_DESC",u.CREATED_AT="CREATED_AT",u.CREATED_AT_DESC="CREATED_AT_DESC",u.DATE_FROM="DATE_FROM",u.DATE_FROM_DESC="DATE_FROM_DESC",u.VALUE="VALUE",u.VALUE_DESC="VALUE_DESC",y;var u})()},45896:(Yn,Be,r)=>{r.r(Be),r.d(Be,{PlayerModule:()=>Tl});var A=r(45990),m=r(23600),y=r(97443),u=r(54004),b=r(39841),e=r(5e3),f=r(35357),Fn=r(1963),p=r(69808);const Qn=function(){return["AVAILABLE","CONSUMED"]};let mt=(()=>{class t{constructor(n,i){this.route=n,this.userService=i,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(a=>(0,m.AWy)(a.get("id"),"User"))),this.canEditItems$=(0,b.a)([this.userId$,this.userService.user$]).pipe((0,u.U)(([a,_])=>!!_&&(_.roles.includes(y.i.MANAGER)||_.id===a)))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-box-list"]],decls:4,vars:8,consts:[[1,"card","card-body"],[3,"userId","simplified","statuses"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"cw-user-box-search-grid",1),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("userId",e.lcZ(2,3,i.userId$))("simplified",!1===e.lcZ(3,5,i.canEditItems$))("statuses",e.DdM(7,Qn)))},directives:[Fn.N],pipes:[p.Ov],styles:["cw-user-box-search-grid[_ngcontent-%COMP%]{min-height:calc(100vh - calc(4.375rem + (var(--vertical-spacing) * 2) + 3.8752rem + 2.5rem))}"],changeDetection:0}),t})();var Gn=r(6499);let pt=(()=>{class t{constructor(n,i){this.route=n,this.userService=i,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(a=>(0,m.AWy)(a.get("id"),"User"))),this.canEditItems$=(0,b.a)([this.userId$,this.userService.user$]).pipe((0,u.U)(([a,_])=>!!_&&(_.roles.includes(y.i.MANAGER)||_.id===a)))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-unboxing-list"]],decls:4,vars:5,consts:[[1,"card"],[1,"card-body"],[3,"showFilters","userId","showItemOverlay"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"cw-box-opening-table",2),e.ALo(3,"async"),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("showFilters",!0)("userId",e.lcZ(3,3,i.userId$))("showItemOverlay",!1))},directives:[Gn.a],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var dt=r(67751);const qn=[dt.BoxSharedModule,A.vY];let Jn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[qn,dt.BoxSharedModule,A.vY]}),t})();var Wn=r(69273);let gt=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-player-message-list"]],decls:3,vars:3,consts:[[1,"card","card-body"],[3,"userId"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"cw-message-list",1),e.ALo(2,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("userId",e.lcZ(2,1,i.userId$)))},directives:[Wn.K],pipes:[p.Ov],styles:["cw-message-list[_ngcontent-%COMP%]{min-height:500px}"],changeDetection:0}),t})();var ft=r(66219);const kn=[A.vY,ft.ChatModule];let Xn=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[kn,A.vY,ft.ChatModule]}),t})();var B=r(28746),E=r(39478);const Hn=E.Ps`
  mutation ChangeAuthentic($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        authentic
      }
    }
  }
`;var S=r(13302),s=r(93075),Z=r(52457),ye=r(77446);let Tt=(()=>{class t{constructor(n,i,a,_){this.apollo=n,this.fb=i,this.changeRef=a,this.toastr=_,this.form=this.fb.group({authentic:!1})}set user(n){this._user=n,this.form.patchValue({authentic:n.authentic})}get user(){return this._user}ngOnInit(){this.subscription=this.form.valueChanges.subscribe(n=>{if(this.form.valid&&n.authentic!==this.user.authentic)return this.apollo.mutate({mutation:Hn,variables:{input:{userId:this.user.id,authentic:this.form.value.authentic}}}).pipe((0,B.x)(()=>{this.changeRef.markForCheck()})).subscribe(()=>{this.toastr.success("Authentic value changed")})})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M),e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-authentic-edit-form"]],inputs:{user:"user"},decls:2,vars:1,consts:[["novalidate","",3,"formGroup"],["color","primary","formControlName","authentic",1,"w-100"]],template:function(n,i){1&n&&(e.TgZ(0,"form",0),e._UZ(1,"mat-checkbox",1),e.qZA()),2&n&&e.Q6J("formGroup",i.form)},directives:[s._Y,s.JL,s.sg,ye.oG,s.JJ,s.u],styles:[""],changeDetection:0}),t})();var I=r(70655),C=r(44987);const Vn=E.Ps`
  mutation ChangeBannedUntil($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        bannedUntil
      }
    }
  }
`;var D=r(47423),At=r(52624);function zn(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.ban(5)}),e.SDv(2,4),e.qZA(),e.TgZ(3,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.ban(60)}),e.SDv(4,5),e.qZA(),e.TgZ(5,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.ban(1440)}),e.SDv(6,6),e.qZA(),e.TgZ(7,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.ban(10080)}),e.SDv(8,7),e.qZA(),e.TgZ(9,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.ban(5256e4)}),e.SDv(10,8),e.qZA(),e.qZA()}}let re=class{constructor(o,n,i,a,_){this.apollo=o,this.fb=n,this.changeRef=i,this.toastr=a,this.document=_,this.canEdit=!1,this.reloadAfter=!1,this.form=this.fb.group({bannedUntil:null})}set user(o){this._user=o,this.form.patchValue({bannedUntil:o.bannedUntil})}get user(){return this._user}ngOnInit(){this.form.valueChanges.pipe((0,C.t)(this)).subscribe(o=>{if(this.canEdit&&this.form.valid&&o.bannedUntil!==this.user.bannedUntil)return this.apollo.mutate({mutation:Vn,variables:{input:{userId:this.user.id,bannedUntil:this.form.value.bannedUntil}}}).pipe((0,B.x)(()=>{this.changeRef.markForCheck()}),(0,C.t)(this)).subscribe(()=>{const i=o.bannedUntil&&new Date(o.bannedUntil).getTime()>Date.now();this.toastr.success(i?"User banned":"User unbanned"),this.reloadAfter&&i&&(this.document.location.href=this.document.location.href)})})}ban(o){const n=new Date;n.setMinutes(n.getMinutes()+o),this.form.patchValue({bannedUntil:n.toISOString()})}};re.\u0275fac=function(o){return new(o||re)(e.Y36(S._M),e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z._W),e.Y36(p.K0))},re.\u0275cmp=e.Xpm({type:re,selectors:[["cw-banned-edit-form"]],inputs:{user:"user",canEdit:"canEdit",reloadAfter:"reloadAfter"},decls:6,vars:6,consts:function(){let t,o,n,i,a;return t=$localize`:␟f10b143da61bdbeb6b7396fc0e4bcf132abbac37␟5332350867129241974:5m`,o=$localize`:␟737b387b6c91f80617283fc4a011dd3a982efb2b␟9184963060275130414:1h`,n=$localize`:␟1ff6e4e98d5b1bee68f14d93facacb7daea5ea00␟3312860774260166080:1d`,i=$localize`:␟f7b50e4989540954a9035833470efba042a2819c␟176275557076409837:1w`,a=$localize`:␟4c8871812d33b891457828dcc697efd306c0c669␟5822292999591142959:100y`,[["novalidate","",3,"formGroup"],["type","hidden","formControlName","bannedUntil"],[4,"ngIf"],["type","button","mat-flat-button","","color","dark",3,"cwConfirmClick"],t,o,n,i,a]},template:function(o,n){1&o&&(e.TgZ(0,"form",0),e.TgZ(1,"div"),e._uU(2),e.ALo(3,"date"),e.qZA(),e._UZ(4,"input",1),e.YNc(5,zn,11,0,"div",2),e.qZA()),2&o&&(e.Q6J("formGroup",n.form),e.xp6(2),e.Oqu(e.xi3(3,3,n.user.bannedUntil,"medium")),e.xp6(3),e.Q6J("ngIf",n.canEdit))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,p.O5,D.lW,At.R],pipes:[p.uU],styles:["button[_ngcontent-%COMP%]{margin:.1rem;padding:0 .75rem}"],changeDetection:0}),re=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,s.qu,e.sBO,Z._W,Document])],re);const St=E.Ps`
  fragment NoteListNote on Note {
    id
    createdAt
    body
    creator {
      id
      name
      avatar
    }
  }
`,jn=E.Ps`
  query UserNoteList($userId: ID!) {
    notes(userId: $userId) {
      edges {
        node {
          ...NoteListNote
        }
      }
    }
  }

  ${St}
`,Kn=E.Ps`
  mutation CreateNote($input: CreateNoteInput!) {
    createNote(input: $input) {
      note {
        ...NoteListNote
      }
    }
  }

  ${St}
`;var O=r(67322),L=r(77093),Ee=r(98833),je=r(30446);function eo(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"form",1),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().onSubmit()}),e.TgZ(2,"mat-label"),e.SDv(3,2),e.qZA(),e.TgZ(4,"section",3),e.TgZ(5,"mat-form-field",4),e._UZ(6,"textarea",5),e.TgZ(7,"mat-error"),e._UZ(8,"cw-form-errors",6),e.qZA(),e.qZA(),e.TgZ(9,"button",7),e.SDv(10,8),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(7),e.Q6J("control",n.form.controls.body)("show",n.form.controls.body.touched||n.submitted)}}let se=class{constructor(o,n){this.apollo=o,this.fb=n,this.create=new e.vpe,this.creating=!1,this.submitted=!1}ngOnInit(){this.form=this.fb.group({userId:this.userId,body:["",s.kI.required]})}onSubmit(){this.form.patchValue({userId:this.userId}),this.submitted=!0,this.form.valid&&this.form.dirty&&(this.creating=!0,this.apollo.mutate({mutation:Kn,variables:{input:this.form.value}}).pipe((0,B.x)(()=>{this.creating=!1,this.submitted=!1}),(0,C.t)(this)).subscribe(({data:o})=>{this.form.get("body").reset(),this.form.markAsPristine(),this.create.next(o.createNote.note)}))}};se.\u0275fac=function(o){return new(o||se)(e.Y36(S._M),e.Y36(s.qu))},se.\u0275cmp=e.Xpm({type:se,selectors:[["cw-create-note-form"]],inputs:{userId:"userId"},outputs:{create:"create"},decls:1,vars:1,consts:function(){let t,o;return t=$localize`:␟463203c0fcdb547dc2863c1f17ac7d052753b54a␟3128814391078924036:Leave note`,o=$localize`:␟70a67e04629f6d412db0a12d51820b480788d795␟5674286808255988565:Create`,[[4,"ngIf"],["novalidate","",3,"formGroup","ngSubmit"],t,["fxLayout","row wrap","fxLayoutAlign","start start","fxLayoutGap",".5rem"],[1,"w-100"],["matInput","","maxlength","255","formControlName","body"],[3,"control","show"],["type","submit","mat-flat-button","","color","primary"],o]},template:function(o,n){1&o&&e.YNc(0,eo,11,3,"ng-container",0),2&o&&e.Q6J("ngIf",n.form)},directives:[p.O5,s._Y,s.JL,s.sg,O.hX,L.xw,L.Wh,L.SQ,O.KE,Ee.Nt,s.Fj,s.nD,s.JJ,s.u,O.TO,je.A,D.lW],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),se=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,s.qu])],se);var to=r(24351);const no=E.Ps`
  mutation ChangeMarket($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        marketId
      }
    }
  }
`;var ht=r(79065);let ce=class{constructor(o,n,i){this.apollo=o,this.toastr=n,this.changeRef=i,this.ctrl=new s.NI,this.ctrl.valueChanges.pipe((0,to.b)(()=>this.apollo.mutate({mutation:no,variables:{input:{userId:this.user.id,marketId:this.ctrl.value||null}}}).pipe((0,B.x)(()=>{this.changeRef.markForCheck()}))),(0,C.t)(this)).subscribe(()=>this.toastr.success("Market value changed"))}set user(o){this._user=o,this.ctrl.patchValue(this.marketId,{emitEvent:!1})}get user(){return this._user}get marketId(){return this.user.market&&this.user.market.id?this.user.market.id:""}};ce.\u0275fac=function(o){return new(o||ce)(e.Y36(S._M),e.Y36(Z._W),e.Y36(e.sBO))},ce.\u0275cmp=e.Xpm({type:ce,selectors:[["cw-market-edit-form"]],inputs:{user:"user"},decls:1,vars:2,consts:[[3,"showLabel","ctrl"]],template:function(o,n){1&o&&e._UZ(0,"cw-market-select",0),2&o&&e.Q6J("showLabel",!1)("ctrl",n.ctrl)},directives:[ht.U],styles:[""]}),ce=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,Z._W,e.sBO])],ce);var K=r(93114),q=r(61135),V=r(34782);const oo=function(t){return["/player",t]};function io(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"a",10),e._UZ(2,"img",11),e.qZA(),e._uU(3),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(3,oo,n.creator.id)),e.xp6(1),e.Q6J("src",n.creator.avatar,e.LSH),e.xp6(1),e.hij(" ",n.creator.name," ")}}function ao(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e.YNc(2,io,4,5,"ng-container",9),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"small"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.qZA(),e.TgZ(10,"td",4),e._uU(11),e.qZA(),e.qZA()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("ngIf",n.creator),e.xp6(3),e.Oqu(e.xi3(6,4,n.createdAt,"mediumDate")),e.xp6(3),e.Oqu(e.xi3(9,7,n.createdAt,"mediumTime")),e.xp6(3),e.Oqu(n.body)}}function _o(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ao,12,10,"tr",8),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,n.notes$))("ngForTrackBy",n.trackById)}}function ro(t,o){1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",12),e.SDv(2,13),e.qZA(),e.qZA())}let Mt=(()=>{class t extends((0,K.A)(K.t)){constructor(n){super(),this.apollo=n,this.newNotes$=new q.X([]),this.notesQuery=this.apollo.watchQuery({query:jn,fetchPolicy:"no-cache"}),this.notesApi$=this.notesQuery.valueChanges.pipe((0,u.U)(({data:i})=>i&&i.notes?i.notes.edges.map(a=>a.node).reverse():[])),this.notes$=(0,b.a)([this.notesApi$,this.newNotes$]).pipe((0,u.U)(([i,a])=>[...a,...i].filter(_=>null!==_)),(0,V.d)(1)),this.hasNotes$=this.notes$.pipe((0,u.U)(i=>!!i.length))}set userId(n){this._userId=n,this._newNotes=[],this.newNotes$.next(this._newNotes),n&&(this.notesQuery.setVariables({userId:this._userId}),this.notesQuery.refetch())}get userId(){return this._userId}addNewNote(n){this._newNotes.unshift(n),this.newNotes$.next(this._newNotes)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-note-list"]],inputs:{userId:"userId"},features:[e.qOj],decls:15,vars:5,consts:function(){let o,n,i,a;return o=$localize`:␟a20424156b8816671f61879f0574a4f27d7b16b9␟1043390381565182083:Creator`,n=$localize`:␟0b07fa0112b2103399aeca13decea6b15e0938a8␟3972366190860153161:Date/Time`,i=$localize`:␟5c54befce78d70e20c215f10a00e617245f53bc9␟4388879716045736175:Note`,a=$localize`:␟09997057aeefda751837b0b7c2604bdf82c603ac␟5973381151475657501:No notes`,[[1,"mb-3",3,"userId","create"],[1,"w-100"],o,n,[1,"w-50"],i,[4,"ngIf","ngIfElse"],["empty",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"avatar","rounded-circle",3,"routerLink"],["loading","lazy",1,"img",3,"src"],["colspan","3"],a]},template:function(n,i){if(1&n&&(e.TgZ(0,"cw-create-note-form",0),e.NdJ("create",function(_){return i.addNewNote(_)}),e.qZA(),e.TgZ(1,"table",1),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th"),e.SDv(5,2),e.qZA(),e.TgZ(6,"th"),e.SDv(7,3),e.qZA(),e.TgZ(8,"th",4),e.SDv(9,5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"tbody"),e.YNc(11,_o,3,4,"ng-container",6),e.ALo(12,"async"),e.qZA(),e.qZA(),e.YNc(13,ro,3,0,"ng-template",null,7,e.W1O)),2&n){const a=e.MAs(14);e.Q6J("userId",i.userId),e.xp6(11),e.Q6J("ngIf",!!e.lcZ(12,3,i.hasNotes$))("ngIfElse",a)}},directives:[se,p.O5,p.sg,f.yS],pipes:[p.Ov,p.uU],styles:[".avatar[_ngcontent-%COMP%]{display:inline-block;margin:0 .5rem 0 0;width:2rem;height:2rem;background-color:#fff}.img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-repeat:no-repeat;background-size:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{word-break:break-word}"],changeDetection:0}),t})();var Q=r(63900),Et=r(60515);const so=E.ZP`
  mutation ChangeRoles($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        roles
      }
    }
  }
`;var Ye=r(74107),Fe=r(90508),Ke=r(29016);function co(t,o){if(1&t&&(e.TgZ(0,"mat-option",3),e._uU(1),e.ALo(2,"enumTitlecase"),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.Oqu(e.lcZ(2,2,n))}}let Ct=(()=>{class t{constructor(n,i){this.apollo=n,this.confirmService=i,this.roles=Object.values(y.i)}ngOnInit(){this.ctrl=new s.NI(this.user.roles)}onOpenedChange(){this.previousCtrlValue=this.ctrl.value}onValueChange(n){this.confirmService.confirm({title:"Modify Role?"}).pipe((0,Q.w)(i=>i?(this.previousCtrlValue=this.ctrl.value,this.changePermissions(this.ctrl.value)):(this.ctrl.setValue(this.previousCtrlValue),n.source.close(),Et.E))).subscribe()}changePermissions(n){return this.apollo.mutate({mutation:so,variables:{input:{userId:this.user.id,roles:n}}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M),e.Y36(A.zM))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-role-select"]],inputs:{user:"user"},decls:3,vars:2,consts:[[1,"w-100"],["multiple","",3,"formControl","valueChange","openedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){1&n&&(e.TgZ(0,"mat-form-field",0),e.TgZ(1,"mat-select",1),e.NdJ("valueChange",function(_){return i.onValueChange(_)})("openedChange",function(){return i.onOpenedChange()}),e.YNc(2,co,3,4,"mat-option",2),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.Q6J("formControl",i.ctrl),e.xp6(1),e.Q6J("ngForOf",i.roles))},directives:[O.KE,Ye.gD,s.JJ,s.oH,p.sg,Fe.ey],pipes:[Ke.X],styles:[""],changeDetection:0}),t})();var oe=r(39300),ee=r(95698),Ce=r(11365);const lo=E.Ps`
  query PlayerEmail($id: ID!) {
    user(id: $id) {
      id
      email
      verified
    }
  }
`;var uo=r(15147),le=r(96298),Y=r(20975);function mo(t,o){1&t&&(e.tHW(0,3,1),e.GkF(1),e.N_p())}function po(t,o){if(1&t&&e.SDv(0,3,2),2&t){const n=e.oxw(2).ngIf;e.pQV(n.email),e.QtT(0)}}function go(t,o){if(1&t&&(e.TgZ(0,"span"),e.tHW(1,3),e.YNc(2,mo,2,0,"ng-container",4),e.ALo(3,"push"),e.YNc(4,po,1,1,"ng-template",null,5,e.W1O),e.N_p(),e.qZA()),2&t){const n=e.MAs(5),i=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(3,2,i.emailValidationSent$))("ngIfElse",n)}}function fo(t,o){1&t&&(e.TgZ(0,"span"),e.SDv(1,6),e.qZA())}const To=function(t){return["/player",t,"summary"]};function Ao(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"cw-alert",1),e.TgZ(2,"div"),e._UZ(3,"span",2),e.YNc(4,go,6,4,"span",0),e.YNc(5,fo,2,0,"span",0),e.qZA(),e.qZA(),e.BQk()),2&t){const n=o.ngIf;e.xp6(1),e.Q6J("dismissable",!1)("routerLink",e.VKq(4,To,n.id)),e.xp6(3),e.Q6J("ngIf",n.email&&!n.verified),e.xp6(1),e.Q6J("ngIf",!n.email)}}let ue=class{constructor(o,n,i,a){this.apollo=o,this.platformService=n,this.route=i,this.userService=a,this.emailValidationSent$=new q.X(!1),this.userId$=this.route.parent.paramMap.pipe((0,u.U)(_=>(0,m.AWy)(_.get("id"),"User"))),this.user$=this.userId$.pipe((0,Q.w)(_=>this.apollo.watchQuery({query:lo,variables:{id:_}}).valueChanges.pipe((0,u.U)(({data:l})=>l.user)))),this.isMe$=(0,b.a)([this.userService.userId$,this.user$]).pipe((0,u.U)(([_,l])=>_&&_===(null==l?void 0:l.id)))}ngOnInit(){this.user$.pipe((0,C.t)(this),(0,oe.h)(o=>!!o),(0,ee.q)(1),(0,Ce.M)(this.isMe$),(0,Q.w)(([o,n])=>o.email&&!o.verified&&n?this.apollo.mutate({mutation:m.gX0,variables:{input:{redirectUri:`${this.platformService.location.origin}/activate/:code`,userId:o.id}}}):Et.E)).subscribe(({data:o})=>{o.sendValidationEmail.success&&this.emailValidationSent$.next(!0)})}};ue.\u0275fac=function(o){return new(o||ue)(e.Y36(S._M),e.Y36(m.mix),e.Y36(f.gz),e.Y36(m.KDu))},ue.\u0275cmp=e.Xpm({type:ue,selectors:[["cw-player-email-alert"]],decls:3,vars:5,consts:function(){let t,o;return t=$localize`:␟3f2b019e8ab4b90e98b41bd443332fb3011bc738␟3252512529074508225:${"\ufffd*2:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: Sending validation email... ${"\ufffd/#1:1\ufffd\ufffd/*2:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd*4:2\ufffd"}:START_TAG_NG_TEMPLATE: Email Verification: We have sent an email to ${"\ufffd0:2\ufffd"}:INTERPOLATION:. Please check your e-mail and follow link provided. Or click here and set a new e-mail address. ${"\ufffd/*4:2\ufffd"}:CLOSE_TAG_NG_TEMPLATE:`,o=$localize`:␟a5750e861d19e80bc9045a9958e0bd4fe2e65105␟5779390557739849858:Email Verification: Please click here to set an e-mail for validation`,[[4,"ngIf"],[3,"dismissable","routerLink"],["inlineSVG","assets/icons/message.svg",1,"mr-2"],t,[4,"ngIf","ngIfElse"],["sent",""],o]},template:function(o,n){1&o&&(e.YNc(0,Ao,6,6,"ng-container",0),e.ALo(1,"push"),e.ALo(2,"push")),2&o&&e.Q6J("ngIf",e.lcZ(1,1,n.isMe$)&&e.lcZ(2,3,n.user$))},directives:[p.O5,uo.w,f.rH,le.d$],pipes:[Y.f],styles:["cw-alert[_ngcontent-%COMP%]{position:absolute;margin:calc(var(--vertical-spacing) * -1) calc(var(--horizontal-spacing) * -1) 0;width:100%}cw-alert[_ngcontent-%COMP%]    >div{background-color:var(--primary);color:var(--light);cursor:pointer}"],changeDetection:0}),ue=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,m.mix,f.gz,m.KDu])],ue);var Qe=r(24750),So=r(94394),te=r(6535),ho=r(56451),et=r(71884),De=r(23322),tt=r(89979),Mo=r(36656),Ge=r(1094);function Eo(t,o){if(1&t&&(e._UZ(0,"cw-select-navigator",4),e.ALo(1,"async")),2&t){const n=e.oxw(2);e.Q6J("currentIndex",e.lcZ(1,2,n.index$))("navListItems",n.navListItems)}}function Co(t,o){if(1&t&&(e.TgZ(0,"li",9),e.TgZ(1,"a",10),e._uU(2),e.qZA(),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",n.routerLink)("queryParams",n.queryParameters),e.xp6(1),e.Oqu(n.label)}}function Io(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Co,3,3,"li",8),e.BQk()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("cwRoleIf",n.role)}}function Ro(t,o){if(1&t&&(e.TgZ(0,"a",13),e._uU(1,"Log out"),e.qZA()),2&t){const n=e.oxw(4);e.Q6J("href",n.logoutUrl,e.LSH)}}function Lo(t,o){if(1&t&&(e.TgZ(0,"div",11),e.YNc(1,Ro,2,1,"a",12),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,n.isUserLoggedIn$)&&e.lcZ(3,3,n.canViewPrivate$))}}function vo(t,o){if(1&t&&(e.TgZ(0,"ul",5),e.YNc(1,Io,2,1,"ng-container",6),e.YNc(2,Lo,4,5,"div",7),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.navListItems),e.xp6(1),e.Q6J("cwMediaIf","gt-sm")}}function No(t,o){if(1&t&&(e.TgZ(0,"nav",1),e.YNc(1,Eo,2,4,"cw-select-navigator",2),e.YNc(2,vo,3,2,"ul",3),e.qZA()),2&t){const n=e.oxw();e.Q6J("ngClass.gt-xs","CSGORoll"!=n.appConfig.appName?"mb-4 mt-4":""),e.xp6(1),e.Q6J("cwMediaIf","lt-md"),e.xp6(1),e.Q6J("cwMediaIf","gt-sm")}}let me=class{constructor(o,n,i,a,_,l){this.appConfig=o,this.route=n,this.userService=i,this.authService=a,this.router=l,this.isMe$=(0,b.a)([this.route.paramMap,this.userService.user$]).pipe((0,u.U)(([c,g])=>g&&g.id===c.get("id"))),this.canViewPrivate$=(0,b.a)([this.isMe$,this.userService.user$]).pipe((0,u.U)(([c,g])=>g&&(g.roles.includes(y.i.MANAGER)||c))),this.logoutUrl=this.authService.getLogoutUrl(),this.isUserLoggedIn$=this.userService.isUserLoggedIn$,this.index$=(0,ho.T)(this.router.events.pipe((0,oe.h)(c=>c instanceof f.m2)),this.route.fragment).pipe((0,u.U)((c,g)=>this.getCurrentIndex()),(0,et.x)()),(0,b.a)([this.canViewPrivate$,this.isMe$,this.userService.roles$]).pipe((0,C.t)(this)).subscribe(([c,g,d])=>{this.navListItems=this.getNavListItems(c,g,d),_.markForCheck()})}getNavListItems(o,n,i){var a,_,l,c,g;const d=i.some(v=>v!==y.i.USER);let T=[{routerLink:["./summary"],label:"Account"},{routerLink:["./stats"],label:"Stats"}];return T.push(d?{routerLink:["./inventory"],label:this.appConfig.inventory.menu.label}:{routerLink:["/player/my-inventory"],label:this.appConfig.inventory.menu.label}),o&&(T.push({routerLink:["./documents"],label:"Documents"}),this.appConfig.products.eSports&&this.route.params.pipe((0,ee.q)(1),(0,u.U)(v=>v.id)).subscribe(v=>{T.push({routerLink:["/e-sports/bets"],queryParameters:{tab:So.BetsPageTab.HISTORY,playerId:v},label:"E-Sports"})}),this.appConfig.products.crash&&T.push({routerLink:["./crash"],label:"Crash"}),this.appConfig.products.dice&&T.push({routerLink:["./dice"],label:"Dice"}),this.appConfig.products.pvp&&T.push({routerLink:["./pvp"],label:"PVP"}),this.appConfig.products.quickUpgrade&&T.push({routerLink:["./upgrade"],label:"Quick upgrade"}),this.appConfig.products.boxes&&T.push({routerLink:["./unboxing"],label:this.appConfig.siteType===te.NM.ECOMMERCE?"Unboxing history":"Unboxing"},{routerLink:["./fairness"],label:"Fairness"}),this.appConfig.products.roulette&&T.push({routerLink:["./bets"],label:"Roll"}),this.appConfig.products.plinko&&T.push({routerLink:["./plinko"],label:"Plinko"}),this.appConfig.products.trades&&((null===(a=this.appConfig.trades)||void 0===a?void 0:a.steamTradeHistory)&&T.push({routerLink:["./steam-trade-history"],label:"Steam Trade History",role:y.i.MANAGER}),(null===(_=this.appConfig.trades)||void 0===_?void 0:_.p2pTrades)&&T.push({routerLink:["./trades"],label:"P2P trades"}),(null===(l=this.appConfig.trades)||void 0===l?void 0:l.waxPeerTrades)&&T.push({routerLink:["./wax-peer-trades"],label:"WaxPeer trades"}),(null===(c=this.appConfig.trades)||void 0===c?void 0:c.userDepositWithdrawal)&&T.push({routerLink:["./user-deposit-withdrawal"],label:"Deposits / Withdrawals"}),(null===(g=this.appConfig.trades)||void 0===g?void 0:g.waxPeerTrades)&&T.push({routerLink:["./steam-inventory"],label:"Steam Inventory",role:y.i.SUPPORT})),T=[...T,{routerLink:["./transactions"],label:"Transactions"},{routerLink:["./messages"],label:"Messages",role:y.i.MODERATOR},{routerLink:["./top-ups"],label:"Top-ups"},{routerLink:["./promo-codes"],label:"Promo codes"}]),T}getCurrentIndex(){var o;const i=new RegExp(`./${this.route.snapshot.children[0].routeConfig.path}`);return null===(o=this.navListItems)||void 0===o?void 0:o.indexOf(this.navListItems.find(_=>(_.routerLink[0]||"").match(i)))}};me.\u0275fac=function(o){return new(o||me)(e.Y36(m.qBz),e.Y36(f.gz),e.Y36(m.KDu),e.Y36(Qe.AuthService),e.Y36(e.sBO),e.Y36(f.F0))},me.\u0275cmp=e.Xpm({type:me,selectors:[["cw-player-nav"]],decls:1,vars:1,consts:[["class","card card-body","fxLayout","",3,"ngClass.gt-xs",4,"ngIf"],["fxLayout","",1,"card","card-body",3,"ngClass.gt-xs"],[3,"currentIndex","navListItems",4,"cwMediaIf"],["class","nav nav-pills w-100",4,"cwMediaIf"],[3,"currentIndex","navListItems"],[1,"nav","nav-pills","w-100"],[4,"ngFor","ngForOf"],["fxFlex","","class","text-right",4,"cwMediaIf"],["class","nav-item",4,"cwRoleIf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","queryParams"],["fxFlex","",1,"text-right"],["class","nav-item logout-link","mat-button","",3,"href",4,"ngIf"],["mat-button","",1,"nav-item","logout-link",3,"href"]],template:function(o,n){1&o&&e.YNc(0,No,3,3,"nav",0),2&o&&e.Q6J("ngIf",n.navListItems&&n.navListItems.length>0)},directives:[p.O5,L.xw,De.oO,tt.h,Mo.l,p.sg,Ge.P,f.yS,f.Od,L.yH,D.zs],pipes:[p.Ov],styles:["nav.card[_ngcontent-%COMP%]{background-color:transparent}.logout-link[_ngcontent-%COMP%]{font-size:12px;font-weight:500;text-transform:uppercase}.nav-item[_ngcontent-%COMP%]{margin-bottom:.5rem}"],changeDetection:0}),me=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[Object,f.gz,m.KDu,Qe.AuthService,e.sBO,f.F0])],me);const Oo=E.Ps`
  mutation ChangeSupplier($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        supplier
      }
    }
  }
`;let pe=class{constructor(o,n,i,a){this.apollo=o,this.fb=n,this.changeRef=i,this.toastr=a,this.form=this.fb.group({supplier:!1})}set user(o){this._user=o,this.form.patchValue({supplier:o.supplier})}get user(){return this._user}ngOnInit(){this.form.valueChanges.pipe((0,C.t)(this)).subscribe(o=>{if(!this.form.invalid&&o.supplier!==this.user.supplier)return this.apollo.mutate({mutation:Oo,variables:{input:{userId:this.user.id,supplier:this.form.value.supplier}}}).pipe((0,B.x)(()=>{this.changeRef.markForCheck()})).subscribe(()=>{this.toastr.success("Supplier value changed")})})}};pe.\u0275fac=function(o){return new(o||pe)(e.Y36(S._M),e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z._W))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["cw-supplier-edit-form"]],inputs:{user:"user"},decls:2,vars:1,consts:[["novalidate","",3,"formGroup"],["color","primary","formControlName","supplier",1,"w-100"]],template:function(o,n){1&o&&(e.TgZ(0,"form",0),e._UZ(1,"mat-checkbox",1),e.qZA()),2&o&&e.Q6J("formGroup",n.form)},directives:[s._Y,s.JL,s.sg,ye.oG,s.JJ,s.u],styles:[""],changeDetection:0}),pe=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,s.qu,e.sBO,Z._W])],pe);const yo=E.Ps`
  mutation RevertUser($input: RevertUserInput!) {
    revertUser(input: $input) {
      user {
        id
      }
    }
  }
`;var ne=r(79586);let It=(()=>{class t{constructor(n,i,a,_){this.apollo=n,this.fb=i,this.changeRef=a,this.toastr=_,this.reverting=!1}ngOnInit(){this.form=this.fb.group({dateTime:[new Date("2019-03-29T02:00:00.000Z"),s.kI.required]})}onSubmit(){if(this.form.invalid)return;this.reverting=!0;const n=Object.assign({userId:this.user.id},this.form.value);this.apollo.mutate({mutation:yo,variables:{input:n}}).pipe((0,B.x)(()=>{this.reverting=!1,this.toastr.success("User has been reverted back to the datetime specified"),this.changeRef.markForCheck()})).subscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M),e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-revert-form"]],inputs:{user:"user"},decls:5,vars:2,consts:function(){let o;return o=$localize`:␟47d4d0d630fb480e6f7dd6eb684f15877e8db9f2␟7828808805120058354:Revert`,[["novalidate","",3,"formGroup","ngSubmit"],["fxLayout","row wrap","fxLayoutAlign","start center"],["ngClass.xs","w-100","type","submit","mat-flat-button","","color","warn"],[3,"loading"],o]},template:function(n,i){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(1,"section",1),e.TgZ(2,"button",2),e.TgZ(3,"cw-loader",3),e.SDv(4,4),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Q6J("formGroup",i.form),e.xp6(3),e.Q6J("loading",i.reverting))},directives:[s._Y,s.JL,s.sg,L.xw,L.Wh,D.lW,De.oO,ne.R],styles:[""],changeDetection:0}),t})();var Ie=r(62650),xo=r(87254),Re=r(31495),Po=r(78029);let Rt=(()=>{class t{constructor(n,i,a){this.localStorage=n,this.fb=i,this.soundService=a,this.form=this.fb.group({volume:null,defaultVolume:[!1]})}ngOnInit(){const n=this.localStorage.get(Ie.F.SOUNDS_VOLUME);this.form.setValue(n?{volume:n,defaultVolume:!1}:{volume:null,defaultVolume:!0})}updateVolume(n){this.form.setValue({volume:n.value,defaultVolume:!1}),this.localStorage.set(Ie.F.SOUNDS_VOLUME,this.form.get("volume").value)}resetVolume(n){n.checked?(this.localStorage.set(Ie.F.SOUNDS_VOLUME,null),this.form.setValue({volume:null,defaultVolume:!0}),this.soundService.preloadAll()):this.localStorage.set(Ie.F.SOUNDS_VOLUME,this.form.get("volume").value)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(xo.n2),e.Y36(s.qu),e.Y36(m.yu5))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-volume-edit-form"]],decls:6,vars:1,consts:[[3,"formGroup"],["inlineSVG","assets/icons/volume-down.svg","title","Volume Down"],["thumbLabel","","min","1","max","100","step","1","formControlName","volume",3,"change"],["inlineSVG","assets/icons/volume-up.svg","title","Volume Up",1,"mr-3"],["color","primary","formControlName","defaultVolume",3,"change"]],template:function(n,i){1&n&&(e.TgZ(0,"form",0),e._UZ(1,"cw-icon",1),e.TgZ(2,"mat-slider",2),e.NdJ("change",function(_){return i.updateVolume(_)}),e.qZA(),e._UZ(3,"cw-icon",3),e.TgZ(4,"mat-checkbox",4),e.NdJ("change",function(_){return i.resetVolume(_)}),e._uU(5," Restore to default "),e.qZA(),e.qZA()),2&n&&e.Q6J("formGroup",i.form)},directives:[s._Y,s.JL,s.sg,Re.o,le.d$,Po.pH,s.JJ,s.u,ye.oG],styles:[".mat-slider-horizontal[_ngcontent-%COMP%]{min-width:40%}"],changeDetection:0}),t})();var qe=r(4834),$=r(48966),Le=r(18505),Uo=r(50590),bo=r(95577),Do=r(54244);const Zo=E.Ps`
  fragment EnabledAchievement on Achievement {
    id
    name
    description
    imageUrl
    createdAt
    rewards {
      type
      amount
      walletType
    }
  }
`,$o=E.Ps`
  query EnabledAchievements($first: PaginationAmount) {
    achievements(orderBy: CREATED_AT_DESC, enabled: true, first: $first) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        cursor
        node {
          ...EnabledAchievement
        }
      }
    }
  }

  ${Zo}
`,wo=E.Ps`
  fragment ClaimedUserAchievement on UserAchievement {
    id
    achievementId
    createdAt
    userId
  }
`,Bo=E.Ps`
  query UserAchievements($userIds: [ID!]!, $first: PaginationAmount) {
    userAchievements(userIds: $userIds, first: $first) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          ...ClaimedUserAchievement
        }
      }
    }
  }

  ${wo}
`;let z=class{constructor(o,n){this.apollo=o,this.userService=n,this.currentProfileId=null}getEnabledAchievementsDataSource(){return new m.g3E(this.apollo,{query:$o,field:"achievements",variables:{},fetchPolicy:"cache-first"})}getUserAchievementsDataSource$(o){const{userId$:n}=this.userService,i=a=>new m.g3E(this.apollo,{query:Bo,field:"userAchievements",variables:{userIds:a}});return n.pipe((0,Uo.P)(m.$KD),(0,u.U)(a=>a===o?[i([o]),a]:[i([o,a]),a]))}getAchievements(o){if(this.userAchievements$&&this.currentProfileId===o)return this.userAchievements$;this.currentProfileId=o;const n=this.getEnabledAchievementsDataSource(),i=this.getUserAchievementsDataSource$(o);let a=!1;return this.userAchievements$=i.pipe((0,bo.z)(([_,l])=>(0,b.a)([n.connect().pipe((0,C.t)(this)),_.connect().pipe((0,C.t)(this)),n.loading$,_.loading$]).pipe((0,Do.n)(([,,c,g])=>{if(c||g||a)return!0;let d=!1;return n.hasMore()&&((()=>{(0,I.mG)(this,void 0,void 0,function*(){a=!0,yield n.fetchMore(),a=!1})})(),d=!0),_.hasMore()&&((()=>{(0,I.mG)(this,void 0,void 0,function*(){a=!0,yield _.fetchMore(),a=!1})})(),d=!0),d}),(0,u.U)(([c,g])=>{const[T,v]=((k=o===l)=>k?[g,[]]:g.reduce(([X,H],ae)=>{const{userId:_e}=ae;return o===_e?[[...X,ae],H]:l===_e?[X,[...H,ae]]:[X,H]},[[],[]]))(),j=v.length?c.filter(k=>!T.some(({achievementId:H})=>H===k.id)||v.some(({achievementId:H})=>H===k.id)):c,[ie,N]=j.reduce(([k,X],H)=>{const ae=T.find(({achievementId:_e})=>_e===H.id);if(ae){const{createdAt:_e}=ae;return[[...k,Object.assign(Object.assign({},H),{claimedAt:_e,isClaimed:!0})],[...X]]}return[[...k],[...X,Object.assign(Object.assign({},H),{isClaimed:!1})]]},[[],[]]);return[...ie.sort(({claimedAt:k},{claimedAt:X})=>new Date(X).getTime()-new Date(k).getTime()),...N.sort(({createdAt:k},{createdAt:X})=>new Date(X).getTime()-new Date(k).getTime())]}))),(0,C.t)(this),(0,B.x)(()=>{this.userAchievements$=null}),(0,V.d)({bufferSize:1,refCount:!0})),this.userAchievements$}};z.\u0275fac=function(o){return new(o||z)(e.LFG(S._M),e.LFG(m.KDu))},z.\u0275prov=e.Yz7({token:z,factory:z.\u0275fac}),z=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,m.KDu])],z);var nt=r(20820),Lt=r(29155);const Yo=["class","ts"];function Fo(t,o){1&t&&e.GkF(0)}const vt=function(t){return{achievements:t}};function Qo(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Fo,1,0,"ng-container",8),e.BQk()),2&t){const n=e.oxw().$implicit;e.oxw();const i=e.MAs(7);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,vt,n))}}function Go(t,o){1&t&&(e.ynx(0),e._UZ(1,"cw-loader",9),e.BQk()),2&t&&(e.xp6(1),e.Q6J("loading",!0))}function qo(t,o){1&t&&(e.ynx(0),e.TgZ(1,"p",10),e.SDv(2,11),e.qZA(),e.BQk())}function Jo(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Qo,2,4,"ng-container",7),e.YNc(2,Go,2,1,"ng-container",7),e.YNc(3,qo,3,0,"ng-container",7),e.BQk()),2&t){const n=o.$suspense,i=o.$error;e.xp6(1),e.Q6J("ngIf",!n&&!i),e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",i)}}function Wo(t,o){1&t&&e.GkF(0)}function ko(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Wo,1,0,"ng-container",12),e.BQk()),2&t){e.oxw(2);const n=e.MAs(9);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Xo(t,o){1&t&&e.GkF(0)}function Ho(t,o){if(1&t&&(e.YNc(0,ko,2,1,"ng-container",7),e.YNc(1,Xo,1,0,"ng-container",8)),2&t){const n=o.achievements,i=e.oxw(),a=e.MAs(11);e.Q6J("ngIf",i.filterButtonGroup.length),e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.VKq(3,vt,n))}}function Vo(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"button",15),e.NdJ("click",function(){const _=e.CHM(n).$implicit;return e.oxw(3).achievementsFilter$.next(_)}),e._uU(2),e.qZA(),e.BQk()}if(2&t){const n=o.$implicit,i=e.oxw().$implicit;e.xp6(1),e.ekj("active",i===n),e.xp6(1),e.hij(" ",n," ")}}function zo(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",13),e.YNc(2,Vo,3,3,"ng-container",14),e.qZA(),e.BQk()),2&t){const n=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",n.filterButtonGroup)}}function jo(t,o){if(1&t&&e.YNc(0,zo,3,1,"ng-container",3),2&t){const n=e.oxw();e.Q6J("rxLet",n.achievementsFilter$)}}function Ko(t,o){1&t&&(e.ynx(0),e.TgZ(1,"p",17),e.SDv(2,18),e.qZA(),e.BQk())}function ei(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e._UZ(2,"cw-player-achievement",19),e.qZA(),e.BQk()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("imageUrl",n.imageUrl)("isClaimed",n.isClaimed)("name",n.name)("description",n.description)("isDetailedView",!0)("rewards",n.rewards)}}function ti(t,o){if(1&t&&(e.YNc(0,Ko,3,0,"ng-container",7),e.TgZ(1,"div",16),e.YNc(2,ei,3,6,"ng-container",14),e.qZA()),2&t){const n=o.achievements;e.Q6J("ngIf",!n.length),e.xp6(2),e.Q6J("ngForOf",n)}}let Nt=(()=>{class t{constructor(n,i,a){var _;this.appConfig=n,this.achievementsService=i,this.data=a,this.PlayerAchievementsModalFilter=te.c8;const{modalFilters:l,modalDefaultFilter:c}=(null===(_=this.appConfig.achievements)||void 0===_?void 0:_.playerAchievements)||t.getDefaultConfig();this.filterButtonGroup=[...l],this.achievementsFilter$=new q.X(c)}ngOnInit(){const{profileId:n}=this.data,i=a=>({isClaimed:_})=>_===a;this.achievements$=(0,b.a)([this.achievementsService.getAchievements(n),this.achievementsFilter$]).pipe((0,u.U)(([a,_])=>{switch(_){case te.c8.ACTIVE:return a.filter(i(!1));case te.c8.COMPLETED:return a.filter(i(!0));default:return a}}))}}return t.panelClass="player-achievements-modal",t.getDefaultConfig=()=>({modalFilters:[],modalDefaultFilter:te.c8.ALL}),t.\u0275fac=function(n){return new(n||t)(e.Y36(m.qBz),e.Y36(z),e.Y36($.WI))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-player-achievements-modal",8,"ts"]],attrs:Yo,decls:12,vars:1,consts:function(){let o,n;return o=$localize`:␟fc5c35d407128d03915860453f7805aed9ea021d␟4988841683223348934:Unexpected error happened loading achievements`,n=$localize`:␟952738fba7447cc34ed54ad4a1c04783f9d1fef2␟8733352174985823720:Nothing here`,[["mat-dialog-title",""],["mat-icon-button","","mat-dialog-close","",1,"close"],["inlineSVG","assets/icons/close.svg",1,"close-modal-icon"],[4,"rxLet"],["modalContentTpl",""],["filterButtonGroupTpl",""],["achievementsTpl",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"loading"],[1,"text-danger","text-center"],o,[4,"ngTemplateOutlet"],[1,"button-group"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",1,"text-uppercase",3,"click"],[1,"achievements-list"],[1,"text-center"],n,[3,"imageUrl","isClaimed","name","description","isDetailedView","rewards"]]},template:function(n,i){1&n&&(e.TgZ(0,"span",0),e._uU(1," \xa0 "),e.TgZ(2,"button",1),e._UZ(3,"cw-icon",2),e.qZA(),e.qZA(),e.TgZ(4,"mat-dialog-content"),e.YNc(5,Jo,4,3,"ng-container",3),e.YNc(6,Ho,2,5,"ng-template",null,4,e.W1O),e.qZA(),e.YNc(8,jo,1,1,"ng-template",null,5,e.W1O),e.YNc(10,ti,3,2,"ng-template",null,6,e.W1O)),2&n&&(e.xp6(5),e.Q6J("rxLet",i.achievements$))},directives:[$.uh,D.lW,$.ZT,Re.o,le.d$,$.xY,nt.e,p.O5,p.tP,ne.R,p.sg,Lt.g],styles:[".mat-dialog-title[_ngcontent-%COMP%]{margin:0;height:1rem}.mat-dialog-content[_ngcontent-%COMP%]{max-height:calc(100% - 1rem)}@media (min-width: 576px){.mat-dialog-content[_ngcontent-%COMP%]{max-height:unset}}.achievements-list[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:repeat(auto-fill,minmax(9.125rem,1fr));grid-gap:.75rem;gap:.75rem}@media (min-width: 576px){.achievements-list[_ngcontent-%COMP%]{padding:0 .75rem;grid-template-columns:repeat(auto-fill,minmax(11.25rem,1fr));grid-gap:1.25rem;gap:1.25rem}}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:2rem}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 .3125rem}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active){background-color:#1a1e23}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active)  span{color:#d8d8e2}"]}),t})();function ni(t,o){1&t&&e.GkF(0)}const oi=function(t){return{achievements:t}};function ii(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ni,1,0,"ng-container",3),e.BQk()),2&t){const n=e.oxw().$implicit;e.oxw();const i=e.MAs(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,oi,n))}}function ai(t,o){1&t&&(e.ynx(0),e._UZ(1,"cw-loader",4),e.BQk()),2&t&&(e.xp6(1),e.Q6J("loading",!0))}function _i(t,o){1&t&&(e.ynx(0),e.TgZ(1,"p",5),e.SDv(2,6),e.qZA(),e.BQk())}function ri(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ii,2,4,"ng-container",2),e.YNc(2,ai,2,1,"ng-container",2),e.YNc(3,_i,3,0,"ng-container",2),e.BQk()),2&t){const n=o.$suspense,i=o.$error;e.xp6(1),e.Q6J("ngIf",!n&&!i),e.xp6(1),e.Q6J("ngIf",n),e.xp6(1),e.Q6J("ngIf",i)}}function si(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div"),e._UZ(2,"cw-player-achievement",19),e.qZA(),e.BQk()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("imageUrl",n.imageUrl)("isClaimed",n.isClaimed)("name",n.name)}}function ci(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"section",7),e.NdJ("click",function(a){return e.CHM(n),e.oxw().openAchievementsModal(a)}),e.TgZ(1,"div",8),e.TgZ(2,"div",9),e.TgZ(3,"h5",10),e.SDv(4,11),e.qZA(),e.TgZ(5,"h5",12),e._uU(6),e.ALo(7,"push"),e.qZA(),e.qZA(),e.TgZ(8,"div",13),e.TgZ(9,"div",14),e.YNc(10,si,3,3,"ng-container",15),e.qZA(),e.qZA(),e.TgZ(11,"div",16),e.TgZ(12,"button",17),e.NdJ("click",function(a){return e.CHM(n),e.oxw().openAchievementsModal(a)}),e.SDv(13,18),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=o.achievements,i=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,2,i.achievementsRatio$)," "),e.xp6(4),e.Q6J("ngForOf",n)}}let de=class{constructor(o,n,i){this.achievementsService=o,this.activatedRoute=n,this.matDialog=i,this.profileId$=new q.X(null),this.achievementsRatio$=new q.X("-/-")}ngOnInit(){const o=this.activatedRoute.params.pipe((0,oe.h)(m.$KD),(0,u.U)(({id:i})=>i),(0,oe.h)(m.$KD),(0,Le.b)(i=>{this.profileId$.next(i)}),(0,et.x)(),(0,C.t)(this));let{openAchievementModal:n}=this.activatedRoute.snapshot.queryParams;this.achievements$=o.pipe((0,Q.w)(i=>this.achievementsService.getAchievements(i).pipe((0,Le.b)(a=>{n&&(this.openAchievementsModal(),n=!1);const _=a.length,l=a.reduce((c,{isClaimed:g})=>g?c+1:c,0);this.achievementsRatio$.next(`${l}/${_}`)}),(0,u.U)(a=>a.slice(0,30)))))}openAchievementsModal(o){o&&(o.preventDefault(),o.stopPropagation()),this.matDialog.open(Nt,{width:"860px",data:{profileId:this.profileId$.getValue()},panelClass:Nt.panelClass})}};de.\u0275fac=function(o){return new(o||de)(e.Y36(z),e.Y36(f.gz),e.Y36($.uw))},de.\u0275cmp=e.Xpm({type:de,selectors:[["cw-player-achievements"]],decls:3,vars:1,consts:function(){let t,o,n;return t=$localize`:␟fc5c35d407128d03915860453f7805aed9ea021d␟4988841683223348934:Unexpected error happened loading achievements`,o=$localize`:␟0c2d2ffa150f07cde368ab144c7918e0d4e16421␟1130914636248035703:Achievements`,n=$localize`:␟b54f72c28e92078885c176c2a9c876a90134215d␟2232577436977342846:View achievements`,[[4,"rxLet"],["achievementsTpl",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"loading"],[1,"text-danger","text-center"],t,[1,"achievements",3,"click"],[1,"card-body","card-achievements","w-100"],[1,"score"],[1,"text"],o,[1,"value"],[1,"achievements-list-container"],[1,"achievements-list"],[4,"ngFor","ngForOf"],[1,"achievements-list-view-button"],["mat-button","","color","primary",3,"click"],n,[3,"imageUrl","isClaimed","name"]]},template:function(o,n){1&o&&(e.YNc(0,ri,4,3,"ng-container",0),e.YNc(1,ci,14,4,"ng-template",null,1,e.W1O)),2&o&&e.Q6J("rxLet",n.achievements$)},directives:[nt.e,p.O5,p.tP,ne.R,p.sg,D.lW,Lt.g],pipes:[Y.f],styles:["section.achievements[_ngcontent-%COMP%]{padding:0 24px;background-color:var(--user-profile-achievements-bg-color)}.card-achievements[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.score[_ngcontent-%COMP%]{flex:1 1 8rem}.score[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.75rem;line-height:.75rem;text-transform:uppercase;font-weight:600}.score[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--user-profile-text-primary-color)}.score[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--user-profile-text-secondary-color)}.achievements-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden;justify-content:space-around;height:2.5rem}.achievements-list-container[_ngcontent-%COMP%]{display:flex;flex:1 1 calc(100% - 8rem)}@media (min-width: 576px){.achievements-list-container[_ngcontent-%COMP%]{flex:1 1 calc(100% - 20rem)}}.achievements-list-view-button[_ngcontent-%COMP%]{display:none}@media (min-width: 576px){.achievements-list-view-button[_ngcontent-%COMP%]{display:flex;flex:1 1 12rem;justify-content:flex-end}}.achievements-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .5rem}button[_ngcontent-%COMP%]{padding:0}button[_ngcontent-%COMP%]     span{text-transform:uppercase;color:#00e258}"],changeDetection:0}),de=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[z,f.gz,$.uw])],de);let Ot=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[z],imports:[[p.ez,A.vY]]}),t})();const li=E.Ps`
  mutation ChangeCustomTitle($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        customTitle
        customTitleColor
      }
    }
  }
`;let yt=(()=>{class t{constructor(n,i,a,_){this.apollo=n,this.fb=i,this.changeRef=a,this.toastr=_,this.submitting$=new q.X(!1),this.form=this.fb.group({customTitle:"",customTitleColor:""})}set user(n){this._user=n,this.form.patchValue(n)}get user(){return this._user}onSubmit(){if(!this.form.invalid)return this.submitting$.next(!0),this.apollo.mutate({mutation:li,variables:{input:{userId:this.user.id,customTitle:this.form.value.customTitle,customTitleColor:this.form.value.customTitleColor}}}).pipe((0,B.x)(()=>{this.submitting$.next(!1),this.changeRef.markForCheck()})).subscribe(()=>{this.toastr.success("Custom title/colour changed")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M),e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-custom-title-edit-form"]],inputs:{user:"user"},decls:14,vars:7,consts:function(){let o,n,i;return o=$localize`:␟439941ae083430e49bf84bf1ce7777efbb480ff3␟3370293723259168702:Custom Title`,n=$localize`:␟fa11d3ea72ac0b7fefae8303ba1ae0dae1b66bf1␟206635703410277881:Custom Color`,i=$localize`:␟024cdb2814b0cb3f4ced148f1a0b9854447cb214␟1230154438678955604:Change`,[["novalidate","",3,"formGroup","ngSubmit"],[1,"w-100"],o,["matInput","","type","text","formControlName","customTitle","maxlength","32"],n,["matInput","","type","color","placeholder","#123456","formControlName","customTitleColor","maxlength","7"],["type","submit","mat-flat-button","","color","primary",1,"d-block",3,"disabled"],[3,"loading"],i]},template:function(n,i){1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(1,"mat-form-field",1),e.TgZ(2,"mat-label"),e.SDv(3,2),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e.SDv(7,4),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"button",6),e.ALo(10,"push"),e.TgZ(11,"cw-loader",7),e.SDv(12,8),e.ALo(13,"push"),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Q6J("formGroup",i.form),e.xp6(9),e.Q6J("disabled",e.lcZ(10,3,i.submitting$)),e.xp6(2),e.Q6J("loading",e.lcZ(13,5,i.submitting$)))},directives:[s._Y,s.JL,s.sg,O.KE,O.hX,Ee.Nt,s.Fj,s.JJ,s.u,s.nD,D.lW,ne.R],pipes:[Y.f],styles:[""],changeDetection:0}),t})();const ui=[A.vY,qe.t,Ot];let ot=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[ui,A.vY,qe.t,Ot]}),t})();const Je=E.Ps`
  fragment Document on Document {
    id
    verified
    createdAt
    asset {
      id
      url
      fileName
      fileSize
    }
  }
`,mi=E.Ps`
  query DocumentList($userId: ID!) {
    documents(userId: $userId) {
      edges {
        node {
          ...Document
        }
      }
    }
  }

  ${Je}
`,pi=E.Ps`
  mutation DeleteDocument($input: DeleteDocumentInput!) {
    deleteDocument(input: $input) {
      document {
        id
      }
    }
  }
`;var xt=r(60059);function di(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"h5",5),e.TgZ(3,"a",6),e._uU(4),e.qZA(),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.ALo(7,"fileSize"),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.qZA(),e.TgZ(11,"div"),e.TgZ(12,"button",7),e.NdJ("click",function(){const _=e.CHM(n).$implicit;return e.oxw(2).onClickDelete(_)}),e.ALo(13,"push"),e.TgZ(14,"cw-loader",8),e.ALo(15,"push"),e._uU(16,"Delete"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=o.$implicit,i=e.oxw(2);e.ekj("deleted",i.isDeleted(n)),e.xp6(3),e.Q6J("href",n.asset.url,e.LSH),e.xp6(1),e.Oqu(n.asset.fileName),e.xp6(2),e.Oqu(e.lcZ(7,8,n.asset.fileSize)),e.xp6(3),e.Oqu(e.lcZ(10,10,n.createdAt)),e.xp6(3),e.Q6J("disabled",e.lcZ(13,12,i.deleting$)),e.xp6(2),e.Q6J("loading",e.lcZ(15,14,i.deleting$)===n)}}function gi(t,o){if(1&t&&(e.TgZ(0,"div",1),e.YNc(1,di,17,16,"div",2),e.qZA()),2&t){const n=o.ngIf;e.xp6(1),e.Q6J("ngForOf",n)}}let Pt=(()=>{class t{constructor(n){this.apollo=n,this.deleted$=new q.X([]),this.deleting$=new q.X(null)}set userId(n){n&&this.fetchDocuments(n)}isDeleted(n){return this.deleted$.value.includes(n)}onClickDelete(n){return this.deleting$.next(n),this.apollo.mutate({mutation:pi,variables:{input:{id:n.id}}}).pipe((0,B.x)(()=>{this.deleting$.next(null)})).subscribe(()=>{this.deleted$.next(this.deleted$.value.concat(n))})}fetchDocuments(n){this.documents$=this.apollo.watchQuery({query:mi,variables:{userId:n}}).valueChanges.pipe((0,u.U)(({data:a})=>a.documents.edges.map(_=>_.node)))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-document-list"]],inputs:{userId:"userId"},decls:2,vars:3,consts:[["class","media-list text-left",4,"ngIf"],[1,"media-list","text-left"],["class","media mb-3",3,"deleted",4,"ngFor","ngForOf"],[1,"media","mb-3"],[1,"media-body"],[1,"title"],["target","_blank","rel","noreferrer",3,"href"],["mat-flat-button","","color","danger",3,"disabled","click"],[3,"loading"]],template:function(n,i){1&n&&(e.YNc(0,gi,2,1,"div",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,i.documents$))},directives:[p.O5,p.sg,D.lW,ne.R],pipes:[p.Ov,xt.p,p.uU,Y.f],styles:[".media[_ngcontent-%COMP%]{padding:1rem}.media[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0}.media[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:unset}.media[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.media.deleted[_ngcontent-%COMP%]{background:rgba(255,0,0,.1)}.document-image[_ngcontent-%COMP%]{width:4.5rem;margin-right:1rem}"],changeDetection:0}),t})();const fi=E.Ps`
  mutation CreateDocument($input: CreateDocumentInput!) {
    createDocument(input: $input) {
      document {
        ...Document
      }
    }
  }

  ${Je}
`;E.Ps`
  mutation UpdateDocument($input: UpdateDocumentInput!) {
    updateDocument(input: $input) {
      document {
        ...Document
      }
    }
  }

  ${Je}
`,E.Ps`
  subscription OnCreateDocument {
    createDocument {
      document {
        ...Document
      }
    }
  }

  ${Je}
`;var Ut=r(43343);const Ti=["fileInput"];function Ai(t,o){if(1&t&&(e.TgZ(0,"mat-option",5),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n.value),e.xp6(1),e.Oqu(n.label)}}function Si(t,o){1&t&&(e.ynx(0),e.TgZ(1,"p",6),e._uU(2),e.ALo(3,"appConfig"),e.ALo(4,"appConfig"),e.qZA(),e.BQk()),2&t&&(e.xp6(2),e.AsE(" Identity documents will have to be a high-resolution picture of you holding your document. In the same image, have a reference to ",e.lcZ(3,2,"APP_NAME")," and today's date displayed in the picture - a note with the word \"",e.lcZ(4,4,"APP_NAME"),"\" and today's date. Make sure your face is clearly visible and that all passport details are clearly readable. "))}function hi(t,o){1&t&&(e.TgZ(0,"div",18),e._UZ(1,"cw-icon",19),e.TgZ(2,"div"),e.SDv(3,20),e.qZA(),e.qZA())}function Mi(t,o){if(1&t&&(e.TgZ(0,"div",23),e._UZ(1,"cw-icon",24),e.TgZ(2,"div",25),e.TgZ(3,"h4",26),e._uU(4),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.ALo(7,"fileSize"),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.$implicit;e.xp6(4),e.Oqu(n.name),e.xp6(2),e.Oqu(e.lcZ(7,3,n.size)),e.xp6(3),e.Oqu(e.lcZ(10,5,n.lastModified))}}function Ei(t,o){if(1&t&&(e.TgZ(0,"div",21),e.YNc(1,Mi,11,7,"div",22),e.qZA()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",n.form.get("upload").value)}}function Ci(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",7),e.NdJ("dragover",function(a){return e.CHM(n),e.oxw().onDragover(a)})("dragleave",function(a){return e.CHM(n),e.oxw().onDragleave(a)})("drop",function(a){return e.CHM(n),e.oxw().onDrop(a)}),e.TgZ(2,"input",8,9),e.NdJ("change",function(a){return e.CHM(n),e.oxw().onSelectFiles(a)}),e.qZA(),e.TgZ(4,"div"),e.ynx(5,10),e.YNc(6,hi,4,0,"div",11),e.YNc(7,Ei,2,1,"div",12),e.BQk(),e.TgZ(8,"button",13),e.NdJ("click",function(){return e.CHM(n),e.oxw().onButtonClick()}),e.TgZ(9,"cw-loader",14),e.SDv(10,15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",16),e.SDv(12,17),e.ALo(13,"fileSize"),e.qZA(),e.BQk()}if(2&t){const n=e.oxw();e.xp6(1),e.ekj("dragover",n.dragover),e.xp6(1),e.Q6J("accept",n.accept),e.uIk("multiple",n.multiple),e.xp6(3),e.Q6J("ngSwitch",!!n.form.get("upload").value),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("disabled",n.uploading),e.xp6(1),e.Q6J("loading",n.uploading),e.xp6(4),e.pQV(e.lcZ(13,11,n.maxSize))(n.accept),e.QtT(12)}}let ge=class{constructor(o,n,i,a){this.apollo=o,this.fb=n,this.changeRef=i,this.toastr=a,this.uploading=!1,this.dragover=!1,this.multiple=!1,this.maxSize=10485760,this.accept=".jpg, .jpeg, .png, .doc, .docx, .pdf",this.types=[{value:"IDENTITY",label:"Identity"},{value:"RESIDENCE",label:"Residence"}]}ngOnInit(){this.form=this.fb.group({type:["",s.kI.required],upload:["",s.kI.required]})}onDragover(o){this.dragover=!0,o.preventDefault()}onDragleave(o){this.dragover=!1,o.preventDefault()}onButtonClick(){this.fileInput.nativeElement.click()}onSelectFiles(o){const n=Array.from(o.target.files||[]);this.form.get("upload").setValue(n),this.onSubmit()}onDrop(o){if(this.dragover=!1,o.preventDefault(),o.dataTransfer){o.dataTransfer.dropEffect="copy";const n=o.dataTransfer.items?Array.from(o.dataTransfer.items).filter(({kind:i})=>"file"===i).map(i=>i.getAsFile()):Array.from(o.dataTransfer.files);this.form.get("upload").setValue(n),this.onSubmit()}}onChange(o){const{validity:n}=o.target;n.valid&&this.onSubmit()}onSubmit(){this.uploading=!0;const o=Object.assign({userId:this.userId},this.form.value);this.apollo.mutate({mutation:fi,variables:{input:o},context:{useMultipart:!0}}).pipe((0,B.x)(()=>{this.uploading=!1,this.changeRef.markForCheck()}),(0,C.t)(this)).subscribe(({data:n})=>{var i,a;(null===(a=null===(i=n.createDocument)||void 0===i?void 0:i.document)||void 0===a?void 0:a.id)?this.toastr.success("Successfully uploaded document"):this.toastr.error("Failed to upload document")})}};function Ii(t,o){1&t&&e.GkF(0)}function Ri(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Ii,1,0,"ng-container",4),e.BQk()),2&t){e.oxw();const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Li(t,o){1&t&&e.GkF(0)}function vi(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Li,1,0,"ng-container",4),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Ni(t,o){if(1&t&&e.YNc(0,vi,2,1,"ng-container",5),2&t){const n=e.oxw();e.Q6J("cwRoleIf",n.UserRole.RISK_FRAUD)}}function Oi(t,o){if(1&t&&(e.ynx(0),e.TgZ(1,"div",9),e._UZ(2,"cw-documents",10),e.qZA(),e._UZ(3,"cw-document-list",10),e.BQk()),2&t){const n=o.$implicit;e.xp6(2),e.Q6J("userId",n),e.xp6(1),e.Q6J("userId",n)}}function yi(t,o){if(1&t&&(e.TgZ(0,"div",6),e.TgZ(1,"h1"),e.SDv(2,7),e.qZA(),e.YNc(3,Oi,4,2,"ng-container",8),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("rxLet",n.userId$)}}ge.\u0275fac=function(o){return new(o||ge)(e.Y36(S._M),e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z._W))},ge.\u0275cmp=e.Xpm({type:ge,selectors:[["cw-documents"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ti,5),2&o){let i;e.iGM(i=e.CRH())&&(n.fileInput=i.first)}},inputs:{userId:"userId"},decls:8,vars:4,consts:function(){let t,o,n,i;return t=$localize`:␟2bd5919e8098513664a89d5b7b52d61e3063950f␟5066119607229701477:Document type`,o=$localize`:␟d80d67b3698eff86de180dbf4efa1b51c9252190␟3310804846291206227:Select file(s) on your computer`,n=$localize`:␟fb49cb9a954c3e8e3b24268ba5144e023238e0b2␟7878203468499226399:* Maximum file size: ${"\ufffd0\ufffd"}:INTERPOLATION:, Allowed File Types: ${"\ufffd1\ufffd"}:INTERPOLATION_1:`,i=$localize`:␟86836cbb969db87f6a8cb73add11551969f6791d␟7868474129404924437:Drop file(s) here to upload`,[[3,"formGroup","ngSubmit"],t,["formControlName","type",1,"custom-select"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"small"],[1,"drop-area",3,"dragover","dragleave","drop"],["type","file","hidden","",3,"accept","change"],["fileInput",""],[3,"ngSwitch"],["class","instructions",4,"ngSwitchCase"],["class","media-list",4,"ngSwitchCase"],["type","button","mat-flat-button","","color","primary",3,"disabled","click"],[3,"loading"],o,[1,"hint"],n,[1,"instructions"],["inlineSVG","assets/icons/file-image.svg"],i,[1,"media-list"],["class","media",4,"ngFor","ngForOf"],[1,"media"],["inlineSVG","assets/icons/file-image.svg",1,"mr-3"],[1,"media-body"],[1,"title"]]},template:function(o,n){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"mat-form-field"),e.TgZ(2,"mat-label"),e.SDv(3,1),e.qZA(),e.TgZ(4,"mat-select",2),e.YNc(5,Ai,2,2,"mat-option",3),e.qZA(),e.qZA(),e.YNc(6,Si,5,6,"ng-container",4),e.YNc(7,Ci,14,13,"ng-container",4),e.qZA()),2&o&&(e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngForOf",n.types),e.xp6(1),e.Q6J("ngIf","IDENTITY"===n.form.get("type").value),e.xp6(1),e.Q6J("ngIf",n.form.get("type").value))},directives:[s._Y,s.JL,s.sg,O.KE,O.hX,Ye.gD,s.JJ,s.u,p.sg,p.O5,Fe.ey,p.RF,p.n9,D.lW,ne.R,Re.o,le.d$],pipes:[Ut.O,xt.p,p.uU],styles:[".drop-area[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;border:2px dashed rgba(0,0,0,.5);padding:2rem 0;margin-bottom:.5rem}.drop-area.dragover[_ngcontent-%COMP%]{border-color:#000}.instructions[_ngcontent-%COMP%]{margin-bottom:1rem}.media-list[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:left}.media[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0}.media[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]{width:4.5rem}"],changeDetection:0}),ge=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,s.qu,e.sBO,Z._W])],ge);let bt=(()=>{class t{constructor(n,i){this.route=n,this.userService=i,this.UserRole=y.i,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(a=>(0,m.AWy)(a.get("id"),"User"))),this.roles$=this.userService.roles$,this.isMe$=(0,b.a)([this.userId$,this.userService.userId$]).pipe((0,u.U)(([a,_])=>a===_))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-documents"]],decls:7,vars:4,consts:function(){let o;return o=$localize`:␟9d51b3c90afda70700229d1b8a55371c13cb3bce␟4733307402565258070:Documents`,[[1,"mb-5"],[4,"ngIf","ngIfElse"],["riskFraudTpl",""],["userDocumentsTpl",""],[4,"ngTemplateOutlet"],[4,"cwRoleIf"],[1,"card-body"],o,[4,"rxLet"],[1,"mb-4"],[3,"userId"]]},template:function(n,i){if(1&n&&(e.TgZ(0,"section",0),e.YNc(1,Ri,2,1,"ng-container",1),e.ALo(2,"push"),e.YNc(3,Ni,1,1,"ng-template",null,2,e.W1O),e.qZA(),e.YNc(5,yi,4,1,"ng-template",null,3,e.W1O)),2&n){const a=e.MAs(4);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.isMe$))("ngIfElse",a)}},directives:[p.O5,p.tP,Ge.P,nt.e,ge,Pt],pipes:[Y.f],styles:[""],changeDetection:0}),t})();var We=(()=>{return(t=We||(We={})).REQUIRED="REQUIRED",t.UNDER_LIMIT="UNDER_LIMIT",t.VERIFIED="VERIFIED",We;var t})();const xi=E.Ps`
  mutation ChangeVerificationStatus($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        verificationStatus
      }
    }
  }
`;function Pi(t,o){if(1&t&&(e.TgZ(0,"mat-option",3),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(1),e.hij(" ",n," ")}}let Dt=(()=>{class t{constructor(n,i){this.apollo=n,this.confirmService=i,this.verificationStatusList=Object.keys(We)}ngOnInit(){this.ctrl=new s.NI(this.user.verificationStatus)}onSelectionChange(n){this.confirmService.confirm({}).pipe((0,oe.h)(i=>!!i),(0,Q.w)(()=>this.changeVerificationStatus(this.ctrl.value))).subscribe()}changeVerificationStatus(n){return this.apollo.mutate({mutation:xi,variables:{input:{userId:this.user.id,verificationStatus:n}}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M),e.Y36(A.zM))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-verification-status-select"]],inputs:{user:"user"},decls:3,vars:2,consts:[[1,"w-100"],[3,"formControl","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){1&n&&(e.TgZ(0,"mat-form-field",0),e.TgZ(1,"mat-select",1),e.NdJ("selectionChange",function(_){return i.onSelectionChange(_)}),e.YNc(2,Pi,2,2,"mat-option",2),e.qZA(),e.qZA()),2&n&&(e.xp6(1),e.Q6J("formControl",i.ctrl),e.xp6(1),e.Q6J("ngForOf",i.verificationStatusList))},directives:[O.KE,Ye.gD,s.JJ,s.oH,p.sg,Fe.ey],styles:[""],changeDetection:0}),t})();const Ui=[A.vY];let it=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[Ui,A.vY]}),t})();var bi=r(52693);let Zt=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-bets-list"]],decls:2,vars:3,consts:[[3,"userId"]],template:function(n,i){1&n&&(e._UZ(0,"cw-roulette-bet-table",0),e.ALo(1,"async")),2&n&&e.Q6J("userId",e.lcZ(1,1,i.userId$))},directives:[bi.Q],pipes:[p.Ov],styles:[""]}),t})();var Di=r(29939);let at=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-crash-bet-list"]],decls:2,vars:4,consts:[[3,"showFilters","userId"]],template:function(n,i){1&n&&(e._UZ(0,"cw-crash-bet-table",0),e.ALo(1,"async")),2&n&&e.Q6J("showFilters",!1)("userId",e.lcZ(1,2,i.userId$))},directives:[Di.X],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var xe=r(86513),$t=r(13099),Zi=r(79291),$i=r(67015),h=r(88279),wt=r(4807),Bt=r(78644),ve=r(89847),Yt=r(40068);function wi(t,o){1&t&&(e.TgZ(0,"th",17),e.SDv(1,18),e.qZA())}function Bi(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-id-field",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("id",n.id)}}function Yi(t,o){1&t&&(e.TgZ(0,"th",17),e.SDv(1,21),e.qZA())}function Fi(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"td",19),e.TgZ(1,"a",22),e.NdJ("click",function(){const _=e.CHM(n).$implicit;return e.oxw().openGameInfo(_)}),e._uU(2,"View"),e.qZA(),e.qZA()}}function Qi(t,o){1&t&&(e.TgZ(0,"th",17),e.SDv(1,23),e.qZA())}function Gi(t,o){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.createdAt,"medium")," ")}}function qi(t,o){1&t&&(e.TgZ(0,"th",17),e.SDv(1,24),e.qZA())}function Ji(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",25),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.amount)("currency",n.currency)}}function Wi(t,o){1&t&&(e.TgZ(0,"th",17),e.SDv(1,26),e.qZA())}function ki(t,o){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij("x",n.multiplier,"")}}function Xi(t,o){1&t&&(e.TgZ(0,"th",17),e.SDv(1,27),e.qZA())}function Hi(t,o){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"lowercase"),e.ALo(4,"rollTarget"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.AsE("",e.lcZ(2,2,e.lcZ(3,4,n.choice))," ",e.lcZ(4,6,n),"")}}function Vi(t,o){1&t&&(e.TgZ(0,"th",17),e.SDv(1,28),e.qZA())}function zi(t,o){if(1&t&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"number"),e.qZA()),2&t){const n=o.$implicit;e.ekj("text-success",n.profit<0)("text-danger",n.profit>0),e.xp6(1),e.hij(" ",e.xi3(2,5,(null==n.roll?null:n.roll.value)/100,"1.2-2")," ")}}function ji(t,o){1&t&&(e.TgZ(0,"th",17),e.SDv(1,29),e.qZA())}function Ki(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",25),e.qZA()),2&t){const n=o.$implicit;e.ekj("text-success",n.profit<0)("text-danger",n.profit>0),e.xp6(1),e.Q6J("balance",-1*n.profit)("currency",n.currency)}}function ea(t,o){1&t&&e._UZ(0,"tr",30)}function ta(t,o){1&t&&e._UZ(0,"tr",31)}let na=(()=>{class t extends((0,K.A)(K.t)){constructor(n,i){super(),this.dialog=n,this.apollo=i,this.showFilters=!1,this.columns=["id","fairness","createdAt","bet","multiplier","game","roll","profit"]}ngOnInit(){this.dataSource=new m.g3E(this.apollo,{query:Zi.gY,field:"diceBets",variables:this.getVariables()}),this.data$=this.dataSource.connect().pipe((0,u.U)(n=>n.map(i=>Object.assign(new xe.ue,i))),(0,$t.B)())}getVariables(){return{first:m.UZ,userId:this.userId,orderBy:xe.pr.ID_DESC,gameTypes:[xe.fZ.DICE]}}openGameInfo(n){this.dialog.open($i.H,{width:"800px",data:{bet:n}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36($.uw),e.Y36(S._M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-dice-bet-table"]],inputs:{userId:"userId",showFilters:"showFilters"},features:[e.qOj],decls:33,vars:13,consts:function(){let o,n,i,a,_,l,c,g;return o=$localize`:␟45cc8ca94b5a50842a9a8ef804a5ab089a38ae5c␟8040881171107393560:ID`,n=$localize`:␟b446a948ebf98f22bfb2000ca8e4b78368d07175␟2652886142442806655:Fairness`,i=$localize`:␟d654eb984a62fedda948733d5cc565480c6d7eff␟3198123723060667787:When`,a=$localize`:␟3611e207614b2c2b82dffc027ba08b92b20a92fb␟449928999286346224:Bet`,_=$localize`:␟67eb60f7e60b23219df7ba26a0aa88e1ff768d36␟5493880020176468567:Multiplier`,l=$localize`:␟0e6a93b6d39a899de3abb0cb10c51f19057fa547␟4643591148728960560:Game`,c=$localize`:␟2b43549b813b90101f4e1c364880352a2743d10d␟2734213108907937736:Roll`,g=$localize`:␟a43dd0a1bbcabf99c62a75ba68c1ee66a085e5c9␟5552946715208529758:Profit`,[[1,"card"],[1,"card-body"],["mat-table","",1,"w-100",3,"dataSource","trackBy"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fairness"],["matColumnDef","createdAt"],["matColumnDef","bet"],["matColumnDef","multiplier"],["matColumnDef","game"],["matColumnDef","roll"],["mat-cell","",3,"text-success","text-danger",4,"matCellDef"],["matColumnDef","profit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"dataSource","loading","data"],["mat-header-cell",""],o,["mat-cell",""],[3,"id"],n,["mat-flat-button","","color","primary",3,"click"],i,a,[3,"balance","currency"],_,l,c,g,["mat-header-row",""],["mat-row",""]]},template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"table",2),e.ALo(3,"async"),e.ynx(4,3),e.YNc(5,wi,2,0,"th",4),e.YNc(6,Bi,2,1,"td",5),e.BQk(),e.ynx(7,6),e.YNc(8,Yi,2,0,"th",4),e.YNc(9,Fi,3,0,"td",5),e.BQk(),e.ynx(10,7),e.YNc(11,Qi,2,0,"th",4),e.YNc(12,Gi,3,4,"td",5),e.BQk(),e.ynx(13,8),e.YNc(14,qi,2,0,"th",4),e.YNc(15,Ji,2,2,"td",5),e.BQk(),e.ynx(16,9),e.YNc(17,Wi,2,0,"th",4),e.YNc(18,ki,2,1,"td",5),e.BQk(),e.ynx(19,10),e.YNc(20,Xi,2,0,"th",4),e.YNc(21,Hi,5,8,"td",5),e.BQk(),e.ynx(22,11),e.YNc(23,Vi,2,0,"th",4),e.YNc(24,zi,3,8,"td",12),e.BQk(),e.ynx(25,13),e.YNc(26,ji,2,0,"th",4),e.YNc(27,Ki,2,6,"td",12),e.BQk(),e.YNc(28,ea,1,0,"tr",14),e.YNc(29,ta,1,0,"tr",15),e.qZA(),e._UZ(30,"cw-table-footer",16),e.ALo(31,"push"),e.ALo(32,"async"),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("dataSource",e.lcZ(3,7,i.data$))("trackBy",i.trackById),e.xp6(26),e.Q6J("matHeaderRowDef",i.columns),e.xp6(1),e.Q6J("matRowDefColumns",i.columns),e.xp6(1),e.Q6J("dataSource",i.dataSource)("loading",e.lcZ(31,9,i.dataSource.loading$))("data",e.lcZ(32,11,i.data$)))},directives:[h.BZ,h.w1,h.fO,h.Dz,h.as,h.nj,wt.G,h.ge,h.ev,Bt.m,D.zs,ve.q,h.XQ,h.Gk],pipes:[p.Ov,Y.f,p.uU,p.rS,p.i8,Yt.V,p.JJ],styles:["cw-id-field[_ngcontent-%COMP%]{width:175px}"],changeDetection:0}),t})(),Ft=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-dice-bet-list"]],decls:2,vars:4,consts:[[3,"showFilters","userId"]],template:function(n,i){1&n&&(e._UZ(0,"cw-dice-bet-table",0),e.ALo(1,"async")),2&n&&e.Q6J("showFilters",!1)("userId",e.lcZ(1,2,i.userId$))},directives:[na],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var oa=r(24502);let Qt=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-pvp-bet-list"]],decls:2,vars:4,consts:[[3,"showFilters","userId"]],template:function(n,i){1&n&&(e._UZ(0,"cw-pvp-bet-table",0),e.ALo(1,"async")),2&n&&e.Q6J("showFilters",!1)("userId",e.lcZ(1,2,i.userId$))},directives:[oa.y],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var _t=r(17067),ia=r(95642),Gt=r(966),aa=r(9419);function _a(t,o){1&t&&(e.TgZ(0,"th",20),e.SDv(1,21),e.qZA())}function ra(t,o){if(1&t&&(e.TgZ(0,"td",22),e._UZ(1,"cw-id-field",23),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("id",n.id)}}function sa(t,o){1&t&&(e.TgZ(0,"th",20),e.SDv(1,24),e.qZA())}function ca(t,o){1&t&&e.GkF(0)}const qt=function(t){return{$implicit:t}};function la(t,o){if(1&t&&e.YNc(0,ca,1,0,"ng-container",27),2&t){const n=e.oxw().$implicit;e.oxw();const i=e.MAs(34);e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,qt,n))}}function ua(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"td",22),e.YNc(1,la,1,4,"ng-template",null,25,e.W1O),e.TgZ(3,"a",26),e.NdJ("click",function(){const _=e.CHM(n).$implicit,l=e.MAs(2);return e.oxw().openGameInfo(_,l)}),e._uU(4,"View"),e.qZA(),e.qZA()}}function ma(t,o){1&t&&(e.TgZ(0,"th",20),e.SDv(1,28),e.qZA())}function pa(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.createdAt,"medium")," ")}}function da(t,o){1&t&&e.GkF(0)}function ga(t,o){if(1&t&&(e.ynx(0),e.YNc(1,da,1,0,"ng-container",27),e.BQk()),2&t){const n=e.oxw().$implicit;e.oxw();const i=e.MAs(34);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,qt,n))}}function fa(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"cw-icon",32,33),e.NdJ("click",function(){e.CHM(n);const a=e.MAs(1),_=e.oxw(2).$implicit;return e.oxw().showItems(a,_.betItems)}),e.qZA()}if(2&t){e.oxw(3);const n=e.MAs(38);e.Udp("color","var(--view-icon-color)"),e.Q6J("ngbTooltip",n)}}function Ta(t,o){if(1&t&&e.YNc(0,fa,2,3,"cw-icon",31),2&t){const n=e.oxw().$implicit;e.Q6J("ngIf",n.betItems)}}function Aa(t,o){if(1&t&&(e.TgZ(0,"td",22),e.YNc(1,ga,2,4,"ng-container",29),e.YNc(2,Ta,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&t){const n=o.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",1===n.betItems.length)("ngIfElse",i)}}function Sa(t,o){1&t&&(e.TgZ(0,"th",20),e.SDv(1,34),e.qZA())}function ha(t,o){1&t&&(e.TgZ(0,"th",20),e.SDv(1,35),e.qZA())}function Ma(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij("x",n.multiplier,"")}}function Ea(t,o){1&t&&(e.TgZ(0,"th",20),e.SDv(1,36),e.qZA())}function Ca(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"lowercase"),e.ALo(4,"number"),e.ALo(5,"rollTarget"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,e.lcZ(3,4,n.choice))," ",e.xi3(4,6,e.lcZ(5,9,n),"1.2-2")," ")}}function Ia(t,o){1&t&&(e.TgZ(0,"th",20),e.SDv(1,37),e.qZA())}function Ra(t,o){if(1&t&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"number"),e.qZA()),2&t){const n=o.$implicit;e.ekj("text-success",n.profit<0)("text-danger",n.profit>0),e.xp6(1),e.hij(" ",e.xi3(2,5,(null==n.roll?null:n.roll.value)/100,"1.2-2")," ")}}function La(t,o){1&t&&(e.TgZ(0,"th",20),e.SDv(1,38),e.qZA())}function va(t,o){if(1&t&&(e.TgZ(0,"td",22),e._UZ(1,"cw-pretty-balance",39),e.qZA()),2&t){const n=o.$implicit;e.ekj("text-success",n.profit<0)("text-danger",n.profit>0),e.xp6(1),e.Q6J("balance",-1*n.profit)("currency",n.currency)}}function Na(t,o){1&t&&e._UZ(0,"tr",40)}function Oa(t,o){1&t&&e._UZ(0,"tr",41)}function ya(t,o){1&t&&e.GkF(0)}const xa=function(t,o,n,i){return{value:t,iconUrl:o,name:n,currency:i}};function Pa(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ya,1,0,"ng-container",27),e.BQk()),2&t){const n=o.ngIf;e.oxw(3);const i=e.MAs(36);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.l5B(2,xa,n.consumedValue,n.itemVariant.iconUrl,n.itemVariant.name,n.currency))}}function Ua(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Pa,2,7,"ng-container",29),e.BQk()),2&t){const n=o.$implicit;e.oxw();const i=e.MAs(2);e.xp6(1),e.Q6J("ngIf",n.userItem)("ngIfElse",i)}}function ba(t,o){if(1&t&&e._UZ(0,"cw-pretty-balance",39),2&t){const n=e.oxw().$implicit;e.Q6J("balance",n.amount)("currency",n.currency)}}function Da(t,o){1&t&&(e.YNc(0,Ua,2,2,"ng-container",42),e.YNc(1,ba,1,2,"ng-template",null,43,e.W1O)),2&t&&e.Q6J("ngForOf",o.$implicit.betItems)}function Za(t,o){if(1&t&&(e.TgZ(0,"span",51),e.TgZ(1,"span",52),e._uU(2,"+"),e.qZA(),e._uU(3),e.qZA()),2&t){const n=e.oxw().xpRewarded;e.xp6(3),e.hij(" ",n," XP ")}}function $a(t,o){if(1&t&&(e.TgZ(0,"div",44),e.TgZ(1,"div",45),e._UZ(2,"img",46),e.qZA(),e.TgZ(3,"div",47),e.TgZ(4,"div",48),e._uU(5),e.qZA(),e._UZ(6,"cw-pretty-balance",49),e.YNc(7,Za,4,1,"span",50),e.qZA(),e.qZA()),2&t){const n=o.iconUrl,i=o.name,a=o.value,_=o.currency,l=o.xpRewarded;e.xp6(2),e.Q6J("src",n,e.LSH),e.xp6(3),e.hij(" ",i," "),e.xp6(1),e.Q6J("balance",a)("currency",_),e.xp6(1),e.Q6J("ngIf",l)}}function wa(t,o){1&t&&e._UZ(0,"cw-user-item-list-tooltip",53),2&t&&e.Q6J("items",o.items)}let Ba=(()=>{class t extends((0,K.A)(K.t)){constructor(n,i){super(),this.dialog=n,this.apollo=i,this.showFilters=!1,this.columns=["id","fairness","createdAt","bet","multiplier","game","roll","profit"]}ngOnInit(){this.dataSource=new m.g3E(this.apollo,{query:ia.S8,field:"diceBets",variables:this.getVariables()}),this.data$=this.dataSource.connect().pipe((0,u.U)(n=>n.map(i=>Object.assign(new xe.ue,i))),(0,V.d)({refCount:!0,bufferSize:1}))}getVariables(){return{first:m.UZ,userId:this.userId,orderBy:xe.pr.ID_DESC,gameTypes:[xe.fZ.UPGRADE]}}showItems(n,i){const a=i.map(({userItem:_})=>Object.assign(Object.assign({},_.itemVariant),{value:_.consumedValue,currency:_.currency}));n.open({items:a})}openGameInfo(n,i){this.dialog.open(_t.BetInfoModalComponent,{width:"800px",data:{bet:n,betTemplateRef:i}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36($.uw),e.Y36(S._M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-quick-upgrade-table"]],inputs:{userId:"userId",showFilters:"showFilters"},features:[e.qOj],decls:39,vars:13,consts:function(){let o,n,i,a,_,l,c,g;return o=$localize`:␟45cc8ca94b5a50842a9a8ef804a5ab089a38ae5c␟8040881171107393560:ID`,n=$localize`:␟b446a948ebf98f22bfb2000ca8e4b78368d07175␟2652886142442806655:Fairness`,i=$localize`:␟d654eb984a62fedda948733d5cc565480c6d7eff␟3198123723060667787:When`,a=$localize`:␟3611e207614b2c2b82dffc027ba08b92b20a92fb␟449928999286346224:Bet`,_=$localize`:␟67eb60f7e60b23219df7ba26a0aa88e1ff768d36␟5493880020176468567:Multiplier`,l=$localize`:␟0e6a93b6d39a899de3abb0cb10c51f19057fa547␟4643591148728960560:Game`,c=$localize`:␟2b43549b813b90101f4e1c364880352a2743d10d␟2734213108907937736:Roll`,g=$localize`:␟a43dd0a1bbcabf99c62a75ba68c1ee66a085e5c9␟5552946715208529758:Profit`,[[1,"card"],[1,"card-body"],["mat-table","",1,"w-100",3,"dataSource","trackBy"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fairness"],["matColumnDef","createdAt"],["matColumnDef","bet"],["matColumnDef","multiplier"],["matColumnDef","game"],["matColumnDef","roll"],["mat-cell","",3,"text-success","text-danger",4,"matCellDef"],["matColumnDef","profit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"dataSource","loading","data"],["itemVariantColTpl",""],["itemVariantTpl",""],["itemsTooltipTpl",""],["mat-header-cell",""],o,["mat-cell",""],[3,"id"],n,["betInfoTpl",""],["mat-flat-button","","color","primary",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],i,[4,"ngIf","ngIfElse"],["itemsPopupIconTpl",""],["triggers","manual","tooltipClass","tooltip-items","class","ml-1 pointer align-text-top","inlineSVG","assets/icons/eye.svg",3,"ngbTooltip","color","click",4,"ngIf"],["triggers","manual","tooltipClass","tooltip-items","inlineSVG","assets/icons/eye.svg",1,"ml-1","pointer","align-text-top",3,"ngbTooltip","click"],["t","ngbTooltip"],a,_,l,c,g,[3,"balance","currency"],["mat-header-row",""],["mat-row",""],[4,"ngFor","ngForOf"],["amountTpl",""],[1,"object-view"],[1,"img"],["loading","lazy",3,"src"],[1,"info"],[1,"name","mobile-hide"],[1,"value",3,"balance","currency"],["class","value ml-1",4,"ngIf"],[1,"value","ml-1"],[1,"font-weight-bold"],[3,"items"]]},template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"table",2),e.ALo(3,"async"),e.ynx(4,3),e.YNc(5,_a,2,0,"th",4),e.YNc(6,ra,2,1,"td",5),e.BQk(),e.ynx(7,6),e.YNc(8,sa,2,0,"th",4),e.YNc(9,ua,5,0,"td",5),e.BQk(),e.ynx(10,7),e.YNc(11,ma,2,0,"th",4),e.YNc(12,pa,3,4,"td",5),e.BQk(),e.ynx(13,8),e.YNc(14,Aa,4,2,"td",5),e.YNc(15,Sa,2,0,"th",4),e.BQk(),e.ynx(16,9),e.YNc(17,ha,2,0,"th",4),e.YNc(18,Ma,2,1,"td",5),e.BQk(),e.ynx(19,10),e.YNc(20,Ea,2,0,"th",4),e.YNc(21,Ca,6,11,"td",5),e.BQk(),e.ynx(22,11),e.YNc(23,Ia,2,0,"th",4),e.YNc(24,Ra,3,8,"td",12),e.BQk(),e.ynx(25,13),e.YNc(26,La,2,0,"th",4),e.YNc(27,va,2,6,"td",12),e.BQk(),e.YNc(28,Na,1,0,"tr",14),e.YNc(29,Oa,1,0,"tr",15),e.qZA(),e._UZ(30,"cw-table-footer",16),e.ALo(31,"push"),e.ALo(32,"push"),e.qZA(),e.qZA(),e.YNc(33,Da,3,1,"ng-template",null,17,e.W1O),e.YNc(35,$a,8,5,"ng-template",null,18,e.W1O),e.YNc(37,wa,1,1,"ng-template",null,19,e.W1O)),2&n&&(e.xp6(2),e.Q6J("dataSource",e.lcZ(3,7,i.data$))("trackBy",i.trackById),e.xp6(26),e.Q6J("matHeaderRowDef",i.columns),e.xp6(1),e.Q6J("matRowDefColumns",i.columns),e.xp6(1),e.Q6J("dataSource",i.dataSource)("loading",e.lcZ(31,9,i.dataSource.loading$))("data",e.lcZ(32,11,i.data$)))},directives:[h.BZ,h.w1,h.fO,h.Dz,h.as,h.nj,wt.G,h.ge,h.ev,Bt.m,D.zs,p.tP,p.O5,Re.o,le.d$,Gt._L,ve.q,h.XQ,h.Gk,p.sg,aa.s],pipes:[p.Ov,Y.f,p.uU,p.rS,p.i8,p.JJ,Yt.V],styles:[".object-view[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;width:256px;grid-gap:10px;gap:10px}.object-view[_ngcontent-%COMP%]     .img{width:50px;height:50px}.object-view[_ngcontent-%COMP%]     .img img{object-fit:contain;width:40px;height:40px;margin:5px}.object-view[_ngcontent-%COMP%]     .info{flex:1 0}.object-view[_ngcontent-%COMP%]     .info .name{font-weight:600;margin-bottom:6px;text-transform:uppercase;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:192px}.object-view[_ngcontent-%COMP%]     .info .value{font-size:12px;font-weight:400}"],changeDetection:0}),t})(),Jt=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-quick-upgrade-list"]],decls:2,vars:4,consts:[[3,"showFilters","userId"]],template:function(n,i){1&n&&(e._UZ(0,"cw-quick-upgrade-table",0),e.ALo(1,"push")),2&n&&e.Q6J("showFilters",!1)("userId",e.lcZ(1,2,i.userId$))},directives:[Ba],pipes:[Y.f],styles:[""],changeDetection:0}),t})();var Wt=r(60679),kt=r(79415),Xt=r(51199),Ht=r(5858),Vt=r(79788),Ya=r(90217);let zt=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>i.get("id")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-plinko-bet-list"]],decls:2,vars:4,consts:[[3,"showFilters","userId"]],template:function(n,i){1&n&&(e._UZ(0,"cw-plinko-bet-table",0),e.ALo(1,"async")),2&n&&e.Q6J("showFilters",!0)("userId",e.lcZ(1,2,i.userId$))},directives:[Ya.b],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();const Fa=[Wt.CrashSharedModule,_t.DiceSharedModule,kt.PvpSharedModule,Xt.RouletteSharedModule,Ht.QuickUpgradeSharedModule,Vt.PlinkoSharedModule,A.vY];let Qa=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[Fa,Wt.CrashSharedModule,_t.DiceSharedModule,kt.PvpSharedModule,Xt.RouletteSharedModule,Ht.QuickUpgradeSharedModule,Vt.PlinkoSharedModule,A.vY]}),t})();var Ga=r(42618),ke=r(88634);function qa(t,o){1&t&&e._UZ(0,"cw-order-table",2),2&t&&e.Q6J("userId",o.ngIf)("showFilters",!0)("showTitle",!0)}let jt=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-deliveries"]],decls:3,vars:3,consts:[[1,"card","card-body"],[3,"userId","showFilters","showTitle",4,"ngIf"],[3,"userId","showFilters","showTitle"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,qa,1,3,"cw-order-table",1),e.ALo(2,"asyncInner"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,i.userId$)))},directives:[p.O5,Ga.C],pipes:[ke.d],styles:["cw-order-table[_ngcontent-%COMP%]{min-height:calc(100vh - calc(4.375rem + (var(--vertical-spacing) * 2) + 2.5rem))}@media (max-width: 767.98px){cw-order-table[_ngcontent-%COMP%]{min-height:calc(100vh - calc(4.375rem + (var(--vertical-spacing) * 2) + 2.5rem))}}"],changeDetection:0}),t})();var Ja=r(87539);let Kt=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-exchange"]],decls:3,vars:4,consts:[[1,"card","card-body"],[3,"userId","showFilters"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"cw-user-item-exchange",1),e.ALo(2,"async"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("userId",e.lcZ(2,2,i.userId$))("showFilters",!0))},directives:[Ja.u],pipes:[p.Ov],styles:["cw-user-item-exchange[_ngcontent-%COMP%]     cw-user-item-search-grid, cw-user-item-exchange[_ngcontent-%COMP%]     cw-item-variant-search-grid{min-height:calc(100vh - calc(4.375rem + (var(--vertical-spacing) * 2) + 2.5rem + 3.5rem))}@media (max-width: 767.98px){cw-user-item-exchange[_ngcontent-%COMP%]     cw-user-item-search-grid, cw-user-item-exchange[_ngcontent-%COMP%]     cw-item-variant-search-grid{min-height:calc(100vh - calc(4.375rem + (var(--vertical-spacing) * 2) + 2.5rem + 3.5rem))}}"],changeDetection:0}),t})();var x=r(28617),Ne=r(99623),en=r(28081);function Wa(t,o){if(1&t&&(e.TgZ(0,"div",3),e.TgZ(1,"h1"),e._uU(2),e.qZA(),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(n.title)}}let tn=(()=>{class t{constructor(n,i,a,_,l){this.appConfig=n,this.route=i,this.userService=a,this.userItemService=_,this.dialog=l,this.UserItemStatus=x.s0,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(c=>(0,m.AWy)(c.get("id"),"User"))),this.canEditItems$=(0,b.a)([this.userId$,this.userService.user$]).pipe((0,u.U)(([c,g])=>!!g&&(g.roles.includes(y.i.MANAGER)||g.id===c))),this.showInvHeader=this.appConfig.inventory.showInvHeader,this.showFilters=this.appConfig.inventory.showFilters,this.showValue=this.appConfig.inventory.showValue,this.showRarityIcon=this.appConfig.inventory.showRarityIcon,this.showExchangeDetails=this.appConfig.inventory.showExchangeDetails,this.defaultStatusesForUser=this.appConfig.inventory.defaultStatusesForUser||[x.s0.AVAILABLE],this.statusOptionsForUser=this.appConfig.inventory.statusOptionsForUser||x.wq,this.hasItems$=this.userItemService.dataSource.connect().pipe((0,u.U)(c=>c&&c.length)),this.isStaff$=this.userService.roles$.pipe((0,u.U)(c=>c.includes(y.i.STAFF)),(0,$t.B)()),this.title=this.appConfig.siteType===te.NM.ECOMMERCE?"CART":"Inventory",this.isEcommerceType=this.appConfig.siteType===te.NM.ECOMMERCE,this.defaultStatusesForStaff=[x.s0.AVAILABLE,x.s0.REQUESTED,x.s0.PROCESSING,x.s0.ORDERED],this.userItemService.unseenUpdatedUserItemCollection.clear()}openExchangeModal(){const n=this.dialog.open(Ne.MZ,{width:"1140px"});return n.componentInstance.showAvailableAtDetails=!0,n.componentInstance.maxValue=0,n.componentInstance.purchasableItems=!0,n.afterClosed()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.qBz),e.Y36(f.gz),e.Y36(m.KDu),e.Y36(m.mNQ),e.Y36($.uw))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-inventory"]],decls:7,vars:21,consts:[["ngClass.lt-sm","mt--1",1,"card","card-body"],["class","inv-header",4,"ngIf"],[3,"userId","simplified","statuses","statusOptionsForUser","showTotalValue","showValue","showExchangeDetails","showRarityIcon","showFilters","showRetailerFilter","showShippingCosts","omitScrollContainer"],[1,"inv-header"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Wa,3,1,"div",1),e._UZ(2,"cw-user-item-search-grid",2),e.ALo(3,"push"),e.ALo(4,"push"),e.ALo(5,"push"),e.ALo(6,"push"),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",i.showInvHeader),e.xp6(1),e.Q6J("userId",e.lcZ(3,13,i.userId$))("simplified",!1===e.lcZ(4,15,i.canEditItems$))("statuses",e.lcZ(5,17,i.isStaff$)?i.defaultStatusesForStaff:i.defaultStatusesForUser)("statusOptionsForUser",i.statusOptionsForUser)("showTotalValue",!0)("showValue",!0)("showExchangeDetails",i.showExchangeDetails)("showRarityIcon",i.showRarityIcon)("showFilters",e.lcZ(6,19,i.isStaff$)||i.showFilters)("showRetailerFilter",i.isEcommerceType)("showShippingCosts",!1)("omitScrollContainer",!1))},directives:[De.oO,p.O5,en.n],pipes:[Y.f],styles:["cw-user-item-search-grid[_ngcontent-%COMP%]{min-height:calc(100vh - calc(4.375rem + (var(--vertical-spacing) * 2) + 3.8752rem + 2.5rem))}.mt--1[_ngcontent-%COMP%]{margin-top:1.25rem}"],changeDetection:0}),t})();function ka(t,o){1&t&&(e.TgZ(0,"h2",7),e._uU(1,"My Items"),e.qZA())}const Xa=function(){return{class:"abs-top"}};function Ha(t,o){if(1&t&&(e.ynx(0),e.GkF(1,5),e.YNc(2,ka,2,0,"h2",6),e.BQk()),2&t){e.oxw();const n=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.DdM(3,Xa)),e.xp6(1),e.Q6J("cwMediaIf","lt-md")}}function Va(t,o){if(1&t&&(e.TgZ(0,"div",8),e.TgZ(1,"div",9),e.TgZ(2,"h1"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"div",10),e.GkF(5,11),e.qZA(),e.qZA()),2&t){const n=e.oxw(),i=e.MAs(8);e.xp6(3),e.Oqu(n.title),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function za(t,o){1&t&&(e.TgZ(0,"div"),e._uU(1,"your items"),e.qZA())}function ja(t,o){1&t&&(e.TgZ(0,"span"),e._uU(1,"your items"),e.qZA())}const Ka=function(t){return["/player",t,"exchange"]};function e_(t,o){if(1&t&&(e.TgZ(0,"a",13),e.ALo(1,"asyncInner"),e.ALo(2,"asyncInner"),e.TgZ(3,"div",14),e.TgZ(4,"div",15),e._UZ(5,"cw-icon",16),e.TgZ(6,"div",17),e._uU(7," Exchange "),e.YNc(8,za,2,0,"div",1),e.YNc(9,ja,2,0,"span",1),e.qZA(),e.qZA(),e._UZ(10,"cw-icon",18),e.qZA(),e.qZA()),2&t){const n=e.oxw().class,i=e.oxw();e.Q6J("ngClass",n)("disabled",!e.lcZ(1,5,i.hasItems$))("routerLink",e.VKq(9,Ka,e.lcZ(2,7,i.userId$))),e.xp6(8),e.Q6J("cwMediaIf","gt-sm"),e.xp6(1),e.Q6J("cwMediaIf","lt-md")}}function t_(t,o){if(1&t&&e.YNc(0,e_,11,11,"a",12),2&t){const n=e.oxw();e.Q6J("ngIf",n.isEcommerceType)}}let nn=(()=>{class t{constructor(n,i,a){this.appConfig=n,this.userService=i,this.userItemService=a,this.UserItemStatus=x.s0,this.user$=this.userService.user$,this.userId$=this.user$.pipe((0,u.U)(_=>null==_?void 0:_.id)),this.showInvHeader=this.appConfig.inventory.showInvHeader,this.showFilters=this.appConfig.inventory.showFilters,this.showItemCardFooter=this.appConfig.inventory.showItemCardFooter,this.showValue=this.appConfig.inventory.showValue,this.showRarityIcon=this.appConfig.inventory.showRarityIcon,this.showExchangeDetails=this.appConfig.inventory.showExchangeDetails,this.defaultStatusesForUser=this.appConfig.inventory.defaultStatusesForUser||[x.s0.AVAILABLE],this.statusOptionsForUser=this.appConfig.inventory.statusOptionsForUser||x.wq,this.isEcommerceType=this.appConfig.siteType===te.NM.ECOMMERCE,this.title=this.isEcommerceType?"CART":"Inventory",this.isStaff$=this.userService.roles$.pipe((0,u.U)(_=>_.includes(y.i.STAFF))),this.defaultStatusesForStaff=[x.s0.AVAILABLE,x.s0.REQUESTED,x.s0.PROCESSING,x.s0.ORDERED]}ngOnInit(){this.hasItems$=this.userItemService.dataSource.connect().pipe((0,u.U)(n=>!(!n||!n.length)))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.qBz),e.Y36(m.KDu),e.Y36(m.mNQ))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-my-inventory"]],decls:9,vars:20,consts:[[1,"card","card-body"],[4,"cwMediaIf"],["class","inv-header",4,"cwMediaIf"],[3,"userId","statuses","statusOptionsForUser","showTotalValue","showItemCardFooter","showValue","showExchangeDetails","showRarityIcon","showFilters","showRetailerFilter","showShippingCosts","omitScrollContainer"],["exchangeBtn",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mobile-title",4,"cwMediaIf"],[1,"mobile-title"],[1,"inv-header"],[1,"actions-col"],["fxLayout","","fxLayoutAlign","flex-end","fxFlex.lt-sm",""],[3,"ngTemplateOutlet"],["class","exchange-btn","type","button","mat-flat-button","",3,"ngClass","disabled","routerLink",4,"ngIf"],["type","button","mat-flat-button","",1,"exchange-btn",3,"ngClass","disabled","routerLink"],[1,"btn-content"],["fxLayout","","fxLayoutAlign","center center"],["inlineSVG","assets/icons/exchange-sell-stylized.svg",1,"exchange-icon"],[1,"btn-text"],["inlineSVG","assets/icons/arrow-right.svg",1,"arrow-icon"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Ha,3,4,"ng-container",1),e.YNc(2,Va,6,2,"div",2),e._UZ(3,"cw-user-item-search-grid",3),e.ALo(4,"asyncInner"),e.ALo(5,"asyncInner"),e.ALo(6,"asyncInner"),e.qZA(),e.YNc(7,t_,1,1,"ng-template",null,4,e.W1O)),2&n&&(e.xp6(1),e.Q6J("cwMediaIf","lt-md"),e.xp6(1),e.Q6J("cwMediaIf","gt-sm"),e.xp6(1),e.Q6J("userId",e.lcZ(4,14,i.userId$))("statuses",e.lcZ(5,16,i.isStaff$)?i.defaultStatusesForStaff:i.defaultStatusesForUser)("statusOptionsForUser",i.statusOptionsForUser)("showTotalValue",!1)("showItemCardFooter",!1)("showValue",i.showValue)("showExchangeDetails",i.showExchangeDetails)("showRarityIcon",i.showRarityIcon)("showFilters",e.lcZ(6,18,i.isStaff$)||i.showFilters)("showRetailerFilter",i.isEcommerceType)("showShippingCosts",!1)("omitScrollContainer",!1))},directives:[tt.h,en.n,p.tP,L.xw,L.Wh,L.yH,p.O5,D.zs,f.yS,p.mk,De.oO,Re.o,le.d$],pipes:[ke.d],styles:["cw-user-item-search-grid[_ngcontent-%COMP%]{min-height:calc(100vh - calc(4.375rem + (var(--vertical-spacing) * 2) + 3.8752rem + 2.5rem))}.abs-top[_ngcontent-%COMP%]{position:absolute;top:calc(var(--vertical-spacing) * -1);left:calc(var(--horizontal-spacing) * -1);right:calc(var(--horizontal-spacing) * -1)}.mobile-title[_ngcontent-%COMP%]{margin:1.25rem 0 .5rem}.inv-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:1.5rem}.exchange-btn[_ngcontent-%COMP%]{font-size:15px;background-color:var(--create-box-bg);color:#fff}.exchange-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{height:4.75rem;width:250px;display:flex;align-items:center;place-content:space-between}.exchange-btn[_ngcontent-%COMP%]   .exchange-icon[_ngcontent-%COMP%]{height:2.5em;width:2.5em}.exchange-btn[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{margin-left:1em;display:block}@media (min-width: 576px){.exchange-btn[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{display:none}}.exchange-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{display:inline-block;text-align:left;margin-left:1.5em;line-height:21px;font-weight:600}@media (max-width: 767.98px){.exchange-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{width:100%;height:3.5rem;font-size:12px}.exchange-btn[_ngcontent-%COMP%]   .exchange-icon[_ngcontent-%COMP%]{height:20px;width:20px}}"],changeDetection:0}),t})();var on=r(11144),Ze=r(14729),Xe=r(96726),He=r(1297),Pe=r(75424),an=r(5396),Ue=r(60766);const n_=[on._b,Ze.ZR,Xe.D,He.MA,Ne.$M,Pe.SharedUserModule,A.vY,an.UserItemSharedModule,Ue.WalletModule,qe.t];let o_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[n_,on._b,Ze.ZR,Xe.D,He.MA,Ne.$M,Pe.SharedUserModule,A.vY,an.UserItemSharedModule,Ue.WalletModule,qe.t]}),t})();var i_=r(95299),P=r(50637),a_=r(79997);let _n=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-promo-codes"]],decls:2,vars:3,consts:[[3,"userId"]],template:function(n,i){1&n&&(e._UZ(0,"cw-user-promo-code-table",0),e.ALo(1,"async")),2&n&&e.Q6J("userId",e.lcZ(1,1,i.userId$))},directives:[a_.L],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();const __=[Xe.D,A.vY];let r_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[__,Xe.D,A.vY]}),t})();const s_=E.Ps`
  fragment ProvablySeed on Seed {
    id
    type
    future
    value
    hash
  }
`,c_=E.Ps`
  query ProvablySeeds($userId: ID!) {
    clientSeeds: seeds(userId: $userId, type: CLIENT, last: 2) {
      edges {
        node {
          ...ProvablySeed
        }
      }
    }
    serverSeeds: seeds(userId: $userId, type: SERVER, last: 3) {
      edges {
        node {
          ...ProvablySeed
        }
      }
    }
  }

  ${s_}
`;var l_=r(17774);function u_(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"section",6),e.TgZ(1,"section",7),e.TgZ(2,"h2",8),e.SDv(3,9),e.qZA(),e.TgZ(4,"cw-change-seed-form",10),e.NdJ("change",function(){return e.CHM(n),e.oxw().onSeedsChange()}),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"cw-change-seed-form",11),e.NdJ("change",function(){return e.CHM(n),e.oxw().onSeedsChange()}),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"mat-form-field",12),e.TgZ(9,"mat-label"),e.SDv(10,13),e.qZA(),e._UZ(11,"input",14),e.qZA(),e.qZA(),e.TgZ(12,"section",15),e.TgZ(13,"h2",8),e.SDv(14,16),e.qZA(),e.TgZ(15,"mat-form-field",12),e.TgZ(16,"mat-label"),e.SDv(17,17),e.qZA(),e._UZ(18,"input",14),e.qZA(),e.TgZ(19,"mat-form-field",12),e.TgZ(20,"mat-label"),e.SDv(21,18),e.qZA(),e._UZ(22,"input",14),e.qZA(),e.TgZ(23,"mat-form-field",12),e.TgZ(24,"mat-label"),e.SDv(25,19),e.qZA(),e._UZ(26,"input",14),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=o.ngIf,i=e.oxw();e.xp6(4),e.Q6J("value",null==n.current.client?null:n.current.client.value)("disabled",!e.lcZ(5,8,i.isMe$)),e.xp6(2),e.Q6J("value",null==n.current.serverCurrent?null:n.current.serverCurrent.value)("disabled",!e.lcZ(7,10,i.isMe$)),e.xp6(5),e.Q6J("value",(null==n.current.serverFuture?null:n.current.serverFuture.value)||"N/A"),e.xp6(7),e.Q6J("value",(null==n.previous.client?null:n.previous.client.value)||"N/A"),e.xp6(4),e.Q6J("value",(null==n.previous.server?null:n.previous.server.hash)||"N/A"),e.xp6(4),e.Q6J("value",(null==n.previous.server?null:n.previous.server.value)||"N/A")}}let rn=(()=>{class t{constructor(n,i,a,_){this.apollo=n,this.route=i,this.changeRef=a,this.userService=_,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(l=>(0,m.AWy)(l.get("id"),"User"))),this.isMe$=(0,b.a)([this.userId$,this.userService.user$.pipe((0,u.U)(l=>l&&l.id))]).pipe((0,u.U)(([l,c])=>l===c)),this.seeds$=this.userId$.pipe((0,Q.w)(l=>(this.queryRef=this.apollo.watchQuery({query:c_,variables:{userId:l}}),this.queryRef.valueChanges)),(0,u.U)(({data:l})=>{const c=l.clientSeeds.edges.map(d=>d.node),g=l.serverSeeds.edges.map(d=>d.node);return{current:{client:c[0],serverCurrent:g[1],serverFuture:g[0]},previous:{client:c[1],server:g[2]}}}),(0,V.d)(1))}onSeedsChange(){this.queryRef.refetch().then(()=>this.changeRef.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M),e.Y36(f.gz),e.Y36(e.sBO),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-provably"]],decls:8,vars:6,consts:function(){let o,n,i,a,_,l,c,g;return o=$localize`:␟b446a948ebf98f22bfb2000ca8e4b78368d07175␟2652886142442806655:Fairness`,n=$localize`:␟e8e921b1f449ef52f0be1e0e6c1d0dc7c11d36da␟560881323367784958: ${"\ufffd0\ufffd"}:INTERPOLATION: employs a simple system for verification of games. Server seeds are hashed and shown before a game and the user can pick any seed they want. `,i=$localize`:␟18b96061e696037cbf01499af0d4af863b5bf891␟7518688024362835454:Current Seed Pair`,a=$localize`:␟9dc62761a4610f8412d506947378d9a9740f71fc␟3191112801447563924:Future Server Seed (Hashed)`,_=$localize`:␟683eac984a1699752d9b5b4fb0b8839c9d7e1528␟7593699998205853242:Previous Seed Pair`,l=$localize`:␟ee769ff638a08486b10f2742577049056571dd9a␟2089084302447055997:Client seed`,c=$localize`:␟0cfa020249bb2f60e6cd1ca5612b21f4110ecf3e␟3146017443636235367:Server Seed (Hashed)`,g=$localize`:␟d1fff822632be1aef883cfa3c4eee453971f742f␟5184566143739320866:Server Seed (Revealed)`,[[1,"card-body"],[1,"h4"],o,[1,"mb-5"],n,["class","mb-3","fxLayout","","fxLayout.xs","column",4,"ngIf"],["fxLayout","","fxLayout.xs","column",1,"mb-3"],["fxFlex","","ngClass.xs","mb-4","ngClass.gt-xs","pr-5 mr-5 border-right",1,"side"],[1,"h5"],i,["label","Client Seed","type","CLIENT",3,"value","disabled","change"],["label","Server seed (Hashed)","type","SERVER",3,"value","disabled","change"],[1,"w-100"],a,["matInput","","type","text","disabled","",3,"value"],["fxFlex","",1,"side"],_,l,c,g]},template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"h1",1),e.SDv(2,2),e.qZA(),e.TgZ(3,"p",3),e.SDv(4,4),e.ALo(5,"appConfig"),e.qZA(),e.YNc(6,u_,27,12,"section",5),e.ALo(7,"async"),e.qZA()),2&n&&(e.xp6(5),e.pQV(e.lcZ(5,2,"APP_NAME")),e.QtT(4),e.xp6(1),e.Q6J("ngIf",e.lcZ(7,4,i.seeds$)))},directives:[p.O5,L.xw,L.yH,De.oO,l_.o,O.KE,O.hX,Ee.Nt],pipes:[Ut.O,p.Ov],styles:[""],changeDetection:0}),t})();const m_=[He.MA,A.vY];let p_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[m_,He.MA,A.vY]}),t})();const d_=E.Ps`
  mutation ChangeAuthentic($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        hideSteamProfile
      }
    }
  }
`;let fe=class{constructor(o,n,i,a){this.apollo=o,this.fb=n,this.changeRef=i,this.toastr=a,this.form=this.fb.group({visible:!1})}set user(o){this._user=o,this.form.patchValue({visible:!o.hideSteamProfile})}get user(){return this._user}ngOnInit(){this.form.valueChanges.pipe((0,C.t)(this)).subscribe(o=>{if(this.form.valid&&o.visible===this.user.hideSteamProfile)return this.apollo.mutate({mutation:d_,variables:{input:{userId:this.user.id,hideSteamProfile:!this.form.value.visible}}}).pipe((0,B.x)(()=>{this.changeRef.markForCheck()})).subscribe(()=>{this.toastr.success("Steam Profile Link visible value changed")})})}};fe.\u0275fac=function(o){return new(o||fe)(e.Y36(S._M),e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z._W))},fe.\u0275cmp=e.Xpm({type:fe,selectors:[["cw-public-steam-profile-edit-form"]],inputs:{user:"user"},decls:3,vars:1,consts:[["novalidate","",3,"formGroup"],["color","primary","formControlName","visible",1,"w-100"]],template:function(o,n){1&o&&(e.TgZ(0,"form",0),e.TgZ(1,"mat-checkbox",1),e._uU(2,"Visible"),e.qZA(),e.qZA()),2&o&&e.Q6J("formGroup",n.form)},directives:[s._Y,s.JL,s.sg,ye.oG,s.JJ,s.u],styles:[""],changeDetection:0}),fe=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,s.qu,e.sBO,Z._W])],fe);var g_=r(70599);let sn=(()=>{class t{constructor(n,i){this.route=n,this.userService=i,this.userIdFilter$=this.route.parent.paramMap.pipe((0,u.U)(a=>a.get("id"))),this.user$=this.userService.user$}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-steam-trade-history"]],decls:3,vars:6,consts:[[3,"user","userIdFilter"]],template:function(n,i){1&n&&(e._UZ(0,"cw-steam-user-trade-history",0),e.ALo(1,"async"),e.ALo(2,"async")),2&n&&e.Q6J("user",e.lcZ(1,2,i.user$))("userIdFilter",e.lcZ(2,4,i.userIdFilter$))},directives:[g_.b],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var f_=r(85441);let cn=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-steam-inventory"]],decls:2,vars:3,consts:[[3,"userId"]],template:function(n,i){1&n&&(e._UZ(0,"cw-steam-inventory-search-grid",0),e.ALo(1,"async")),2&n&&e.Q6J("userId",e.lcZ(1,1,i.userId$))},directives:[f_.e],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var Ve=r(36603),ze=r(15746);const T_=[A.vY,Ve.oz,ze.oI];let rt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[T_,A.vY,Ve.oz,ze.oI]}),t})();E.Ps`
  mutation ChangeDisplayName($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        name
        displayName
      }
    }
  }
`;const ln=E.Ps`
  query UserSummary($id: ID!) {
    user(id: $id) {
      id
      displayName
      email
      roles
      createdAt
      customTitle
      customTitleColor
      mutedUntil
      verified
      authentic
      supplier
      bannedUntil
      steamId
      steamTradeUrl
      steamApiKey
      dailyWithdrawLimit
      hideSteamProfile
      affiliate {
        id
        avatar
        name
        userProgress {
          id
          level
        }
      }
      market {
        id
        countries {
          code
          name
          dialCode
        }
        shippableCountries {
          code
          name
          dialCode
        }
      }
      verificationStatus
      wallets {
        id
        name
        amount
        currency
      }
      ...UserBadge
      tradeBannedUntil
      suspectedTrader
    }
  }

  ${Pe.userBadgeFragment}
`,h_=E.Ps`
  mutation UnmuteUser($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        mutedUntil
      }
    }
  }
`,M_=E.Ps`
  mutation UpdateDisplayNameUserUser($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        displayName
      }
    }
  }
`;var un=r(57994),$e=r(68675);const E_=E.ZP`
  mutation purchaseXp($input: PurchaseXpInput!) {
    purchaseXp(input: $input) {
      xpAmount
    }
  }
`;var C_=r(7321);const I_=function(t){return{min:t}};function R_(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",5),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw(2).onSubmit()}),e.TgZ(1,"mat-form-field",6),e.TgZ(2,"mat-label"),e._uU(3,"XP Amount"),e.qZA(),e._UZ(4,"input",7),e.TgZ(5,"mat-error"),e._UZ(6,"cw-form-errors",8),e.qZA(),e.qZA(),e.TgZ(7,"div",9),e.TgZ(8,"button",10),e.ALo(9,"push"),e.TgZ(10,"cw-loader",11),e.tHW(11,12),e.ALo(12,"push"),e._UZ(13,"cw-pretty-balance",13),e.ALo(14,"push"),e.N_p(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=o.ngIf,i=e.oxw(2);e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("control",i.form.get("xpAmount"))("show",i.form.get("xpAmount").invalid)("errors",e.VKq(14,I_,"You can not buy less than "+i.minXpAmount+" XP")),e.xp6(2),e.Q6J("disabled",i.form.invalid||e.lcZ(9,8,i.loading$)),e.xp6(2),e.Q6J("loading",e.lcZ(12,10,i.loading$)),e.xp6(3),e.Q6J("balance",e.lcZ(14,12,i.price$))("currency",n)}}function L_(t,o){if(1&t&&(e.ynx(0),e.YNc(1,R_,15,16,"form",4),e.ALo(2,"push"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,n.currency$))}}let Te=class{constructor(o,n,i,a,_,l,c){this.userService=o,this.apollo=n,this.dialogRef=i,this.settingService=a,this.cdr=_,this.dynamicLoader=l,this.fb=c,this.create=new e.vpe,this.loading$=new q.X(!1),this.minXpAmount=1,this.maxXpAmount=9999999999,this.currency$=this.userService.currency$,this.currencySymbol$=this.currency$.pipe((0,u.U)(g=>(0,p.jK)(g,"narrow")),(0,et.x)()),this.settingService.getSetting("xp:purchase:configuration_of_costs").pipe((0,ee.q)(1),(0,Ce.M)(this.currency$)).subscribe(([g,d])=>{const v=JSON.parse(g.value).find(G=>G.payInCurrency===d);this.minXpAmount=v.minXpAmount,this.form=this.fb.group({xpAmount:[v.xpToReceive,[s.kI.required,s.kI.min(this.minXpAmount)]]}),this.cdr.markForCheck(),this.price$=this.form.get("xpAmount").valueChanges.pipe((0,oe.h)(G=>!!G&&!isNaN(G)),(0,$e.O)(v.xpToReceive),(0,u.U)(G=>{const j=(0,un.Big)(v.amountToPay).div(v.xpToReceive);return+(0,un.Big)(G).times(j)}),(0,V.d)({bufferSize:1,refCount:!0}))})}onSubmit(){!this.form.valid||this.price$.pipe((0,ee.q)(1),(0,Ce.M)(this.userService.user$),(0,u.U)(([o,n])=>this.userService.getBalance(n)<o?(this.dynamicLoader.openDialog(Promise.resolve().then(r.bind(r,60766)).then(a=>[a.WalletModule,a.NoBalanceModalComponent])).subscribe(),null):+this.form.get("xpAmount").value),(0,oe.h)(o=>o>0),(0,Le.b)(()=>this.loading$.next(!0)),(0,Ce.M)(this.currency$),(0,Q.w)(([o,n])=>this.apollo.mutate({mutation:E_,variables:{input:{xpAmount:o,currency:n}}})),(0,B.x)(()=>{this.loading$.next(!1)}),(0,C.t)(this)).subscribe(()=>this.dialogRef.close())}};Te.\u0275fac=function(o){return new(o||Te)(e.Y36(m.KDu),e.Y36(S._M),e.Y36($.so),e.Y36(m.RCL),e.Y36(e.sBO),e.Y36(A.tC),e.Y36(s.qu))},Te.\u0275cmp=e.Xpm({type:Te,selectors:[["cw-xp-purchase-form"]],outputs:{create:"create"},decls:4,vars:1,consts:function(){let t,o;return t=$localize`:␟a55edef3b65b02067cc2334d31a154f3c8f09d38␟6082117929068903795:Buy XP`,o=$localize`:␟61d73d810d12db35d548e984656fb166423be8fe␟8024294879765714550:BUY FOR ${"\ufffd#13\ufffd"}:START_TAG_CW_PRETTY_BALANCE:${"\ufffd/#13\ufffd"}:CLOSE_TAG_CW_PRETTY_BALANCE:`,[["matDialogClose","","inlineSVG","assets/icons/close-alert.svg",1,"close-icon"],[1,"text-center"],t,[4,"ngIf"],["class","position-relative mt-2","novalidate","",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",1,"position-relative","mt-2",3,"formGroup","ngSubmit"],[1,"d-block"],["matInput","","cwIntegerInput","","autocomplete","off","formControlName","xpAmount"],[3,"control","show","errors"],[1,"mt-2"],["type","submit","mat-flat-button","","color","accent",1,"w-100",3,"disabled"],[3,"loading"],o,[1,"ml-2",3,"balance","currency"]]},template:function(o,n){1&o&&(e._UZ(0,"cw-icon",0),e.TgZ(1,"h3",1),e.SDv(2,2),e.qZA(),e.YNc(3,L_,3,3,"ng-container",3)),2&o&&(e.xp6(3),e.Q6J("ngIf",n.form))},directives:[Re.o,$.ZT,le.d$,p.O5,s._Y,s.JL,s.sg,O.KE,O.hX,Ee.Nt,s.Fj,C_.U,s.JJ,s.u,O.TO,je.A,D.lW,ne.R,ve.q],pipes:[Y.f],styles:[".close-icon[_ngcontent-%COMP%]{position:absolute;right:1rem}"],changeDetection:0}),Te=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[m.KDu,S._M,$.so,m.RCL,e.sBO,A.tC,s.qu])],Te);var v_=r(68515),N_=r(71712),O_=r(23193);function y_(t,o){if(1&t&&(e.TgZ(0,"h4",18),e._uU(1),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.hij("Lvl ",n.level,"")}}function x_(t,o){if(1&t&&(e.TgZ(0,"h4",18),e._uU(1),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.hij("Level ",n.level,"")}}function P_(t,o){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.AsE("",n.xp," / ",n.nextRequiredXp," xp")}}function U_(t,o){if(1&t&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.AsE("",n.xp," / ",n.nextRequiredXp," xp")}}function b_(t,o){if(1&t&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.hij("Lvl ",n.level+1,"")}}function D_(t,o){if(1&t&&(e.TgZ(0,"div",21),e._uU(1),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.hij("Level ",n.level+1,"")}}function Z_(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){return e.CHM(n),e.oxw(3).openBuyXpModal()}),e.SDv(1,23),e.qZA()}}function $_(t,o){if(1&t&&(e.TgZ(0,"div",5),e.TgZ(1,"div",6),e.TgZ(2,"div",7),e.TgZ(3,"h1",8),e._uU(4),e.qZA(),e.YNc(5,y_,2,1,"h4",9),e.YNc(6,x_,2,1,"h4",9),e.qZA(),e.qZA(),e.TgZ(7,"div",10),e.TgZ(8,"div",11),e._UZ(9,"cw-percent",12),e.ALo(10,"tier"),e.ALo(11,"async"),e.YNc(12,P_,2,2,"div",13),e.qZA(),e.TgZ(13,"div",14),e.YNc(14,U_,2,2,"div",15),e.YNc(15,b_,2,1,"div",16),e.YNc(16,D_,2,1,"div",16),e.qZA(),e.YNc(17,Z_,2,0,"button",17),e.ALo(18,"push"),e.qZA(),e.qZA()),2&t){const n=o.ngIf,i=e.oxw().ngIf,a=e.oxw();e.xp6(4),e.Oqu(i.name),e.xp6(1),e.Q6J("cwMediaIf","lt-md"),e.xp6(1),e.Q6J("cwMediaIf","gt-md"),e.xp6(3),e.Q6J("bgColor","--tier-"+e.lcZ(10,10,n.level))("percentage",e.lcZ(11,12,a.userProgressPercent$)),e.xp6(3),e.Q6J("cwMediaIf","gt-md"),e.xp6(2),e.Q6J("cwMediaIf","lt-md"),e.xp6(1),e.Q6J("cwMediaIf","lt-md"),e.xp6(1),e.Q6J("cwMediaIf","gt-md"),e.xp6(1),e.Q6J("ngIf",a.purchasableXp&&e.lcZ(18,14,a.isCurrentUser$))}}function w_(t,o){if(1&t&&(e.TgZ(0,"section",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.ALo(3,"cssUrl"),e.qZA(),e.YNc(4,$_,19,16,"div",4),e.ALo(5,"async"),e.qZA(),e.qZA()),2&t){const n=o.ngIf,i=e.oxw();e.xp6(2),e.Udp("background-image",e.lcZ(3,3,n.avatar)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,5,i.userProgress$))}}let Ae=class{constructor(o,n,i,a,_,l){this.appConfig=n,this.dialog=i,this.userService=a,this.route=_,this.userId$=this.route.paramMap.pipe((0,u.U)(c=>(0,m.AWy)(c.get("id"),"User"))),this.userProgress$=this.userService.userProgress$,this.purchasableXp=this.appConfig.purchasableXp,this.isCurrentUser$=(0,b.a)([this.userService.userId$,this.userId$]).pipe((0,u.U)(([c,g])=>c===g)),this.userProgressPercent$=this.userProgress$.pipe((0,u.U)(c=>(0,m.H_R)(c))),this.user$=this.userId$.pipe((0,Q.w)(c=>o.watchQuery({query:ln,variables:{id:c}}).valueChanges),(0,u.U)(({data:c})=>(c.user||l.navigate(["/"]),c.user)))}openBuyXpModal(){this.dialog.open(Te,{width:"300px"})}};function B_(t,o){1&t&&e._UZ(0,"cw-profile-summary")}function Y_(t,o){1&t&&e._UZ(0,"cw-player-achievements")}function F_(t,o){1&t&&e._UZ(0,"cw-player-nav")}Ae.\u0275fac=function(o){return new(o||Ae)(e.Y36(S._M),e.Y36(m.qBz),e.Y36($.uw),e.Y36(m.KDu),e.Y36(f.gz),e.Y36(f.F0))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["cw-profile-summary"]],decls:2,vars:3,consts:function(){let t;return t=$localize`:␟24021817f109142ed9a349396b7a907cd07018d1␟8621465351885187740: Buy XP `,[["class","profile full-width",4,"ngIf"],[1,"profile","full-width"],["fxLayout","","fxLayoutGap","2rem",1,"card-body","w-100"],["fxflex","",1,"user-photo"],["class","user-info w-100","fxLayout","column","fxflex","","fxLayoutAlign","space-between","fxLayoutAlign.lt-sm","center",4,"ngIf"],["fxLayout","column","fxflex","","fxLayoutAlign","space-between","fxLayoutAlign.lt-sm","center",1,"user-info","w-100"],[1,"ranks","w-100","d-flex","justify-content-between"],["fxLayout","","fxLayoutAlign"," baseline","fxLayoutGap","1rem"],[1,"name"],["class","level",4,"cwMediaIf"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutAlign.gt-sm"," center","fxLayoutGap.lt-sm","0.5rem",1,"level"],["fxFlex","","fxFlex.lt-sm","100",1,"level-bar"],["placement","top","container","body",3,"bgColor","percentage"],["class","xp-text overlay",4,"cwMediaIf"],["fxLayout.lt-sm","","fxLayoutAlign.lt-sm","space-between center","fxFlex.lt-sm","100%"],["class","xp-text",4,"cwMediaIf"],["class","level-text",4,"cwMediaIf"],["class","ml-sm-4 uppercase align-self-stretch line-height-unset","mat-flat-button","","color","accent",3,"click",4,"ngIf"],[1,"level"],[1,"xp-text","overlay"],[1,"xp-text"],[1,"level-text"],["mat-flat-button","","color","accent",1,"ml-sm-4","uppercase","align-self-stretch","line-height-unset",3,"click"],t]},template:function(o,n){1&o&&(e.YNc(0,w_,6,7,"section",0),e.ALo(1,"async")),2&o&&e.Q6J("ngIf",e.lcZ(1,1,n.user$))},directives:[p.O5,L.xw,L.SQ,L.Wh,tt.h,L.yH,v_.N,D.lW],pipes:[p.Ov,N_.u,O_.Z,Y.f],styles:["section.profile[_ngcontent-%COMP%]{padding:24px}section.profile[_ngcontent-%COMP%]{background-color:var(--user-profile-bg-color);margin-top:-24px}@media (min-width: 576px){section.profile[_ngcontent-%COMP%]{padding-top:50px;padding-bottom:50px}}section.profile[_ngcontent-%COMP%]   .user-photo[_ngcontent-%COMP%]{height:90px;width:90px;background-size:cover;background-position:center;margin-right:50px}@media (max-width: 767.98px){section.profile[_ngcontent-%COMP%]   .user-photo[_ngcontent-%COMP%]{min-width:90px}}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .ranks[_ngcontent-%COMP%]{height:30px}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .ranks[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{padding-bottom:0}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .ranks[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{text-transform:uppercase}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .ranks[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{height:20px;color:#d8d8e2}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .ranks[_ngcontent-%COMP%]   mat-divider.full-height[_ngcontent-%COMP%]{height:100%}@media (max-width: 767.98px){section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .ranks[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px;line-height:18px}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .ranks[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:12px;line-height:12px}}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{height:30px;position:relative}@media (min-width: 576px){section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{margin-right:20px}}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]   cw-percent[_ngcontent-%COMP%]     .progress{height:1.875rem;border:none;border-radius:0;background-color:var(--main-color-02)}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .level-text[_ngcontent-%COMP%], section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .xp-text[_ngcontent-%COMP%]{font-size:.75rem;text-transform:uppercase;text-align:end;font-weight:600}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .level-text[_ngcontent-%COMP%]{color:var(--user-profile-text-primary-color)}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .xp-text[_ngcontent-%COMP%]{color:var(--user-profile-text-secondary-color)}section.profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]   .xp-text.overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:1.25rem;height:100%;display:flex;align-items:center}.rounded-circle[_ngcontent-%COMP%]{background:var(--card-bg-light)}.rank-icon[_ngcontent-%COMP%]{height:30px;width:30px}@media (max-width: 767.98px){.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px}}.rank-icon[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),Ae=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,Object,$.uw,m.KDu,f.gz,f.F0])],Ae);let Se=class{constructor(o,n){var i;this.appConfig=o,this.routeService=n,this.hideProfile$=new q.X(!1),this.hideNav$=new q.X(!1),this.showPlayerAchievements=!!(null===(i=this.appConfig.products)||void 0===i?void 0:i.achievements),this.routeService.primaryRouteData$.pipe((0,C.t)(this)).subscribe(a=>{this.setHideNav(!!a.hideNav),this.setHideProfile(!!a.hideProfile)})}setHideProfile(o){this.hideProfile$.next(o)}setHideNav(o){this.hideNav$.next(o)}};Se.\u0275fac=function(o){return new(o||Se)(e.Y36(m.qBz),e.Y36(m.MZ0))},Se.\u0275cmp=e.Xpm({type:Se,selectors:[["cw-player"]],decls:7,vars:9,consts:[[4,"ngIf"]],template:function(o,n){1&o&&(e.YNc(0,B_,1,0,"cw-profile-summary",0),e.ALo(1,"push"),e.YNc(2,Y_,1,0,"cw-player-achievements",0),e.ALo(3,"push"),e.YNc(4,F_,1,0,"cw-player-nav",0),e.ALo(5,"push"),e._UZ(6,"router-outlet")),2&o&&(e.Q6J("ngIf",!e.lcZ(1,3,n.hideProfile$)),e.xp6(2),e.Q6J("ngIf",n.showPlayerAchievements&&!e.lcZ(3,5,n.hideNav$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(5,7,n.hideNav$)))},directives:[p.O5,f.lC,Ae,de,me],pipes:[Y.f],styles:["cw-profile-summary[_ngcontent-%COMP%], cw-player-achievements[_ngcontent-%COMP%]{display:block;margin:0 -24px}"],changeDetection:0}),Se=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[Object,m.MZ0])],Se);var Oe=r(70653),we=r(23693),be=r(39646),R=r(97770),st=r(4707);function G_(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Deposited"),e.qZA())}function q_(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalDeposited.value)("currency",n.totalDeposited.currency)}}function J_(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Withdrawn"),e.qZA())}function W_(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWithdrawn.value)("currency",n.totalWithdrawn.currency)}}function k_(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"House Profit"),e.qZA())}function X_(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.ekj("text-success",n.totalDeposited.value-n.totalWithdrawn.value>0)("text-danger",n.totalDeposited.value-n.totalWithdrawn.value<0),e.Q6J("balance",n.totalDeposited.value-n.totalWithdrawn.value)("currency",n.totalDeposited.currency)}}function H_(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"House GGR"),e.qZA())}function V_(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.ekj("text-success",n.totalProfit.value<0)("text-danger",n.totalProfit.value>0),e.Q6J("balance",-1*n.totalProfit.value)("currency",n.totalProfit.currency)}}function z_(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Wagered (all products)"),e.qZA())}function j_(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWagered.value)("currency",n.totalWagered.currency)}}function K_(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Wagered Crash"),e.qZA())}function er(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWageredCrash.value)("currency",n.totalWageredCrash.currency)}}function tr(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Wagered Roulette"),e.qZA())}function nr(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWageredRoulette.value)("currency",n.totalWageredRoulette.currency)}}function or(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Wagered Unboxing"),e.qZA())}function ir(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWageredUnboxing.value)("currency",n.totalWageredUnboxing.currency)}}function ar(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Wagered Dice"),e.qZA())}function _r(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWageredDice.value)("currency",n.totalWageredDice.currency)}}function rr(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Wagered Plinko"),e.qZA())}function sr(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWageredPlinko.value)("currency",n.totalWageredPlinko.currency)}}function cr(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Wagered PvP"),e.qZA())}function lr(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWageredPvp.value)("currency",n.totalWageredPvp.currency)}}function ur(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Wagered eSports"),e.qZA())}function mr(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalWageredMatchBetting.value)("currency",n.totalWageredMatchBetting.currency)}}function pr(t,o){1&t&&(e.TgZ(0,"th",18),e._uU(1,"Total Commission Earnt"),e.qZA())}function dr(t,o){if(1&t&&(e.TgZ(0,"td",19),e._UZ(1,"cw-pretty-balance",20),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("balance",n.totalCommissionEarnt.value)("currency",n.totalCommissionEarnt.currency)}}function gr(t,o){1&t&&e._UZ(0,"tr",21)}function fr(t,o){1&t&&e._UZ(0,"tr",22)}let mn=(()=>{class t{constructor(n){this.apollo=n,this.columns=["totalDeposited","totalWithdrawn","totalProfit","totalGGR","totalWagered","totalWageredRoulette","totalWageredCrash","totalWageredUnboxing","totalWageredPvp","totalWageredMatchBetting","totalWageredDice","totalWageredPlinko","totalCommissionEarnt"],this.loading$=new q.X(!1),this.userId$=new st.t(1),this.marketId$=new st.t(1)}set userId(n){this.userId$.next(n)}set marketId(n){this.marketId$.next(n)}ngOnInit(){this.userStats$=(0,b.a)([this.userId$,this.marketId$]).pipe((0,Le.b)(()=>this.loading$.next(!0)),(0,Q.w)(([n,i])=>(this.queryRef=this.apollo.watchQuery({query:m.pUr,fetchPolicy:"cache-and-network",variables:{userId:n,stat:[R.HT.TOTAL_DEPOSITED,R.HT.TOTAL_WITHDRAWN,R.HT.TOTAL_PROFIT,R.HT.TOTAL_WAGERED,R.HT.TOTAL_COMMISSION_EARNT,R.HT.TOTAL_WAGERED_CRASH,R.HT.TOTAL_WAGERED_ROULETTE,R.HT.TOTAL_WAGERED_UNBOXING,R.HT.TOTAL_WAGERED_DICE,R.HT.TOTAL_WAGERED_PLINKO,R.HT.TOTAL_WAGERED_PVP,R.HT.TOTAL_WAGERED_MATCH_BETTING],type:R.Cl.ALL_TIME,marketId:i}}),this.queryRef.valueChanges.pipe((0,oe.h)(({data:a})=>!!a),(0,u.U)(({data:a})=>{const _=a.userStats.edges.map(c=>c.node),l={currency:a.user.currency,value:0};return[{totalDeposited:_.find(c=>c.stat===R.HT.TOTAL_DEPOSITED)||l,totalWithdrawn:_.find(c=>c.stat===R.HT.TOTAL_WITHDRAWN)||l,totalProfit:_.find(c=>c.stat===R.HT.TOTAL_PROFIT)||l,totalWagered:_.find(c=>c.stat===R.HT.TOTAL_WAGERED)||l,totalCommissionEarnt:_.find(c=>c.stat===R.HT.TOTAL_COMMISSION_EARNT)||l,totalWageredCrash:_.find(c=>c.stat===R.HT.TOTAL_WAGERED_CRASH)||l,totalWageredRoulette:_.find(c=>c.stat===R.HT.TOTAL_WAGERED_ROULETTE)||l,totalWageredUnboxing:_.find(c=>c.stat===R.HT.TOTAL_WAGERED_UNBOXING)||l,totalWageredDice:_.find(c=>c.stat===R.HT.TOTAL_WAGERED_DICE)||l,totalWageredPlinko:_.find(c=>c.stat===R.HT.TOTAL_WAGERED_PLINKO)||l,totalWageredPvp:_.find(c=>c.stat===R.HT.TOTAL_WAGERED_PVP)||l,totalWageredMatchBetting:_.find(c=>c.stat===R.HT.TOTAL_WAGERED_MATCH_BETTING)||l}]})))),(0,Le.b)(()=>this.loading$.next(!1)))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-summary-user-stats"]],inputs:{userId:"userId",marketId:"marketId"},decls:44,vars:9,consts:[["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","totalDeposited"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalWithdrawn"],["matColumnDef","totalProfit"],["matColumnDef","totalGGR"],["matColumnDef","totalWagered"],["matColumnDef","totalWageredCrash"],["matColumnDef","totalWageredRoulette"],["matColumnDef","totalWageredUnboxing"],["matColumnDef","totalWageredDice"],["matColumnDef","totalWageredPlinko"],["matColumnDef","totalWageredPvp"],["matColumnDef","totalWageredMatchBetting"],["matColumnDef","totalCommissionEarnt"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"balance","currency"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.TgZ(0,"table",0),e.ALo(1,"push"),e.ALo(2,"async"),e.ynx(3,1),e.YNc(4,G_,2,0,"th",2),e.YNc(5,q_,2,2,"td",3),e.BQk(),e.ynx(6,4),e.YNc(7,J_,2,0,"th",2),e.YNc(8,W_,2,2,"td",3),e.BQk(),e.ynx(9,5),e.YNc(10,k_,2,0,"th",2),e.YNc(11,X_,2,6,"td",3),e.BQk(),e.ynx(12,6),e.YNc(13,H_,2,0,"th",2),e.YNc(14,V_,2,6,"td",3),e.BQk(),e.ynx(15,7),e.YNc(16,z_,2,0,"th",2),e.YNc(17,j_,2,2,"td",3),e.BQk(),e.ynx(18,8),e.YNc(19,K_,2,0,"th",2),e.YNc(20,er,2,2,"td",3),e.BQk(),e.ynx(21,9),e.YNc(22,tr,2,0,"th",2),e.YNc(23,nr,2,2,"td",3),e.BQk(),e.ynx(24,10),e.YNc(25,or,2,0,"th",2),e.YNc(26,ir,2,2,"td",3),e.BQk(),e.ynx(27,11),e.YNc(28,ar,2,0,"th",2),e.YNc(29,_r,2,2,"td",3),e.BQk(),e.ynx(30,12),e.YNc(31,rr,2,0,"th",2),e.YNc(32,sr,2,2,"td",3),e.BQk(),e.ynx(33,13),e.YNc(34,cr,2,0,"th",2),e.YNc(35,lr,2,2,"td",3),e.BQk(),e.ynx(36,14),e.YNc(37,ur,2,0,"th",2),e.YNc(38,mr,2,2,"td",3),e.BQk(),e.ynx(39,15),e.YNc(40,pr,2,0,"th",2),e.YNc(41,dr,2,2,"td",3),e.BQk(),e.YNc(42,gr,1,0,"tr",16),e.YNc(43,fr,1,0,"tr",17),e.qZA()),2&n&&(e.ekj("opacity-50",e.lcZ(1,5,i.loading$)),e.Q6J("dataSource",e.lcZ(2,7,i.userStats$)),e.xp6(42),e.Q6J("matHeaderRowDef",i.columns),e.xp6(1),e.Q6J("matRowDefColumns",i.columns))},directives:[h.BZ,h.w1,h.fO,h.Dz,h.as,h.nj,h.ge,h.ev,ve.q,h.XQ,h.Gk],pipes:[Y.f,p.Ov],styles:["b[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}"],changeDetection:0}),t})();var Tr=r(67537),Ar=r(65391),Sr=r(95871),hr=r(24078);const Mr=E.Ps`
  mutation ChangeTradeBannedUntil($input: UpdateUserInput!) {
    updateUser(input: $input) {
      user {
        id
        tradeBannedUntil
      }
    }
  }
`;function Er(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.onTradeBan(-100)}),e.SDv(2,4),e.qZA(),e.TgZ(3,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.onTradeBan(5)}),e.SDv(4,5),e.qZA(),e.TgZ(5,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.onTradeBan(60)}),e.SDv(6,6),e.qZA(),e.TgZ(7,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.onTradeBan(1440)}),e.SDv(8,7),e.qZA(),e.TgZ(9,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.onTradeBan(10080)}),e.SDv(10,8),e.qZA(),e.TgZ(11,"button",3),e.NdJ("cwConfirmClick",function(a){e.CHM(n);const _=e.oxw();return a&&_.onTradeBan(5256e4)}),e.SDv(12,9),e.qZA(),e.qZA()}}let he=class{constructor(o,n,i,a){this.apollo=o,this.fb=n,this.changeRef=i,this.toastr=a,this.canEdit=!1,this.form=this.fb.group({tradeBannedUntil:null})}set user(o){this._user=o,this.form.patchValue({tradeBannedUntil:o.tradeBannedUntil})}get user(){return this._user}ngOnInit(){this.form.valueChanges.pipe((0,C.t)(this)).subscribe(o=>{if(this.canEdit&&this.form.valid&&o.tradeBannedUntil!==this.user.tradeBannedUntil)return this.apollo.mutate({mutation:Mr,variables:{input:{userId:this.user.id,tradeBannedUntil:this.form.value.tradeBannedUntil}}}).pipe((0,B.x)(()=>{this.changeRef.markForCheck()})).subscribe(()=>{const a=o.tradeBannedUntil&&new Date(o.tradeBannedUntil).getTime()>Date.now()?"User trade banned":"User allowed to trade";this.toastr.success(a)})})}onTradeBan(o){const n=new Date;n.setMinutes(n.getMinutes()+o),this.form.patchValue({tradeBannedUntil:n.toISOString()})}};he.\u0275fac=function(o){return new(o||he)(e.Y36(S._M),e.Y36(s.qu),e.Y36(e.sBO),e.Y36(Z._W))},he.\u0275cmp=e.Xpm({type:he,selectors:[["cw-trade-banned-edit-form"]],inputs:{user:"user",canEdit:"canEdit"},decls:6,vars:6,consts:function(){let t,o,n,i,a,_;return t=$localize`:␟019d4bd6a5690f0cfa0ecf346a4e6bf7f0d8debb␟4814285799071780083:Remove`,o=$localize`:␟f10b143da61bdbeb6b7396fc0e4bcf132abbac37␟5332350867129241974:5m`,n=$localize`:␟737b387b6c91f80617283fc4a011dd3a982efb2b␟9184963060275130414:1h`,i=$localize`:␟1ff6e4e98d5b1bee68f14d93facacb7daea5ea00␟3312860774260166080:1d`,a=$localize`:␟f7b50e4989540954a9035833470efba042a2819c␟176275557076409837:1w`,_=$localize`:␟4c8871812d33b891457828dcc697efd306c0c669␟5822292999591142959:100y`,[["novalidate","",3,"formGroup"],["type","hidden","formControlName","tradeBannedUntil"],[4,"ngIf"],["type","button","mat-flat-button","","color","dark",3,"cwConfirmClick"],t,o,n,i,a,_]},template:function(o,n){1&o&&(e.TgZ(0,"form",0),e.TgZ(1,"div"),e._uU(2),e.ALo(3,"date"),e.qZA(),e._UZ(4,"input",1),e.YNc(5,Er,13,0,"div",2),e.qZA()),2&o&&(e.Q6J("formGroup",n.form),e.xp6(2),e.Oqu(e.xi3(3,3,n.user.tradeBannedUntil,"medium")),e.xp6(3),e.Q6J("ngIf",n.canEdit))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,p.O5,D.lW,At.R],pipes:[p.uU],styles:["button[_ngcontent-%COMP%]{margin:.1rem;padding:0 .75rem}"],changeDetection:0}),he=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[S._M,s.qu,e.sBO,Z._W])],he);var Cr=r(6908),Ir=r(96415),Rr=r(76688),Lr=r(81370),vr=r(32368);function Nr(t,o){1&t&&e.GkF(0)}function Or(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Nr,1,0,"ng-container",14),e.BQk()),2&t){e.oxw();const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function yr(t,o){1&t&&e.GkF(0)}function xr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,yr,1,0,"ng-container",14),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Pr(t,o){if(1&t&&e.YNc(0,xr,2,1,"ng-container",15),2&t){const n=e.oxw(3);e.Q6J("cwRoleIf",n.UserRole.MODERATOR)}}function Ur(t,o){if(1&t&&(e.TgZ(0,"div",30),e.TgZ(1,"div",31),e.TgZ(2,"h2"),e.SDv(3,32),e.qZA(),e._UZ(4,"cw-market-select",33),e.qZA(),e._UZ(5,"cw-summary-user-stats",34),e.qZA()),2&t){const n=e.oxw(3).ngIf,i=e.oxw();e.xp6(4),e.Q6J("ctrl",i.statsMarketCtrl),e.xp6(1),e.Q6J("userId",n.id)("marketId",i.statsMarketCtrl.value)}}function br(t,o){1&t&&e.GkF(0)}function Dr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,br,1,0,"ng-container",14),e.BQk()),2&t){e.oxw();const n=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Zr(t,o){1&t&&e.GkF(0)}function $r(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Zr,1,0,"ng-container",14),e.BQk()),2&t){e.oxw(2);const n=e.MAs(12);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function wr(t,o){if(1&t&&e.YNc(0,$r,2,1,"ng-container",15),2&t){const n=e.oxw(4);e.Q6J("cwRoleIf",n.UserRole.MANAGER)}}function Br(t,o){1&t&&e._UZ(0,"input",41)}function Yr(t,o){1&t&&e._UZ(0,"input",42)}function Fr(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"button",44),e.NdJ("click",function(){return e.CHM(n),e.oxw(5).toggleShowEmail()}),e.ALo(2,"push"),e._uU(3),e.ALo(4,"push"),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(5);e.xp6(1),e.Q6J("color",e.lcZ(2,2,n.showEmail$)?"accent":"warn"),e.xp6(2),e.hij(" ",e.lcZ(4,4,n.showEmail$)?"Hide":"Change"," ")}}function Qr(t,o){if(1&t&&(e.TgZ(0,"mat-form-field",35),e.TgZ(1,"mat-label"),e.SDv(2,36),e.qZA(),e.YNc(3,Br,1,0,"input",37),e.ALo(4,"push"),e.YNc(5,Yr,1,0,"ng-template",null,38,e.W1O),e.YNc(7,Fr,5,6,"div",39),e.TgZ(8,"mat-error"),e._UZ(9,"cw-form-errors",40),e.qZA(),e.qZA()),2&t){const n=e.MAs(6),i=e.oxw(3).ngIf,a=e.oxw();e.xp6(3),e.Q6J("ngIf",e.lcZ(4,5,a.showEmail$))("ngIfElse",n),e.xp6(4),e.Q6J("ngIf",i.email),e.xp6(2),e.Q6J("control",a.personalForm.controls.email)("show",a.personalForm.controls.email.touched)}}function Gr(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"section",16),e.YNc(1,Ur,6,3,"div",17),e.TgZ(2,"div",7),e.TgZ(3,"h2"),e.SDv(4,18),e.qZA(),e.TgZ(5,"div",19),e.TgZ(6,"form",20),e.NdJ("submit",function(){return e.CHM(n),e.oxw(3).updatePersonalInfo()}),e.YNc(7,Dr,2,1,"ng-container",1),e.ALo(8,"push"),e.YNc(9,wr,1,1,"ng-template",null,21,e.W1O),e.YNc(11,Qr,10,7,"ng-template",null,22,e.W1O),e.TgZ(13,"mat-form-field",23),e.TgZ(14,"mat-label"),e.SDv(15,24),e.qZA(),e._UZ(16,"input",25),e.qZA(),e.TgZ(17,"button",26),e.TgZ(18,"span",27),e.SDv(19,28),e.qZA(),e._UZ(20,"cw-loader",29),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.MAs(10),i=e.oxw(3);e.xp6(1),e.Q6J("cwRoleIf",i.UserRole.SUPPORT_PLUS),e.xp6(5),e.Q6J("formGroup",i.personalForm),e.xp6(1),e.Q6J("ngIf",e.lcZ(8,5,i.isMe$))("ngIfElse",n),e.xp6(13),e.Q6J("loading",i.savingPersonalInfo)}}function qr(t,o){1&t&&e.GkF(0)}function Jr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,qr,1,0,"ng-container",14),e.BQk()),2&t){e.oxw();const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Wr(t,o){1&t&&e.GkF(0)}function kr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Wr,1,0,"ng-container",14),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Xr(t,o){if(1&t&&e.YNc(0,kr,2,1,"ng-container",15),2&t){const n=e.oxw(4);e.Q6J("cwRoleIf",n.UserRole.OWNER)}}function Hr(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"section",6),e.TgZ(1,"div",7),e.TgZ(2,"h2"),e.tHW(3,47),e.TgZ(4,"button",44),e.NdJ("click",function(){return e.CHM(n),e.oxw(4).toggleHideUserPreferences()}),e.ALo(5,"push"),e.ALo(6,"push"),e.qZA(),e.N_p(),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"div",48),e.SDv(9,49),e.qZA(),e.TgZ(10,"cw-user-preferences-form",50),e.NdJ("update",function(a){return e.CHM(n),e.oxw(4).updateUserPreferences(a)}),e.ALo(11,"push"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(3).ngIf,i=e.oxw();e.xp6(4),e.Q6J("color",e.lcZ(5,7,i.hideUserPreferences$)?"warn":"accent"),e.xp6(2),e.pQV(e.lcZ(6,9,i.hideUserPreferences$)?"Change":"Hide"),e.QtT(3),e.xp6(3),e.pQV(i.preferencesMessage),e.QtT(9),e.xp6(1),e.Q6J("hideUserPreferences",e.lcZ(11,11,i.hideUserPreferences$))("userId",n.id)("market",n.market)("showCertainFields",i.preferencesFields)}}function Vr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Jr,2,1,"ng-container",1),e.ALo(2,"push"),e.YNc(3,Xr,1,1,"ng-template",null,45,e.W1O),e.YNc(5,Hr,12,13,"ng-template",null,46,e.W1O),e.BQk()),2&t){const n=e.MAs(4),i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.isMe$))("ngIfElse",n)}}function zr(t,o){1&t&&e.GkF(0)}function jr(t,o){if(1&t&&(e.ynx(0),e.YNc(1,zr,1,0,"ng-container",14),e.BQk()),2&t){e.oxw();const n=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Kr(t,o){1&t&&e.GkF(0)}function es(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Kr,1,0,"ng-container",14),e.BQk()),2&t){e.oxw(2);const n=e.MAs(13);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function ts(t,o){if(1&t&&e.YNc(0,es,2,1,"ng-container",15),2&t){const n=e.oxw(3);e.Q6J("cwRoleIf",n.UserRole.MODERATOR)}}function ns(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,56),e.qZA(),e.TgZ(3,"td",10),e.TgZ(4,"div",57),e.TgZ(5,"div"),e._uU(6),e.qZA(),e.TgZ(7,"button",58),e.NdJ("click",function(){e.CHM(n);const a=e.oxw(5).ngIf;return e.oxw().openSendEmail(a.id)}),e.SDv(8,59),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(5).ngIf;e.xp6(6),e.Oqu(n.email)}}function os(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ns,9,1,"tr",0),e.BQk()),2&t){const n=e.oxw(4).ngIf;e.xp6(1),e.Q6J("ngIf",n.email)}}function is(t,o){1&t&&e.GkF(0)}function as(t,o){if(1&t&&(e.ynx(0),e.YNc(1,is,1,0,"ng-container",14),e.BQk()),2&t){e.oxw();const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function _s(t,o){1&t&&e.GkF(0)}function rs(t,o){if(1&t&&(e.ynx(0),e.YNc(1,_s,1,0,"ng-container",14),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function ss(t,o){if(1&t&&e.YNc(0,rs,2,1,"ng-container",15),2&t){const n=e.oxw(6);e.Q6J("cwRoleIf",n.UserRole.OWNER)}}function cs(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,61),e.qZA(),e.TgZ(3,"td",10),e.TgZ(4,"a",62),e.TgZ(5,"span"),e.SDv(6,63),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw(5).ngIf;e.xp6(4),e.MGl("ngbTooltip","Login or create an account on Gravatar using ",n.email," to change your avatar.")}}function ls(t,o){if(1&t&&(e.ynx(0),e.YNc(1,as,2,1,"ng-container",1),e.ALo(2,"push"),e.YNc(3,ss,1,1,"ng-template",null,45,e.W1O),e.YNc(5,cs,7,1,"ng-template",null,60,e.W1O),e.BQk()),2&t){const n=e.MAs(4),i=e.oxw(5);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.isMe$))("ngIfElse",n)}}function us(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,64),e.qZA(),e.TgZ(3,"td"),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e.TgZ(7,"mat-checkbox",65),e.NdJ("change",function(a){return e.CHM(n),e.oxw(5).toggleDevicePerformance(a)}),e.SDv(8,66),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=o.ngIf,i=e.oxw(5);e.xp6(5),e.hij("Your graphics settings are set to: ",n,""),e.xp6(2),e.Q6J("checked",n!==i.devicePerformanceEnum.LOW)}}function ms(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,67),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-steam-trade-url-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function ps(t,o){1&t&&e.GkF(0)}function ds(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ps,1,0,"ng-container",14),e.BQk()),2&t){e.oxw();const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function gs(t,o){1&t&&e.GkF(0)}function fs(t,o){if(1&t&&(e.ynx(0),e.YNc(1,gs,1,0,"ng-container",14),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Ts(t,o){if(1&t&&e.YNc(0,fs,2,1,"ng-container",15),2&t){const n=e.oxw(6);e.Q6J("cwRoleIf",n.UserRole.MANAGER)}}function As(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,70),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-steam-api-key-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(5).ngIf;e.xp6(4),e.Q6J("user",n)}}function Ss(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ds,2,1,"ng-container",1),e.ALo(2,"push"),e.YNc(3,Ts,1,1,"ng-template",null,21,e.W1O),e.YNc(5,As,5,1,"ng-template",null,69,e.W1O),e.BQk()),2&t){const n=e.MAs(4),i=e.oxw(5);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.isMe$))("ngIfElse",n)}}function hs(t,o){if(1&t&&e._UZ(0,"cw-role-select",68),2&t){const n=e.oxw(4).ngIf;e.Q6J("user",n)}}function Ms(t,o){if(1&t&&(e.ynx(0),e._uU(1),e.ALo(2,"enumTitlecase"),e.BQk()),2&t){const n=e.oxw(4).ngIf;e.xp6(1),e.Oqu(e.lcZ(2,1,n.roles))}}function Es(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,71),e.qZA(),e.TgZ(3,"td",72),e._UZ(4,"cw-authentic-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function Cs(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,73),e.qZA(),e.TgZ(3,"td",72),e._UZ(4,"cw-supplier-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function Is(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,74),e.qZA(),e.TgZ(3,"td",72),e._UZ(4,"cw-custom-title-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function Rs(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,75),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"cw-public-steam-profile-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function Ls(t,o){1&t&&e.GkF(0)}function vs(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Ls,1,0,"ng-container",14),e.BQk()),2&t){e.oxw();const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function Ns(t,o){1&t&&e.GkF(0)}function Os(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Ns,1,0,"ng-container",14),e.BQk()),2&t){e.oxw(2);const n=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",n)}}function ys(t,o){if(1&t&&e.YNc(0,Os,2,1,"ng-container",15),2&t){const n=e.oxw(6);e.Q6J("cwRoleIf",n.UserRole.MANAGER)}}function xs(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,77),e.qZA(),e.TgZ(3,"td",10),e.TgZ(4,"a",78),e._uU(5),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw(5).ngIf,i=e.oxw();e.xp6(4),e.Q6J("href",i.steamService.getProfileUrl(n.steamId),e.LSH),e.xp6(1),e.Oqu(n.steamId)}}function Ps(t,o){if(1&t&&(e.ynx(0),e.YNc(1,vs,2,1,"ng-container",1),e.ALo(2,"push"),e.YNc(3,ys,1,1,"ng-template",null,21,e.W1O),e.YNc(5,xs,6,2,"ng-template",null,76,e.W1O),e.BQk()),2&t){const n=e.MAs(4),i=e.oxw(5);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,i.isMe$))("ngIfElse",n)}}function Us(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,79),e.qZA(),e.TgZ(3,"td",72),e._UZ(4,"cw-user-suspected-trader-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function bs(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,80),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-banned-edit-form",81),e.ALo(5,"push"),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf,i=e.oxw();e.xp6(4),e.Q6J("user",n)("canEdit",!0)("reloadAfter",!0===e.lcZ(5,3,i.isMe$))}}function Ds(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,82),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-trade-banned-edit-form",83),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)("canEdit",!0)}}function Zs(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(n);const a=e.oxw(5).ngIf;return e.oxw().unmute(a.id)}),e.SDv(1,88),e.qZA()}}function $s(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,84),e.qZA(),e.TgZ(3,"td",10),e.TgZ(4,"div",85),e._uU(5),e.ALo(6,"date"),e.qZA(),e.YNc(7,Zs,2,0,"button",86),e.ALo(8,"push"),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf,i=e.oxw();e.xp6(5),e.Oqu(e.xi3(6,2,n.mutedUntil,"medium")),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,5,i.canMute$))}}function ws(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,89),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-username-row-view",90),e.qZA(),e.qZA()),2&t){const n=e.oxw(5).ngIf;e.xp6(4),e.Q6J("link",!0)("showId",!1)("user",n.affiliate)}}function Bs(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ws,5,3,"tr",0),e.BQk()),2&t){const n=e.oxw(4).ngIf;e.xp6(1),e.Q6J("ngIf",n.affiliate)}}function Ys(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,91),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-user-daily-withdraw-limit-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function Fs(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,92),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-verification-status-select",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function Qs(t,o){if(1&t&&e._UZ(0,"cw-pretty-balance",101),2&t){const n=e.oxw(2).$implicit;e.Q6J("balance",n.amount)("currency",n.currency)}}function Gs(t,o){if(1&t&&e._UZ(0,"cw-gemstone-balance",103),2&t){const n=e.oxw(3).$implicit;e.Q6J("balance",n.amount)}}function qs(t,o){if(1&t&&e.YNc(0,Gs,1,1,"cw-gemstone-balance",102),2&t){const n=e.oxw(2).$implicit,i=e.oxw(6);e.Q6J("ngIf",n.name===i.WalletName.GEMSTONE)}}function Js(t,o){if(1&t&&(e.TgZ(0,"span",98),e.YNc(1,Qs,1,2,"cw-pretty-balance",99),e.YNc(2,qs,1,1,"ng-template",null,100,e.W1O),e.qZA()),2&t){const n=e.MAs(3),i=e.oxw().$implicit,a=e.oxw(6);e.xp6(1),e.Q6J("ngIf",i.name!==a.WalletName.GEMSTONE)("ngIfElse",n)}}function Ws(t,o){if(1&t&&e._UZ(0,"cw-update-wallet-form",104),2&t){const n=e.oxw().$implicit;e.Q6J("wallet",n)}}function ks(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,94),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"td"),e.TgZ(5,"div",95),e.YNc(6,Js,4,2,"span",96),e.ALo(7,"push"),e.YNc(8,Ws,1,1,"cw-update-wallet-form",97),e.ALo(9,"push"),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.$implicit,i=e.oxw(6);e.xp6(3),e.pQV(e.lcZ(3,3,n.name)),e.QtT(2),e.xp6(3),e.Q6J("ngIf",!e.lcZ(7,5,i.canAlterBalances$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,7,i.canAlterBalances$))}}function Xs(t,o){if(1&t&&(e.ynx(0),e.YNc(1,ks,10,9,"tr",93),e.BQk()),2&t){const n=e.oxw(4).ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.wallets)("ngForTrackBy",i.trackById)}}function Hs(t,o){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,105),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-market-edit-form",68),e.qZA(),e.qZA()),2&t){const n=e.oxw(4).ngIf;e.xp6(4),e.Q6J("user",n)}}function Vs(t,o){1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,106),e.qZA(),e.TgZ(3,"td",10),e._UZ(4,"cw-volume-edit-form"),e.qZA(),e.qZA())}function zs(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",8),e.SDv(2,107),e.qZA(),e.TgZ(3,"td",10),e.TgZ(4,"mat-slide-toggle",108),e.NdJ("change",function(a){return e.CHM(n),e.oxw(5).togglePvpWarnings(a)}),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw(5);e.xp6(4),e.Q6J("checked",n.isPvpAutoJoined())}}function js(t,o){if(1&t&&(e.TgZ(0,"section",6),e.TgZ(1,"div",7),e.TgZ(2,"h2"),e.SDv(3,51),e.qZA(),e.TgZ(4,"table",52),e.TgZ(5,"tbody"),e.YNc(6,os,2,1,"ng-container",15),e.YNc(7,ls,7,4,"ng-container",0),e.YNc(8,us,9,2,"tr",0),e.ALo(9,"push"),e.YNc(10,ms,5,1,"tr",0),e.YNc(11,Ss,7,4,"ng-container",0),e.TgZ(12,"tr"),e.TgZ(13,"td",8),e.SDv(14,53),e.qZA(),e.TgZ(15,"td",10),e.YNc(16,hs,1,1,"cw-role-select",54),e.YNc(17,Ms,3,3,"ng-template",null,55,e.W1O),e.qZA(),e.qZA(),e.YNc(19,Es,5,1,"tr",15),e.YNc(20,Cs,5,1,"tr",15),e.YNc(21,Is,5,1,"tr",15),e.YNc(22,Rs,5,1,"tr",0),e.YNc(23,Ps,7,4,"ng-container",0),e.YNc(24,Us,5,1,"tr",15),e.YNc(25,bs,6,5,"tr",15),e.YNc(26,Ds,5,2,"tr",15),e.YNc(27,$s,9,7,"tr",0),e.YNc(28,Bs,2,1,"ng-container",15),e.YNc(29,Ys,5,1,"tr",15),e.YNc(30,Fs,5,1,"tr",15),e.YNc(31,Xs,2,2,"ng-container",0),e.YNc(32,Hs,5,1,"tr",15),e.YNc(33,Vs,5,0,"tr",0),e.ALo(34,"push"),e.YNc(35,zs,5,1,"tr",0),e.ALo(36,"push"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.MAs(18),i=e.oxw(3).ngIf,a=e.oxw();e.xp6(6),e.Q6J("cwRoleIf",a.UserRole.SUPPORT),e.xp6(1),e.Q6J("ngIf",a.shouldShowGravatarLink(i)),e.xp6(1),e.Q6J("ngIf",e.lcZ(9,23,a.devicePerformance$)),e.xp6(2),e.Q6J("ngIf",a.appConfig.products.trades),e.xp6(1),e.Q6J("ngIf",a.appConfig.products.trades),e.xp6(5),e.Q6J("cwRoleIf",a.UserRole.OWNER)("cwRoleIfElse",n),e.xp6(3),e.Q6J("cwRoleIf",a.UserRole.OWNER),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.OWNER),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.OWNER),e.xp6(1),e.Q6J("ngIf",a.appConfig.products.trades),e.xp6(1),e.Q6J("ngIf",a.appConfig.products.trades),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.SUPPORT),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.MANAGER),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.MANAGER),e.xp6(1),e.Q6J("ngIf",i.mutedUntil),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.MANAGER),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.SUPPORT),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.RISK_FRAUD),e.xp6(1),e.Q6J("ngIf",i.wallets),e.xp6(1),e.Q6J("cwRoleIf",a.UserRole.MANAGER),e.xp6(1),e.Q6J("ngIf",e.lcZ(34,25,a.isMe$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(36,27,a.isMe$))}}function Ks(t,o){if(1&t&&(e.YNc(0,js,37,29,"section",11),e.ALo(1,"push"),e.ALo(2,"push")),2&t){const n=e.oxw(3);e.Q6J("ngIf",e.lcZ(1,1,n.isMe$)||e.lcZ(2,3,n.roles$).includes(n.UserRole.MODERATOR))}}function ec(t,o){if(1&t&&(e.TgZ(0,"section",6),e.TgZ(1,"div",7),e.TgZ(2,"h2"),e.SDv(3,109),e.qZA(),e._UZ(4,"cw-note-list",110),e.qZA(),e.qZA()),2&t){const n=e.oxw(2).ngIf;e.xp6(4),e.Q6J("userId",n.id)}}function tc(t,o){if(1&t&&(e.TgZ(0,"section",6),e.TgZ(1,"div",7),e.TgZ(2,"h2"),e.SDv(3,111),e.qZA(),e.TgZ(4,"div"),e.TgZ(5,"h3"),e.SDv(6,112),e.qZA(),e.TgZ(7,"p"),e.tHW(8,113),e._UZ(9,"br"),e._UZ(10,"span",114),e.N_p(),e.qZA(),e._UZ(11,"cw-user-revert-form",68),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw(2).ngIf;e.xp6(11),e.Q6J("user",n)}}function nc(t,o){if(1&t&&(e.TgZ(0,"div",7),e.TgZ(1,"a",115),e.SDv(2,116),e.qZA(),e.qZA()),2&t){const n=e.oxw(3);e.xp6(1),e.Q6J("href",n.logoutUrl,e.LSH)}}function oc(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Or,2,1,"ng-container",1),e.ALo(2,"push"),e.YNc(3,Pr,1,1,"ng-template",null,2,e.W1O),e.YNc(5,Gr,21,7,"ng-template",null,3,e.W1O),e.YNc(7,Vr,7,4,"ng-container",0),e.YNc(8,jr,2,1,"ng-container",1),e.ALo(9,"push"),e.YNc(10,ts,1,1,"ng-template",null,4,e.W1O),e.YNc(12,Ks,3,5,"ng-template",null,5,e.W1O),e.TgZ(14,"section",6),e.TgZ(15,"div",7),e.TgZ(16,"tr"),e.TgZ(17,"td",8),e.SDv(18,9),e.qZA(),e.TgZ(19,"td",10),e._uU(20),e.ALo(21,"date"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(22,ec,5,1,"section",11),e.ALo(23,"push"),e.YNc(24,tc,12,1,"section",12),e.YNc(25,nc,3,1,"div",13),e.ALo(26,"push"),e.BQk()),2&t){const n=e.MAs(4),i=e.MAs(11),a=e.oxw().ngIf,_=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,9,_.isMe$))("ngIfElse",n),e.xp6(6),e.Q6J("ngIf",_.appConfig.products.shipping),e.xp6(1),e.Q6J("ngIf",e.lcZ(9,11,_.isMe$))("ngIfElse",i),e.xp6(12),e.Oqu(e.xi3(21,13,a.createdAt,"medium")),e.xp6(2),e.Q6J("ngIf",e.lcZ(23,16,_.canLeaveNotes$)),e.xp6(2),e.Q6J("cwRoleIf",_.UserRole.OWNER),e.xp6(1),e.Q6J("ngIf",e.lcZ(26,18,_.isMe$))}}function ic(t,o){if(1&t&&(e.ynx(0),e.YNc(1,oc,27,20,"ng-container",0),e.ALo(2,"push"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,n.isUserLoggedIn$))}}let Me=class extends((0,K.A)(K.t)){constructor(o,n,i,a,_,l,c,g,d,T,v,G,j,ie){super(),this.appConfig=o,this.steamService=n,this.apollo=i,this.changeRef=a,this.dialogService=_,this.userService=l,this.authService=c,this.appService=g,this.fb=d,this.toastr=T,this.platformService=v,this.route=G,this.router=j,this.performanceService=ie,this.UserRole=y.i,this.WalletName=Oe.w,this.shippingInfoRevealed=!1,this.notesRevealed=!1,this.advancedOptionsRevealed=!1,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(N=>(0,m.AWy)(N.get("id"),"User"))),this.roles$=this.userService.roles$,this.isMe$=(0,b.a)([this.userId$,this.userService.user$.pipe((0,u.U)(N=>N&&N.id))]).pipe((0,u.U)(([N,W])=>N===W)),this.canAlterBalances$=this.userService.canAlterBalances$,this.canLeaveNotes$=this.userService.canLeaveNotes$,this.canMute$=this.userService.canMute$,this.statsMarketCtrl=new s.NI,this.savingPersonalInfo=!1,this.logoutUrl=this.authService.getLogoutUrl(),this.isMobile$=this.appService.screenLtMd$,this.levelText$=this.isMobile$.pipe((0,u.U)(N=>N?"Lvl":"Level")),this.isUserLoggedIn$=this.userService.isUserLoggedIn$,this.devicePerformanceEnum=we.j2,this.isEcommerceType=this.appConfig.siteType===te.NM.ECOMMERCE,this.devicePerformance$=!this.isEcommerceType&&this.performanceService.performanceSetting$,this.preferencesFields=["name","lastName","address1","address2","region","postcode","phone","country","city"],this.showEmail$=new q.X(!1),this.hideUserPreferences$=new q.X(!0),this.user$=this.userId$.pipe((0,Q.w)(N=>this.apollo.watchQuery({query:ln,variables:{id:N}}).valueChanges),(0,u.U)(({data:N})=>{N.user||this.router.navigate(["/"]);const W=Object.assign({},N.user);return W.wallets&&(W.wallets=function(t,o=!1){const n=t.filter(i=>i.name!==Oe.w.GEMSTONE||i.name===Oe.w.GEMSTONE&&o).sort((i,a)=>i.amount>a.amount?-1:1).reduce((i,a)=>(0===a.amount&&i[a.name].length>0||(i[a.name]=i[a.name].concat(a)),i),{[Oe.w.AFFILIATE_EARNINGS]:[],[Oe.w.GEMSTONE]:[],[Oe.w.MAIN]:[],[Oe.w.BONUS]:[]});return Object.values(n).flat()}(W.wallets,!!this.appConfig.gemstones)),W}),(0,Le.b)(N=>{this.statsMarketCtrl.setValue(N.market.id),this.changeRef.detectChanges()})),this.devicePerformance$=this.isEcommerceType?(0,be.of)(null):this.performanceService.performanceSetting$,this.initPersonalForm()}initPersonalForm(){this.user$.pipe((0,oe.h)(o=>!!o),(0,C.t)(this)).subscribe(o=>{this.personalForm=this.fb.group({email:[o.email,[s.kI.email]],displayName:[o.displayName,[]]}),this.showEmail$.next(!o.email),this.emailChanged$=this.personalForm.get("email").valueChanges.pipe((0,$e.O)(this.personalForm.get("email").value),(0,u.U)(n=>n!==o.email),(0,V.d)(1)),this.displayNameChanged$=this.personalForm.get("displayName").valueChanges.pipe((0,$e.O)(this.personalForm.get("displayName").value),(0,u.U)(n=>n!==o.displayName),(0,V.d)(1)),this.emailChanged$.pipe((0,C.t)(this)).subscribe(),this.displayNameChanged$.pipe((0,C.t)(this)).subscribe()})}toggleDevicePerformance(o){this.performanceService.savePerformanceSetting(o.checked?we.j2.HIGH:we.j2.LOW)}updatePersonalInfo(){!this.personalForm.valid||!this.personalForm.touched||this.user$.pipe((0,ee.q)(1)).subscribe(o=>{this.emailChanged$.pipe((0,ee.q)(1)).subscribe(n=>{if(!n)return;const i=this.personalForm.get("email").value;this.savingPersonalInfo=!0,this.userService.updateEmail({userId:o.id,marketingEmails:!0},{email:i,userId:o.id,redirectUri:`${this.platformService.location.origin}/activate/:code`}).pipe((0,B.x)(()=>{this.savingPersonalInfo=!1,this.changeRef.markForCheck()})).subscribe(()=>this.toastr.success("Please check your email to confirm the change"))}),this.displayNameChanged$.pipe((0,ee.q)(1)).subscribe(n=>{if(!n)return;this.savingPersonalInfo=!0;const i=this.personalForm.get("displayName").value;this.apollo.mutate({mutation:M_,variables:{input:{userId:o.id,displayName:i}}}).pipe((0,B.x)(()=>{this.savingPersonalInfo=!1,this.changeRef.markForCheck()})).subscribe()})})}shouldShowGravatarLink(o){return o.email&&!o.avatar.includes("steamcdn")}unmute(o){return this.apollo.mutate({variables:{input:{userId:o,mutedUntil:null}},mutation:h_}).subscribe()}updateUserPreferences(o){o.email&&(this.preferencesMessage="Please check your email to confirm your account.")}openSendEmail(o){this.dialogService.open(Pe.SendEmailModalComponent).componentInstance.userIds=[o]}toggleShowEmail(){this.showEmail$.next(!this.showEmail$.getValue())}toggleHideUserPreferences(){this.hideUserPreferences$.next(!this.hideUserPreferences$.getValue())}isPvpAutoJoined(){return!!localStorage.getItem(Ie.F.PVP_STRAIGHT_JOIN)}togglePvpWarnings(o){o.checked?localStorage.setItem(Ie.F.PVP_STRAIGHT_JOIN,"true"):localStorage.removeItem(Ie.F.PVP_STRAIGHT_JOIN)}};Me.\u0275fac=function(o){return new(o||Me)(e.Y36(m.qBz),e.Y36(m.qe3),e.Y36(S._M),e.Y36(e.sBO),e.Y36($.uw),e.Y36(m.KDu),e.Y36(Qe.AuthService),e.Y36(P.zi),e.Y36(s.qu),e.Y36(Z._W),e.Y36(m.mix),e.Y36(f.gz),e.Y36(f.F0),e.Y36(we.BK))},Me.\u0275cmp=e.Xpm({type:Me,selectors:[["cw-summary"]],features:[e.qOj],decls:2,vars:3,consts:function(){let t,o,n,i,a,_,l,c,g,d,T,v,G,j,ie,N,W,U,k,X,H,ae,_e,Cn,In,Rn,Ln,vn,Nn,On,yn,xn,Pn,Un,bn,Dn,Zn,$n,wn,Bn;return t=$localize`:␟b4d5a5498840744671731ffa7ff77149c29343ee␟8445947709567300737:Registered`,o=$localize`:␟2b16d754538c43298a40b3efa2b957beb1d29f27␟3465962430409924123:Personal Information`,n=$localize`:␟08c74dc9762957593b91f6eb5d65efdfc975bf48␟5248717555542428023:Username`,i=$localize`:␟cc923581c90c92bdcbd6a86ae7ab42fe7dfea5cc␟5482965622479864463:Save information`,a=$localize`:␟61e0f26d843eec0b33ff475e111b0c2f7a80b835␟1069523139277190436:Statistics`,_=$localize`:␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`,l=$localize`:␟dcef38f2d8163ad607962b9d5e4385519f0e9912␟8254428585304334010: Shipping Address ${"\ufffd#4\ufffd"}:START_TAG_BUTTON: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd/#4\ufffd"}:CLOSE_TAG_BUTTON:`,c=$localize`:␟18242d97aa70c135d15546a89db8bebf417e1345␟7574946202485978903:${"\ufffd0\ufffd"}:INTERPOLATION:`,g=$localize`:␟121cc5391cd2a5115bc2b3160379ee5b36cd7716␟4930506384627295710:Settings`,d=$localize`:␟9610487cbeb5796d34d8601b5ac0c0a65f9e1d19␟795890916060309463:Roles`,T=$localize`:␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`,v=$localize`:␟34746fb1c7f3d2194d99652bdff89e6e14c9c4f4␟7922989125096435449:Contact`,G=$localize`:␟cebb7f27b5028c62b4426da3bb3e3bd3f4a3443b␟6525109356951792180:Avatar`,j=$localize`:␟98515736bc0db6d73f0829b6ce1b471fdfec0586␟5830314630242453415: Change `,ie=$localize`:␟bbf44dd06e718d5517e7a58f2009536eb2b074c9␟5454630057951914209:Graphics Settings:`,N=$localize`:␟c1f97c2703752db9c074bf0cae583173b0ab4aa3␟8989959653863010224: Use High Graphics `,W=$localize`:␟db6a59d49a71fd05dfbf68f5f87f34e5b04c3970␟6534739768860899207:Steam trade URL`,U=$localize`:␟f6221615871510acb5bba32a5b1eb832dc8108d8␟5558215238788871479:Steam API Key`,k=$localize`:␟6b8b4fb9a33b4c36cacec7b1cfc51d8dedced10f␟2431057590709880294:Authentic`,X=$localize`:␟c903969eedb25df219dedc420b951bf09aa71e52␟4348920359154187664:Supplier`,H=$localize`:␟4379d0a2ada9087d61f736bfe06ba501fe7c9b52␟1280794545812494194:Custom Title/Colour`,ae=$localize`:␟f08ca2cd012e0f9590986c09f99cb46a9fef6161␟6867078888653252843:Steam Profile Link:`,_e=$localize`:␟a0a9148db2f9d31a39daadd1009590e707eddd9a␟3864602168882250420:Steam ID`,Cn=$localize`:␟2e565fb0ba2d5129ae82ec2653669c9d42c2c44b␟7791127002111427856:Suspected Trader:`,In=$localize`:␟b17a4b4766226a1982c180757b110ba59d90fb7d␟3694014470261186707:Banned Until`,Rn=$localize`:␟fcf8e8d691188a2467afd27487c250c51f13f2ae␟5906538397759047815:Trade Banned Until`,Ln=$localize`:␟164bfb0ce336aae59c6a0b55b67a60914734fb26␟509301570933255192:Muted Until`,vn=$localize`:␟1f689fada9748a830117f5b429a88ef8629082a8␟6453471031802119612:Unmute`,Nn=$localize`:␟19907ce759f563fc7afcbfcc40a461d3bc598461␟7855582540915711907:Referred by`,On=$localize`:␟10041e6c147b194ec92e2ab6d5918b8b81c80f6c␟1153305560645848135:Daily Withdraw Limit`,yn=$localize`:␟8401c314f2163347c80e3f022f9519fcf7a934d3␟3413155930128479344:Verification Status`,xn=$localize`:␟0aca4c5b4a55fd361dd7c85478b1d5f74f94100f␟8081767372236644538:${"\ufffd0\ufffd"}:INTERPOLATION: wallet:`,Pn=$localize`:␟7109098a21df88cd43f5b617282b28df8281defa␟6367751413467188072:Market`,Un=$localize`:␟796e42bec8a6996607cf1f3e80235b86d695804a␟434404492084234684:Volume`,bn=$localize`:␟74b4f9b348d66b4ecbb4b9e802086365ab0fe0ea␟1889489512841118682:PVP Confirmations`,Dn=$localize`:␟fcde58253a4cfd52c228eebdae74e1be7a1ab714␟8104421162933956065:Notes`,Zn=$localize`:␟bc2e854e111ecf2bd7db170da5e3c2ed08181d88␟6201638315245239510:Advanced`,$n=$localize`:␟47d4d0d630fb480e6f7dd6eb684f15877e8db9f2␟7828808805120058354:Revert`,wn=$localize`:␟7faaf952a7d24dddf5bd4037354ab3322b5abc60␟2683720388745112318: Revert a user's balance, items and boxes to a point in time.${"\ufffd#9\ufffd\ufffd/#9\ufffd"}:LINE_BREAK:${"\ufffd#10\ufffd"}:START_TAG_SPAN:Warning, you cannot go forwards after going backwards in time so be careful.${"\ufffd/#10\ufffd"}:CLOSE_TAG_SPAN:`,Bn=$localize`:␟3fdc751b264ca9998e1542fcf5794e274cd56344␟7507948636555938109:Log out`,[[4,"ngIf"],[4,"ngIf","ngIfElse"],["moderatorRoleTpl",""],["personalInfoTpl",""],["moderatorRoleSecondTpl",""],["settingsTpl",""],[1,"mb-5"],[1,"card-body"],[1,"label"],t,[1,"data"],["class","mb-5",4,"ngIf"],["class","mb-5",4,"cwRoleIf"],["class","card-body",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"cwRoleIf"],[1,"personal-info","mb-5"],["class","card-body w-100",4,"cwRoleIf"],o,["fxLayout","column"],["fxLayout","row wrap","fxLayout.lt-sm","column",1,"personal-form",3,"formGroup","submit"],["managerRoleTpl",""],["formEmailTpl",""],["fxFlex","50%",1,"w-100"],n,["matInput","","formControlName","displayName"],["mat-flat-button","","color","primary","type","submit","fxFlex","50%",1,"w-100"],[1,"mr-2"],i,[3,"loading"],[1,"card-body","w-100"],[1,"d-flex","align-items-center"],a,[1,"ml-4",3,"ctrl"],[3,"userId","marketId"],["fxFlex","50%",1,"w-100","form-email"],_,["matInput","","type","text","formControlName","email",4,"ngIf","ngIfElse"],["protectEmailInput",""],["class","form-field-buttons",4,"ngIf"],[3,"control","show"],["matInput","","type","text","formControlName","email"],["matInput","","type","text","disabled","","value","***************"],[1,"form-field-buttons"],["mat-flat-button","","type","button",3,"color","click"],["ownerRoleTpl",""],["shippingInformationTpl",""],l,[1,"text-center","text-success","p-1","font-weight-bold"],c,[3,"hideUserPreferences","userId","market","showCertainFields","update"],g,[1,"details-table"],d,[3,"user",4,"cwRoleIf","cwRoleIfElse"],["displayRoles",""],T,["fxLayout","row wrap","fxLayoutAlign","space-between center"],["type","submit","mat-flat-button","","color","primary",3,"click"],v,["avatarTpl",""],G,["mat-flat-button","","color","primary","fxLayoutAlign","center center","target","_blank","href","https://en.gravatar.com/connect/","placement","top",1,"w-100","info",3,"ngbTooltip"],j,ie,["color","primary",1,"mr-3",3,"checked","change"],N,W,[3,"user"],["steamApiKeyTpl",""],U,k,[1,"data","pb-2"],X,H,ae,["steamIdTpl",""],_e,["target","_blank","rel","noreferrer",3,"href"],Cn,In,[3,"user","canEdit","reloadAfter"],Rn,[3,"user","canEdit"],Ln,[1,"mb-2"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],vn,Nn,[3,"link","showId","user"],On,yn,[4,"ngFor","ngForOf","ngForTrackBy"],xn,["fxLayout","row wrap","fxLayoutAlign","stretch center"],["class","wallet-amount",4,"ngIf"],[3,"wallet",4,"ngIf"],[1,"wallet-amount"],[3,"balance","currency",4,"ngIf","ngIfElse"],["gemstoneBalanceTpl",""],[3,"balance","currency"],["class","p-0",3,"balance",4,"ngIf"],[1,"p-0",3,"balance"],[3,"wallet"],Pn,Un,bn,[3,"checked","change"],Dn,[3,"userId"],Zn,$n,wn,[1,"text-danger"],["mat-stroked-button","",1,"log-out-btn",3,"href"],Bn]},template:function(o,n){1&o&&(e.YNc(0,ic,3,3,"ng-container",0),e.ALo(1,"asyncInner")),2&o&&e.Q6J("ngIf",e.lcZ(1,1,n.user$))},directives:[p.O5,Ge.P,p.tP,L.xw,s._Y,s.JL,s.sg,O.KE,L.yH,O.hX,Ee.Nt,s.Fj,s.JJ,s.u,D.lW,ne.R,ht.U,mn,O.TO,je.A,Tr.M,L.Wh,D.zs,Gt._L,ye.oG,Ar.F,Sr.C,Ct,Tt,pe,yt,fe,hr.S,re,he,Cr.M,Ir.F,Dt,p.sg,ve.q,Rr.P,Lr.X,ce,Rt,vr.Rr,Mt,It],pipes:[ke.d,Y.f,p.uU,Ke.X,p.rS],styles:[".label[_ngcontent-%COMP%]{width:10rem}.data[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;text-transform:uppercase}.data[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:unset!important}.data[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.label[_ngcontent-%COMP%]{color:#767b83}.details-table[_ngcontent-%COMP%]{width:100%;display:flex}.details-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{max-width:100%}@media (min-width: 576px){.details-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:3.75rem}}@media (max-width: 767.98px){.details-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:.5rem}}.details-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 .5rem;max-width:100%}.details-table[_ngcontent-%COMP%]   td.label[_ngcontent-%COMP%]{padding-left:0}@media (max-width: 767.98px){.details-table[_ngcontent-%COMP%]   td.data[_ngcontent-%COMP%], .details-table[_ngcontent-%COMP%]   td.label[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.slot[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-bottom:100%}td[_ngcontent-%COMP%]{vertical-align:middle}section.full-width[_ngcontent-%COMP%]{margin:0 -24px;padding:24px}section.achievements[_ngcontent-%COMP%]{background-color:var(--user-profile-achievements-bg-color)}@media (max-width: 767.98px){section.achievements[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}}.card-achievements[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:.75rem;line-height:.75rem;text-transform:uppercase;font-weight:600}.card-achievements[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--user-profile-text-primary-color)}.card-achievements[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--user-profile-text-secondary-color)}section.personal-info[_ngcontent-%COMP%]   form.personal-form[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 576px){section.personal-info[_ngcontent-%COMP%]   form.personal-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:50%}}section.personal-info[_ngcontent-%COMP%]   .form-email[_ngcontent-%COMP%]    {display:block}section.personal-info[_ngcontent-%COMP%]   .form-email[_ngcontent-%COMP%]     .mat-form-field-infix{justify-content:space-between}cw-name-edit-form[_ngcontent-%COMP%], cw-market-edit-form[_ngcontent-%COMP%], cw-update-wallet-form[_ngcontent-%COMP%], cw-role-select[_ngcontent-%COMP%]{flex:1}cw-volume-edit-form[_ngcontent-%COMP%]{align-self:center}@media screen and (max-width: 600px){td[_ngcontent-%COMP%]{display:inline-block;width:100%}td.label[_ngcontent-%COMP%]{width:100%}}.rounded-circle[_ngcontent-%COMP%]{background:var(--card-bg-light)}@media (min-width: 576px){[_nghost-%COMP%]   .card-body[_ngcontent-%COMP%]:not(.full-width){width:650px}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-right:25px}[_nghost-%COMP%]   mat-error[_ngcontent-%COMP%]{text-align:left}[_nghost-%COMP%]   button[type=submit][_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content}}@media (max-width: 767.98px){[_nghost-%COMP%]   section[_ngcontent-%COMP%]{margin-bottom:0!important}[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px;line-height:15px}}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding-bottom:0!important;margin-bottom:0!important}[_nghost-%COMP%]   .log-out-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .log-out-btn[_ngcontent-%COMP%]:hover{color:var(--user-profile-text-primary-color);border:1px solid var(--user-profile-text-primary-color);font-size:.75rem}.rank-icon[_ngcontent-%COMP%]{height:30px;width:30px}@media (max-width: 767.98px){.rank-icon[_ngcontent-%COMP%]{height:40px;width:40px}}.rank-icon[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),Me=(0,I.gn)([(0,C.c)(),(0,I.w6)("design:paramtypes",[Object,m.qe3,S._M,e.sBO,$.uw,m.KDu,Qe.AuthService,P.zi,s.qu,Z._W,m.mix,f.gz,f.F0,we.BK])],Me),E.Ps`
  query PlayerSummaryStats($userId: ID!) {
    user(id: $userId) {
      id
      currency
      dailyConsecutiveActiveCount
      totalCommissionEarnt
      totalDeposit
      totalWithdraw
      totalUserItemValue(status: [${x.s0.AVAILABLE}, ${x.s0.REQUESTED}, ${x.s0.PROCESSING}])
    }
  }
`;var sc=r(91115);let pn=(()=>{class t{constructor(n,i){this.route=n,this.userService=i,this.user$=this.userService.user$,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(a=>(0,m.AWy)(a.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-trade-player-to-player-list"]],decls:3,vars:6,consts:[[3,"userIdFilter","user"]],template:function(n,i){1&n&&(e._UZ(0,"cw-trade-table",0),e.ALo(1,"asyncInner"),e.ALo(2,"asyncInner")),2&n&&e.Q6J("userIdFilter",e.lcZ(1,2,i.userId$))("user",e.lcZ(2,4,i.user$))},directives:[sc.a],pipes:[ke.d],styles:[""],changeDetection:0}),t})();var cc=r(23086),w=r(57165),ct=r(72201),lc=r(78372),F=(()=>{return(t=F||(F={})).UPDATED_AT="UPDATED_AT",t.UPDATED_AT_DESC="UPDATED_AT_DESC",t.VALUE="VALUE",t.VALUE_DESC="VALUE_DESC",F;var t})(),J=(()=>{return(t=J||(J={})).TRADE="TRADE",t.TRANSACTION="TRANSACTION",t.USER_ITEM="USER_ITEM",t.WAX_PEER_TRADE="WAX_PEER_TRADE",J;var t})();function uc(t){switch(t){case F.VALUE:return"TOTAL_VALUE";case F.VALUE_DESC:return"TOTAL_VALUE_DESC";case F.UPDATED_AT:return"UPDATED_AT";case F.UPDATED_AT_DESC:return"UPDATED_AT_DESC";default:return"TOTAL_VALUE_DESC"}}function mc(t){switch(t){case F.VALUE:return w.Sk.AMOUNT;case F.VALUE_DESC:return w.Sk.AMOUNT_DESC;case F.UPDATED_AT:return w.Sk.UPDATED_AT;case F.UPDATED_AT_DESC:return w.Sk.UPDATED_AT_DESC;default:return w.Sk.AMOUNT_DESC}}var pc=r(97550),dc=r(8987);function gc(t,o){1&t&&(e.TgZ(0,"mat-form-field",14),e.TgZ(1,"mat-label"),e.SDv(2,34),e.qZA(),e._UZ(3,"input",35),e.qZA())}function fc(t,o){if(1&t&&(e.TgZ(0,"mat-option",36),e.SDv(1,37),e.ALo(2,"enumTitlecase"),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n.name),e.xp6(2),e.pQV(e.lcZ(2,2,n.name)),e.QtT(1)}}function Tc(t,o){if(1&t&&(e.TgZ(0,"mat-option",36),e.SDv(1,38),e.ALo(2,"enumTitlecase"),e.qZA()),2&t){const n=o.$implicit;e.Q6J("value",n),e.xp6(2),e.pQV(e.lcZ(2,2,n)),e.QtT(1)}}function Ac(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",12),e.NdJ("ngSubmit",function(){return e.CHM(n),e.oxw().filter()}),e.YNc(1,gc,4,0,"mat-form-field",13),e.TgZ(2,"mat-form-field",14),e.TgZ(3,"mat-label"),e.SDv(4,15),e.qZA(),e.TgZ(5,"mat-select",16),e.TgZ(6,"mat-option",17),e.SDv(7,18),e.qZA(),e.TgZ(8,"mat-option",19),e.SDv(9,20),e.qZA(),e.TgZ(10,"mat-option",21),e.SDv(11,22),e.qZA(),e.TgZ(12,"mat-option",23),e.SDv(13,24),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"mat-form-field",14),e.TgZ(15,"mat-label"),e.SDv(16,25),e.qZA(),e.TgZ(17,"mat-select",26),e.TgZ(18,"mat-option",27),e.NdJ("click",function(){return e.CHM(n),e.oxw().showAllSources()}),e._uU(19," Show all "),e.qZA(),e.YNc(20,fc,3,4,"mat-option",28),e.ALo(21,"enumToArray"),e.qZA(),e.qZA(),e.TgZ(22,"mat-form-field",14),e.TgZ(23,"mat-label"),e.SDv(24,29),e.qZA(),e.TgZ(25,"mat-select",30),e.TgZ(26,"mat-option",27),e.NdJ("click",function(){return e.CHM(n),e.oxw().showAllTypes()}),e._uU(27," Show all "),e.qZA(),e.YNc(28,Tc,3,4,"mat-option",28),e.qZA(),e.qZA(),e.TgZ(29,"button",31),e.ALo(30,"push"),e.TgZ(31,"cw-loader",32),e.SDv(32,33),e.ALo(33,"push"),e.qZA(),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("formGroup",n.form),e.xp6(1),e.Q6J("cwRoleIf",n.UserRole.MANAGER),e.xp6(19),e.Q6J("ngForOf",e.lcZ(21,6,n.UserDepositWithdrawalSource)),e.xp6(8),e.Q6J("ngForOf",n.transactiontypes),e.xp6(1),e.Q6J("disabled",e.lcZ(30,8,n.loading$)),e.xp6(2),e.Q6J("loading",e.lcZ(33,10,n.loading$))}}function Sc(t,o){1&t&&(e.TgZ(0,"th",39),e.SDv(1,40),e.qZA())}function hc(t,o){if(1&t&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"enumTitlecase"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.type)," ")}}function Mc(t,o){1&t&&(e.TgZ(0,"th",39),e.SDv(1,42),e.qZA())}function Ec(t,o){if(1&t&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"enumTitlecase"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.source)," ")}}function Cc(t,o){1&t&&(e.TgZ(0,"th",39),e.SDv(1,43),e.qZA())}function Ic(t,o){if(1&t&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"number"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.value,"1.2-2")," ")}}function Rc(t,o){1&t&&(e.TgZ(0,"th",39),e.SDv(1,44),e.qZA())}function Lc(t,o){if(1&t&&(e.TgZ(0,"td",41),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,n.date,"medium")," ")}}function vc(t,o){1&t&&e._UZ(0,"tr",45)}function Nc(t,o){1&t&&e._UZ(0,"tr",46)}let dn=(()=>{class t extends((0,K.A)(K.t)){constructor(n,i,a,_){super(),this.apollo=n,this.fb=i,this.userItemService=a,this.waxPeerTradeService=_,this.limit=25,this.UserRole=y.i,this.UserDepositWithdrawalSource=J,this.transactiontypes=[w.iU.DEPOSIT,w.iU.WITHDRAWAL],this.columns=["source","type","value","date"]}ngOnInit(){this.form=this.fb.group({source:[Object.keys(J)],userId:"",type:[[w.iU.DEPOSIT,w.iU.WITHDRAWAL]],orderBy:F.UPDATED_AT_DESC});const n=this.form.get("source").valueChanges.pipe((0,$e.O)(this.form.get("source").value)),i=this.form.get("type").valueChanges.pipe((0,$e.O)(this.form.get("type").value));this.userIdFilter&&this.form.patchValue({userId:this.userIdFilter}),this.tradeDataSource=new m.g3E(this.apollo,{query:m.UvF,field:"trades",variables:this.getTradeVariables()}),this.trades$=this.tradeDataSource.connect(),this.transactionDataSource=new m.g3E(this.apollo,{field:"transactions",query:w.cL,variables:this.getTransactionVariables()}),this.transactions$=this.transactionDataSource.connect(),this.userItemDataSource=this.userItemService.getUserItemsDataSource(this.getUserItemVariables()),this.userItems$=this.userItemDataSource.connect(),this.waxPeerTradeDataSource=this.waxPeerTradeService.getDataSource(this.getWaxPeerTradeVariables()),this.waxPeerTrades$=this.waxPeerTradeDataSource.connect(),this.loading$=(0,b.a)([this.tradeDataSource.loading$,this.transactionDataSource.loading$,this.userItemDataSource.loading$,this.waxPeerTradeDataSource.loading$]).pipe((0,u.U)(([a,_,l,c])=>a||_||l||c)),this.data$=(0,b.a)([this.trades$,this.transactions$,this.userItems$,this.waxPeerTrades$,n,i]).pipe((0,lc.b)(0),(0,u.U)(([a,_,l,c])=>this.combineData(a,_,l,c)))}showAllSources(){this.form.patchValue({source:Object.keys(J)})}showAllTypes(){this.form.patchValue({type:this.transactiontypes})}filter(){this.tradeDataSource.filter(this.getTradeVariables()),this.transactionDataSource.filter(this.getTransactionVariables()),this.userItemDataSource.filter(this.getUserItemVariables()),this.waxPeerTradeDataSource.filter(this.getWaxPeerTradeVariables())}fetchMore(){this.tradeDataSource.fetchMore(),this.transactionDataSource.fetchMore(),this.userItemDataSource.fetchMore(),this.waxPeerTradeDataSource.fetchMore()}getTradeVariables(){const n=this.form.getRawValue();return{first:this.limit,userId:n.userId,status:"COMPLETED",orderBy:uc(n.orderBy)}}getTransactionVariables(){const n=this.form.getRawValue();return{first:this.limit,userId:n.userId,status:w.LN.COMPLETED,orderBy:mc(n.orderBy)}}getUserItemVariables(){const n=this.form.getRawValue();return{first:this.limit,userId:n.userId,status:[x.s0.ORDERED,x.s0.RECEIVED],orderBy:n.orderBy}}getWaxPeerTradeVariables(){const n=this.form.getRawValue();return{first:this.limit,userId:n.userId,status:cc.yL.COMPLETED,orderBy:n.orderBy}}combineData(n,i,a,_){const l=this.form.get("type").value,c=[...(this.showTrades()?n:[]).map(d=>({trade:d,source:J.TRADE,type:this.getTradeTransactionType(d),value:d.totalValue,date:d.updatedAt,items:d.tradeItems})),...(this.showTransactions()?i:[]).map(d=>({transaction:d,source:J.TRANSACTION,type:d.type,value:d.amount,date:d.updatedAt,items:[d]})),...(this.showUserItems()?a:[]).map(d=>({userItem:d,source:J.USER_ITEM,type:w.iU.WITHDRAWAL,value:d.itemVariant.value,date:d.updatedAt,items:[d]})),...(this.showWaxPeerTrades()?_:[]).map(d=>({waxPeerTrade:d,source:J.WAX_PEER_TRADE,type:w.iU.WITHDRAWAL,value:d.value,date:d.updatedAt,items:[d]}))].filter(d=>l.includes(d.type)||!d.type);switch(this.form.get("orderBy").value){case F.UPDATED_AT:return c.sort((d,T)=>d.date.localeCompare(T.date));case F.UPDATED_AT_DESC:return c.sort((d,T)=>T.date.localeCompare(d.date));case F.VALUE:return c.sort((d,T)=>+d.value-+T.value);case F.VALUE_DESC:return c.sort((d,T)=>+T.value-+d.value);default:return c}}showTrades(){return this.form.get("source").value.includes(J.TRADE)}showTransactions(){return this.form.get("source").value.includes(J.TRANSACTION)}showUserItems(){return this.form.get("source").value.includes(J.USER_ITEM)&&this.form.get("type").value.includes(w.iU.WITHDRAWAL)}showWaxPeerTrades(){return this.form.get("source").value.includes(J.WAX_PEER_TRADE)&&this.form.get("type").value.includes(w.iU.WITHDRAWAL)}getTradeTransactionType(n){var i,a;const _=this.form.get("userId").value;return(null===(i=n.depositor)||void 0===i?void 0:i.id)===_?w.iU.DEPOSIT:(null===(a=n.withdrawer)||void 0===a?void 0:a.id)===_?w.iU.WITHDRAWAL:void 0}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M),e.Y36(s.qu),e.Y36(m.mNQ),e.Y36(ct.Fb))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-deposit-withdrawal-table"]],inputs:{showFilters:"showFilters",user:"user",userIdFilter:"userIdFilter"},features:[e.qOj],decls:23,vars:15,consts:function(){let o,n,i,a,_,l,c,g,d,T,v,G,j,ie,N,W;return o=$localize`:␟400c30183b9b6cf5b3decf8491a929e10fa21a3b␟3951121764366844614:Order by`,n=$localize`:␟30cf5f51214194db93572fb64f875a13d7e57275␟4648752585309780786:Newest First`,i=$localize`:␟bd5f183f3f3dd1bd1b7e43e4f03ee4dd155d8a87␟5615928855597874003:Oldest First`,a=$localize`:␟7357fe1c776e67edbc37336e996704ffb3a3d1b4␟797566923156240250:Highest Value`,_=$localize`:␟5259dee6a9568b230820307fe74f1fa480a5fe62␟387493859395024241:Lowest Value`,l=$localize`:␟6834fa6b43d1ecbdf147c48dd9c4d72f1484571d␟9155608366859514313:Source`,c=$localize`:␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`,g=$localize`:␟5ca707824ab93066c7d9b44e1b8bf216725c2c22␟8829497237648100098:Filter`,d=$localize`:␟83c4d4d764d2e2725ab8e919ec16ac400e1f290a␟2128755808672960949:User ID`,T=$localize`:␟eee0ffe01fd8c3f50ef18ba3e923efae0382d5f8␟8543535162971154127:VXNlcjox or 1`,v=$localize`:␟197454fc6c1ace8524fb66cc72d6e94280e8198a␟5784145941718799747:${"\ufffd0\ufffd"}:INTERPOLATION:`,G=$localize`:␟0812a79abccefbd3300f0f7f6e229ea2bf213813␟8968879350506372261:${"\ufffd0\ufffd"}:INTERPOLATION:`,j=$localize`:␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`,ie=$localize`:␟6834fa6b43d1ecbdf147c48dd9c4d72f1484571d␟9155608366859514313:Source`,N=$localize`:␟5049e204c14c648691ac775a64fb504467aeb549␟6555318547274416232:Value`,W=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,[["class","mt-3","fxLayout","row wrap","fxLayoutAlign","start center","fxLayoutGap","0.5rem",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","",1,"w-100",3,"dataSource","trackBy"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","source"],["matColumnDef","value"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["cwIntersectionObserver","",1,"text-center",3,"intersectionSkipWhile","intersectionSkipNotVisible","visibilityChange"],["type","view",1,"mt-4",3,"diameter","loading"],["fxLayout","row wrap","fxLayoutAlign","start center","fxLayoutGap","0.5rem",1,"mt-3",3,"formGroup","ngSubmit"],["fxFlex","0 1 auto","fxFlex.lt-md","1 1 calc(50% - 0.5rem)",4,"cwRoleIf"],["fxFlex","0 1 auto","fxFlex.lt-md","1 1 calc(50% - 0.5rem)"],o,["formControlName","orderBy"],["value","UPDATED_AT_DESC"],n,["value","UPDATED_AT"],i,["value","VALUE_DESC"],a,["value","VALUE"],_,l,["formControlName","source","multiple",""],[1,"bold","text-success",3,"click"],[3,"value",4,"ngFor","ngForOf"],c,["formControlName","type","multiple",""],["fxFlex","0 1","type","submit","mat-flat-button","","color","primary",1,"mb-3",3,"disabled"],[3,"loading"],g,d,["matInput","","type","text","placeholder",T,"formControlName","userId"],[3,"value"],v,G,["mat-header-cell",""],j,["mat-cell",""],ie,N,W,["mat-header-row",""],["mat-row",""]]},template:function(n,i){1&n&&(e.YNc(0,Ac,34,12,"form",0),e.TgZ(1,"table",1),e.ALo(2,"async"),e.ynx(3,2),e.YNc(4,Sc,2,0,"th",3),e.YNc(5,hc,3,3,"td",4),e.BQk(),e.ynx(6,5),e.YNc(7,Mc,2,0,"th",3),e.YNc(8,Ec,3,3,"td",4),e.BQk(),e.ynx(9,6),e.YNc(10,Cc,2,0,"th",3),e.YNc(11,Ic,3,4,"td",4),e.BQk(),e.ynx(12,7),e.YNc(13,Rc,2,0,"th",3),e.YNc(14,Lc,3,4,"td",4),e.BQk(),e.YNc(15,vc,1,0,"tr",8),e.YNc(16,Nc,1,0,"tr",9),e.qZA(),e.TgZ(17,"section",10),e.NdJ("visibilityChange",function(){return i.fetchMore()}),e.ALo(18,"push"),e._uU(19," \xa0"),e._UZ(20,"cw-loader",11),e.ALo(21,"push"),e._uU(22,"\xa0\n"),e.qZA()),2&n&&(e.Q6J("ngIf",i.showFilters),e.xp6(1),e.Q6J("dataSource",e.lcZ(2,9,i.data$))("trackBy",i.trackById),e.xp6(14),e.Q6J("matHeaderRowDef",i.columns),e.xp6(1),e.Q6J("matRowDefColumns",i.columns),e.xp6(1),e.Q6J("intersectionSkipWhile",e.lcZ(18,11,i.loading$))("intersectionSkipNotVisible",!0),e.xp6(3),e.Q6J("diameter",120)("loading",e.lcZ(21,13,i.loading$)))},directives:[p.O5,h.BZ,h.w1,h.fO,h.Dz,h.as,h.nj,pc.Z,ne.R,s._Y,s.JL,L.xw,L.Wh,L.SQ,s.sg,Ge.P,O.KE,L.yH,O.hX,Ye.gD,s.JJ,s.u,Fe.ey,p.sg,D.lW,Ee.Nt,s.Fj,h.ge,h.ev,h.XQ,h.Gk],pipes:[p.Ov,Y.f,dc.T,Ke.X,p.JJ,p.uU],styles:[""],changeDetection:0}),t})(),gn=(()=>{class t{constructor(n,i){this.route=n,this.userService=i,this.user$=this.userService.user$,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(a=>(0,m.AWy)(a.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-deposit-withdrawal-list"]],decls:3,vars:7,consts:[[3,"showFilters","user","userIdFilter"]],template:function(n,i){1&n&&(e._UZ(0,"cw-user-deposit-withdrawal-table",0),e.ALo(1,"async"),e.ALo(2,"async")),2&n&&e.Q6J("showFilters",!0)("user",e.lcZ(1,3,i.user$))("userIdFilter",e.lcZ(2,5,i.userId$))},directives:[dn],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();var fn=r(6233);const Oc=[A.vY,fn.rl,Ve.oz,ze.oI];let lt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[Oc,A.vY,fn.rl,Ve.oz,ze.oI]}),t})();const yc=[P.hv,Ne.$M,Pe.SharedUserModule,A.vY,Ue.WalletModule,ot,it,lt,rt];let xc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[yc,P.hv,Ne.$M,Pe.SharedUserModule,A.vY,Ue.WalletModule,ot,it,lt,rt]}),t})();var Pc=r(86614);let Tn=(()=>{class t{constructor(n){this.route=n,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(i=>(0,m.AWy)(i.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-transactions"]],decls:2,vars:4,consts:[[3,"userId","showFilters"]],template:function(n,i){1&n&&(e._UZ(0,"cw-transaction-table",0),e.ALo(1,"async")),2&n&&e.Q6J("userId",e.lcZ(1,2,i.userId$))("showFilters",!0)},directives:[Pc.Z],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();const Uc=[Ze.ZR,A.vY];let bc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[Uc,Ze.ZR,A.vY]}),t})();var Dc=r(94813),Zc=r(62557);const $c=E.Ps`
  query UserUserStatSummaryQuery($id: ID!) {
    user(id: $id) {
      id
      level
      marketId
      currency
      totalUserItemValue: totalUserItemValue(status: [${x.s0.EXCHANGED}])
      preferences {
        id
        hideProfileStats
      }
    }
  }
`,wc=E.Ps`
  query FavouriteBoxQuery($userId: ID, $marketId: ID) {
    favouriteBox(userId: $userId, marketId: $marketId) {
      box {
        slug
        market {
          id
          slug
        }
        id
        name
        iconUrl
      }
      totalOpenings
    }
  }
`,Bc=E.Ps`
  query LuckiestBoxOpeningQuery($userId: ID, $marketId: ID) {
    luckiestBoxOpening(userId: $userId, marketId: $marketId) {
      boxOpening {
        id
        box {
          slug
          market {
            id
            slug
          }
          id
          name
          iconUrl
        }
        itemVariant {
          ...ItemVariant
        }
        profit
        currency
      }
      totalOpenings
    }
  }

  ${m.xp8}
`;var An=r(10217),ut=r(9224),Yc=r(46907),Fc=r(17150),Qc=r(30121);function Gc(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"div",5),e.TgZ(1,"mat-checkbox",6),e.NdJ("click",function(){return e.CHM(n),e.oxw().updateUserPreferences()}),e.SDv(2,7),e.qZA(),e.qZA()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("formControl",n.hideProfileStatsCtrl)}}function qc(t,o){1&t&&(e.TgZ(0,"div",8),e.SDv(1,9),e.qZA())}const Jc=function(){return["/roll"]};function Wc(t,o){if(1&t&&(e.TgZ(0,"mat-card",14),e.TgZ(1,"mat-card-header"),e._UZ(2,"img",15),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",16),e.SDv(5,17),e.qZA(),e.TgZ(6,"div",18),e._UZ(7,"cw-pretty-balance",19),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.ngIf;e.Q6J("routerLink",e.DdM(3,Jc)),e.xp6(7),e.Q6J("balance",n.value)("currency",n.currency)}}const kc=function(){return["/crash"]};function Xc(t,o){if(1&t&&(e.TgZ(0,"mat-card",14),e.TgZ(1,"mat-card-header"),e._UZ(2,"img",20),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",16),e.SDv(5,21),e.qZA(),e.TgZ(6,"div",18),e._uU(7),e.ALo(8,"multiplierText"),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.ngIf;e.Q6J("routerLink",e.DdM(4,kc)),e.xp6(7),e.hij(" ",e.lcZ(8,2,n.value)," ")}}function Hc(t,o){if(1&t&&(e.ynx(0),e.YNc(1,Wc,8,4,"mat-card",13),e.ALo(2,"push"),e.YNc(3,Xc,9,5,"mat-card",13),e.ALo(4,"push"),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,n.highestRouletteGreenWin$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,4,n.highestCrashMultiplier$))}}function Vc(t,o){1&t&&e._UZ(0,"img",24)}function zc(t,o){if(1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-header"),e.YNc(2,Vc,1,0,"img",22),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",16),e.SDv(5,23),e.qZA(),e.TgZ(6,"div",18),e._UZ(7,"cw-pretty-balance",19),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.ngIf,i=e.oxw(2),a=e.MAs(10);e.xp6(2),e.Q6J("ngIf",!i.isGamingType)("ngIfElse",a),e.xp6(5),e.Q6J("balance",n.value)("currency",n.currency)}}function jc(t,o){if(1&t&&e._UZ(0,"img",31),2&t){const n=e.oxw().ngIf;e.Q6J("src",n.box.iconUrl,e.LSH)}}const Sn=function(t,o){return["/boxes/view/",t,o]};function Kc(t,o){if(1&t&&(e.TgZ(0,"mat-card",25),e.TgZ(1,"mat-card-header"),e.YNc(2,jc,1,1,"img",26),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",27),e.TgZ(5,"span",28),e.tHW(6,29),e._UZ(7,"cw-icon",30),e.N_p(),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",18),e._uU(11),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.ngIf;e.Q6J("routerLink",e.WLB(4,Sn,(null==n||null==n.box||null==n.box.market?null:n.box.market.slug)||"",(null==n||null==n.box?null:n.box.slug)||"")),e.xp6(2),e.Q6J("ngIf",n.box),e.xp6(7),e.hij(" Opened ",n.totalOpenings," times"),e.xp6(2),e.hij(" ",(null==n.box?null:n.box.name)||" "," ")}}function el(t,o){if(1&t&&e._UZ(0,"img",31),2&t){const n=e.oxw().ngIf;e.Q6J("src",n.boxOpening.box.iconUrl,e.LSH)}}function tl(t,o){if(1&t&&(e.TgZ(0,"mat-card",25),e.TgZ(1,"mat-card-header"),e.YNc(2,el,1,1,"img",26),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",27),e.TgZ(5,"span",28),e.tHW(6,32),e._UZ(7,"cw-icon",30),e.N_p(),e.qZA(),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",18),e._uU(11),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.ngIf;e.Q6J("routerLink",e.WLB(4,Sn,(null==n||null==n.boxOpening.box||null==n.boxOpening.box.market?null:n.boxOpening.box.market.slug)||"",(null==n||null==n.boxOpening||null==n.boxOpening.box?null:n.boxOpening.box.slug)||"")),e.xp6(2),e.Q6J("ngIf",n.boxOpening),e.xp6(7),e.hij(" Opened ",n.totalOpenings," times"),e.xp6(2),e.hij(" ",(null==n.boxOpening?null:n.boxOpening.box.name)||" "," ")}}function nl(t,o){if(1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-header"),e._UZ(2,"cw-item",33),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",27),e.TgZ(5,"span",28),e.tHW(6,34),e._UZ(7,"cw-icon",30),e.N_p(),e.qZA(),e._uU(8),e._UZ(9,"cw-pretty-balance",19),e.qZA(),e.TgZ(10,"div",18),e._uU(11),e.qZA(),e.qZA(),e.qZA()),2&t){const n=o.ngIf;e.xp6(2),e.Q6J("itemVariant",n)("showValue",!1)("showText",!1)("showMenuLink",!1)("banned",!1),e.xp6(6),e.hij(" "," "," "),e.xp6(1),e.Q6J("balance",n.value)("currency",n.currency),e.xp6(2),e.AsE("",n.brand," - ",n.name,"")}}function ol(t,o){if(1&t&&(e.TgZ(0,"mat-card"),e.TgZ(1,"mat-card-header"),e._UZ(2,"cw-icon",35),e.qZA(),e.TgZ(3,"mat-card-content"),e.TgZ(4,"div",16),e.SDv(5,36),e.qZA(),e.TgZ(6,"div",18),e._UZ(7,"cw-pretty-balance",19),e.ALo(8,"push"),e.ALo(9,"pluck"),e.ALo(10,"push"),e.qZA(),e.qZA(),e.qZA()),2&t){const n=e.oxw(2);e.xp6(7),e.Q6J("balance",e.lcZ(8,2,n.totalValueExchanged$))("currency",e.xi3(9,4,e.lcZ(10,7,n.user$),"currency"))}}function il(t,o){if(1&t&&(e.TgZ(0,"section",10),e.YNc(1,Hc,5,6,"ng-container",11),e.YNc(2,zc,8,4,"mat-card",11),e.ALo(3,"push"),e.YNc(4,Kc,12,7,"mat-card",12),e.ALo(5,"push"),e.YNc(6,tl,12,7,"mat-card",12),e.ALo(7,"push"),e.YNc(8,nl,12,10,"mat-card",11),e.ALo(9,"push"),e.YNc(10,ol,11,9,"mat-card",11),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isGamingType),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,6,n.totalUnboxedUserStat$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,8,n.favouriteBox$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,10,n.luckiestBoxOpening$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,12,n.bestUnboxedItem$)),e.xp6(2),e.Q6J("ngIf",!n.isGamingType)}}function al(t,o){1&t&&e._UZ(0,"div",37)}let hn=(()=>{class t{constructor(n,i,a,_){this.appConfig=n,this.apollo=i,this.route=a,this.userService=_,this.userId$=this.route.parent.params.pipe((0,Dc.j)("id")),this.user$=this.userId$.pipe((0,Q.w)(l=>this.apollo.watchQuery({fetchPolicy:"cache-and-network",query:$c,variables:{id:l}}).valueChanges),(0,u.U)(({data:l})=>null==l?void 0:l.user),(0,Le.b)(l=>{var c;this.hideProfileStatsCtrl.patchValue(null===(c=null==l?void 0:l.preferences)||void 0===c?void 0:c.hideProfileStats)}),(0,V.d)({bufferSize:1,refCount:!0})),this.isMe$=(0,b.a)([this.userService.user$,this.user$]).pipe((0,u.U)(([l,c])=>l&&c&&l.id===c.id)),this.hiddenProfileStats$=(0,b.a)([this.userService.userId$,this.user$,this.userService.roles$]).pipe((0,u.U)(([l,c,g])=>{var d;return!g.includes(y.i.SUPPORT)&&(null===(d=c.preferences)||void 0===d?void 0:d.hideProfileStats)&&l!==c.id}),(0,V.d)({bufferSize:1,refCount:!0})),this.hideProfileStatsCtrl=new s.NI,this.isGamingType="GAMING"===this.appConfig.siteType,this.totalProfitFromBoxes$=(0,be.of)(null),this.totalItemsExchanged$=(0,be.of)(null)}ngOnInit(){const n=this.user$.pipe((0,Ce.M)(this.hiddenProfileStats$),(0,Q.w)(([i,a])=>!i||a?(0,be.of)([]):this.apollo.watchQuery({query:m.pUr,fetchPolicy:"cache-and-network",variables:{userId:i.id,marketId:i.marketId,stat:[R.HT.TOTAL_WAGERED_UNBOXING,R.HT.HIGHEST_CRASH_MULTIPLIER,R.HT.HIGHEST_ROULETTE_GREEN_WIN],type:R.Cl.ALL_TIME}}).valueChanges.pipe((0,u.U)(({data:_})=>_?_.userStats.edges.map(l=>l.node):[]))),(0,V.d)(1));this.totalUnboxedUserStat$=n.pipe((0,u.U)(i=>i.find(a=>a.stat===R.HT.TOTAL_WAGERED_UNBOXING))),this.highestCrashMultiplier$=n.pipe((0,u.U)(i=>i.find(a=>a.stat===R.HT.HIGHEST_CRASH_MULTIPLIER))),this.highestRouletteGreenWin$=n.pipe((0,u.U)(i=>i.find(a=>a.stat===R.HT.HIGHEST_ROULETTE_GREEN_WIN))),this.favouriteBox$=this.user$.pipe((0,Ce.M)(this.hiddenProfileStats$),(0,Q.w)(([i,a])=>!i||a?(0,be.of)(null):this.apollo.watchQuery({query:wc,fetchPolicy:"cache-and-network",variables:{userId:i.id,marketId:i.marketId}}).valueChanges.pipe((0,u.U)(({data:_})=>{var l;return(null===(l=null==_?void 0:_.favouriteBox)||void 0===l?void 0:l.box)?_.favouriteBox:null})))),this.luckiestBoxOpening$=this.user$.pipe((0,Ce.M)(this.hiddenProfileStats$),(0,Q.w)(([i,a])=>!i||a?(0,be.of)(null):this.apollo.watchQuery({query:Bc,fetchPolicy:"cache-and-network",variables:{userId:i.id,marketId:i.marketId}}).valueChanges.pipe((0,u.U)(({data:_})=>{var l;return(null===(l=null==_?void 0:_.luckiestBoxOpening)||void 0===l?void 0:l.boxOpening)?_.luckiestBoxOpening:null}))),(0,V.d)(1)),this.bestUnboxedItem$=this.luckiestBoxOpening$.pipe((0,u.U)(i=>{var a;return null===(a=null==i?void 0:i.boxOpening)||void 0===a?void 0:a.itemVariant})),this.totalValueExchanged$=this.user$.pipe((0,u.U)(i=>i?i.totalUserItemValue:0))}updateUserPreferences(){(0,Zc.$)(this.hideProfileStatsCtrl.valueChanges,this.userId$).pipe((0,ee.q)(1)).subscribe(([n,i])=>{this.userService.updateUserPreferences({userId:i,hideProfileStats:n}).pipe((0,ee.q)(1)).subscribe()})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.qBz),e.Y36(S._M),e.Y36(f.gz),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-user-stat-summary"]],decls:11,vars:15,consts:function(){let o,n,i,a,_,l,c,g,d;return o=$localize`:␟31fb732fc1c447bbc7f3d7214a5890d62507beac␟3178388467572939179:Hide My Stats From Other Users`,n=$localize`:␟08a1cbf6d15d568faa8f0210a551f9bf0ebb58dc␟8454961705369274230: User has hidden their stats `,i=$localize`:␟0585bfbd899949af721211a65fd232c80d16d77d␟3309844978719000809:Highest Roulette Green Win`,a=$localize`:␟57e5ac366ed8a033515884bcb5991551d0a94f4d␟6480223460875611683:Highest Crash Multiplier`,_=$localize`:␟9ac4ba5cbd3d387920e0479ad8382a9b688e53c4␟4480293732432920591:Total Unboxed Value`,l=$localize`:␟316ba1bd880ed37f02cfc83b5560eb99c46cf803␟6988278240206366306:Favourite Box ${"\ufffd#7\ufffd"}:START_TAG_CW_ICON:${"\ufffd/#7\ufffd"}:CLOSE_TAG_CW_ICON:`,c=$localize`:␟365aab353cf15bf09ecae37ebe5abae4d97d2e4a␟2438966628199807000:Luckiest Box ${"\ufffd#7\ufffd"}:START_TAG_CW_ICON:${"\ufffd/#7\ufffd"}:CLOSE_TAG_CW_ICON:`,g=$localize`:␟d7d79b419720fce4909c8ac5c9ca6bda78760d79␟8807202945003723468:Best Unboxed Item ${"\ufffd#7\ufffd"}:START_TAG_CW_ICON:${"\ufffd/#7\ufffd"}:CLOSE_TAG_CW_ICON:`,d=$localize`:␟de657096a8fa8b02c5b28cd258857d46604c74bb␟7178781214807384375:Total Items Exchanged`,[[1,"card-body"],["class","mb-4",4,"ngIf"],["class","mb-4 font-weight-500",4,"ngIf"],["gdGap","2rem","gdGap.xs","1rem","gdColumns","repeat(auto-fill, minmax(250px, 0.5fr))","gdColumns.lt-sm","repeat(auto-fill, minmax(250px, 1fr))",4,"ngIf"],["defaultBgImage",""],[1,"mb-4"],["color","primary",3,"formControl","click"],o,[1,"mb-4","font-weight-500"],n,["gdGap","2rem","gdGap.xs","1rem","gdColumns","repeat(auto-fill, minmax(250px, 0.5fr))","gdColumns.lt-sm","repeat(auto-fill, minmax(250px, 1fr))"],[4,"ngIf"],["class","clickable",3,"routerLink",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],["src","/assets/games/roll.png"],[1,"type","text-titlecase"],i,[1,"value"],[3,"balance","currency"],["src","/assets/games/crash.png"],a,["src","/assets/images/box-dollars.png",4,"ngIf","ngIfElse"],_,["src","/assets/images/box-dollars.png"],[1,"clickable",3,"routerLink"],[3,"src",4,"ngIf"],[1,"type"],[1,"text-titlecase"],l,["inlineSVG","assets/icons/square.svg"],[3,"src"],c,[3,"itemVariant","showValue","showText","showMenuLink","banned"],g,["inlineSVG","assets/icons/exchange-sell-stylized.svg",1,"img-icon"],d,[1,"img-container"]]},template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,Gc,3,1,"div",1),e.ALo(2,"push"),e.YNc(3,qc,2,0,"div",2),e.ALo(4,"pluck"),e.ALo(5,"pluck"),e.ALo(6,"push"),e.YNc(7,il,11,14,"section",3),e.ALo(8,"push"),e.YNc(9,al,1,0,"ng-template",null,4,e.W1O),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,3,i.isMe$)),e.xp6(2),e.Q6J("ngIf",e.xi3(4,5,e.xi3(5,8,e.lcZ(6,11,i.user$),"preferences"),"hideProfileStats")),e.xp6(4),e.Q6J("ngIf",!1===e.lcZ(8,13,i.hiddenProfileStats$)))},directives:[p.O5,ye.oG,s.JJ,s.oH,An.Gx,An.A0,ut.a8,f.rH,ut.dk,ut.dn,ve.q,Re.o,le.d$,Yc.P],pipes:[Y.f,Fc.F,Qc.Y],styles:["mat-card[_ngcontent-%COMP%]{background-color:var(--item-bg);padding:10px;border-radius:0;width:100%}mat-card.clickable[_ngcontent-%COMP%]:hover{cursor:pointer}mat-card-header[_ngcontent-%COMP%]{background-color:var(--user-stat-summary-img-bg);border-radius:0;justify-content:center;align-items:center}@media (min-width: 576px){mat-card-header[_ngcontent-%COMP%]{min-height:209px}}@media (max-width: 767.98px){mat-card-header[_ngcontent-%COMP%]{min-height:142px}}mat-card-header[_ngcontent-%COMP%]     cw-icon.img-icon{color:#000;width:66px}mat-card-header[_ngcontent-%COMP%]     img{width:200px;max-width:100%}mat-card-header[_ngcontent-%COMP%]     cw-item{width:100%;background:transparent!important;border-radius:0;border:0!important}mat-card-header[_ngcontent-%COMP%]     cw-item .item-footer{display:none}mat-card-header[_ngcontent-%COMP%]     cw-item, mat-card-header[_ngcontent-%COMP%]     cw-item *{max-height:210px}mat-card-header[_ngcontent-%COMP%]     cw-item .img-container{background-color:transparent!important;max-height:195px}mat-card-header[_ngcontent-%COMP%]     cw-item img{width:200px!important}mat-card-header[_ngcontent-%COMP%]     .mat-card-header-text{margin:0}mat-card-header[_ngcontent-%COMP%]     .total-unboxed{width:200px}mat-card-content[_ngcontent-%COMP%]{padding:18px 0 10px 10px}mat-card-content[_ngcontent-%COMP%]     cw-icon{width:4px}.type[_ngcontent-%COMP%]{color:#767b83;margin-bottom:10px;padding-right:10px;font-size:12px}.type[_ngcontent-%COMP%]     cw-pretty-balance{font-weight:400}.value[_ngcontent-%COMP%], .value[_ngcontent-%COMP%]     cw-pretty-balance{font-size:15px;font-weight:700}.value[_ngcontent-%COMP%]{text-transform:uppercase}.img-container[_ngcontent-%COMP%]{width:100%;padding-bottom:75%;position:relative;background:var(--item-image-bg)}"],changeDetection:0}),t})();const _l=[A.vY,Ne.$M];let rl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[_l,A.vY,Ne.$M]}),t})();const sl=E.Ps`
  query UserWalletCrashBet($id: ID!) {
    crashBet(id: $id) {
      id
      gameId
    }
  }
`;var cl=r(74619);let Mn=(()=>{class t{constructor(n,i,a,_){this.apollo=n,this.route=i,this.router=a,this.dialog=_,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(l=>(0,m.AWy)(l.get("id"),"User")))}openTransactionModal(n){this.dialog.open(Ze.rU).componentInstance.id=n}openCrashModal(n){this.apollo.query({query:sl,variables:{id:n}}).pipe((0,ee.q)(1)).subscribe(({data:a})=>this.router.navigate(["/crash",a.crashBet.gameId]))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(S._M),e.Y36(f.gz),e.Y36(f.F0),e.Y36($.uw))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-wallet-changes"]],decls:4,vars:4,consts:[[1,"card"],[1,"card-body"],[3,"userId","showFilters"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"cw-wallet-change-table",2),e.ALo(3,"async"),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("userId",e.lcZ(3,2,i.userId$))("showFilters",!0))},directives:[cl.w],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();const ll=[A.vY,Ue.WalletModule];let ul=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[ll,A.vY,Ue.WalletModule]}),t})();var ml=r(14469);let En=(()=>{class t{constructor(n,i){this.route=n,this.userService=i,this.user$=this.userService.user$,this.userId$=this.route.parent.paramMap.pipe((0,u.U)(a=>(0,m.AWy)(a.get("id"),"User")))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.gz),e.Y36(m.KDu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cw-wax-peer-trade-list"]],decls:3,vars:7,consts:[[3,"showFilters","user","userIdFilter"]],template:function(n,i){1&n&&(e._UZ(0,"cw-wax-peer-trade-table",0),e.ALo(1,"async"),e.ALo(2,"async")),2&n&&e.Q6J("showFilters",!0)("user",e.lcZ(1,3,i.user$))("userIdFilter",e.lcZ(2,5,i.userId$))},directives:[ml._],pipes:[p.Ov],styles:[""],changeDetection:0}),t})();const pl=[A.vY,ct._4];let dl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.H9],imports:[pl,A.vY,ct._4]}),t})();const gl=[{path:"my-inventory",component:nn,canActivate:[i_.z],data:{title:"My Inventory"}},{path:":id",component:Se,children:[{path:"",redirectTo:"summary"},{path:"summary",component:Me,data:{title:"Profile Summary"}},{path:"fairness",canActivate:[m.N2m,P.Op],component:rn,data:{productName:"boxes",title:"Fairness"}},{path:"transactions",canActivate:[m.N2m],component:Mn,data:{title:"Transactions"}},{path:"top-ups",canActivate:[m.N2m],component:Tn,data:{title:"Top-ups"}},{path:"promo-codes",canActivate:[m.N2m],component:_n,data:{title:"Promo Codes"}},{path:"inventory",component:tn,data:{footer:!1,title:"Inventory"}},{path:"messages",component:gt,data:{title:"Messages"}},{path:"boxes",canActivate:[P.Op],component:mt,data:{productName:"boxes",footer:!1,title:"User Boxes"}},{path:"unboxing",canActivate:[m.N2m,P.Op],component:pt,data:{productName:"boxes",title:"Unboxing History"}},{path:"crash",canActivate:[m.N2m,P.Op],component:at,data:{productName:"crash",title:"Crash History"}},{path:"dice",canActivate:[m.N2m,P.Op],component:Ft,data:{productName:"dice",title:"Dice History"}},{path:"upgrade",canActivate:[m.N2m,P.Op],component:Jt,data:{productName:"quickUpgrade",title:"Quick Upgrade History"}},{path:"pvp",canActivate:[m.N2m,P.Op],component:Qt,data:{productName:"pvp",title:"Pvp History"}},{path:"bets",canActivate:[m.N2m,P.Op],component:Zt,data:{productName:"roulette",title:"Bets History"}},{path:"plinko",canActivate:[m.N2m,P.Op],component:zt,data:{productName:"plinko",title:"Plinko Bets History"}},{path:"steam-trade-history",canActivate:[m.N2m,P.Op],component:sn,data:{productName:"trades",title:"Steam Trade History"}},{path:"steam-inventory",canActivate:[m.N2m,P.Op],component:cn,data:{productName:"trades",title:"Steam Inventory"}},{path:"trades",canActivate:[m.N2m,P.Op],component:pn,data:{productName:"trades",title:"P2P trades"}},{path:"wax-peer-trades",canActivate:[m.N2m,P.Op],component:En,data:{productName:"trades",title:"WaxPeer trades"}},{path:"user-deposit-withdrawal",canActivate:[m.N2m,P.Op],component:gn,data:{productName:"trades",title:"User deposit withdrawal list"}},{path:"stats",component:hn,data:{title:"User stat summary"}},{path:"documents",canActivate:[m.N2m],component:bt,data:{title:"User documents"}},{path:"exchange",canActivate:[m.N2m,P.Op],component:Kt,data:{productName:"exchange",footer:!1,title:"Exchange items",hideNav:!0,hideProfile:!0}},{path:"deliveries",canActivate:[m.N2m,P.Op],component:jt,data:{productName:"shipping",footer:!0,title:"Deliveries",hideNav:!0,hideProfile:!0}},{path:"email-alert",canActivate:[m.N2m],component:ue,data:{footer:!1,title:"Email alert",hideNav:!0,hideProfile:!0}}]}];let fl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[f.Bz.forChild(gl)],f.Bz]}),t})(),Tl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[A.vY,fl,Jn,Xn,ot,it,Qa,o_,r_,p_,rt,xc,lt,bc,rl,ul,dl]]}),t})()}}]);