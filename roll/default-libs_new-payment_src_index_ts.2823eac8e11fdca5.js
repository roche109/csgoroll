(self.webpackChunkcsgoroll=self.webpackChunkcsgoroll||[]).push([["default-libs_new-payment_src_index_ts","libs_promo-code_src_lib_core_index_ts"],{61309:(R,g,i)=>{"use strict";i.r(g),i.d(g,{DefaultPaymentMethodConfirmation:()=>h,NewPaymentModule:()=>ge,NewPaymentService:()=>M,PaymentMethodConfirmation:()=>p});var r=i(69808),n=i(70655),t=i(5e3),s=i(48966),a=i(23600),c=i(57165),m=i(44987),d=i(52457),f=i(61135),C=i(63900),w=i(95698),v=i(28746),I=i(5963),A=(()=>{return(u=A||(A={})).Usd="USD",u.Eur="EUR",u.World="TKN",A;var u})();const B={[A.Usd]:{abrev:"USD",name:"Dollar",icon:"dollar"},[A.Eur]:{abrev:"EUR",name:"Euro",icon:"euro"},[A.World]:{abrev:"USD",name:"Dollar",icon:"dollar"}},$={G2APay:{icon:"g2apay.png",selected:!1},Kinguin:{icon:"kinguin.svg",selected:!1}};var Z=i(75424),y=i(54004);const h=0,p={BCH:6,BTC:1,ETH:10,LTC:6};var _=i(35357);let M=(()=>{class u{constructor(e,l,O,V){this.dialog=e,this.userService=l,this.paymentService=O,this.router=V,this.ClassicPaymentOptionsMap={prepaid:{id:"prepaid",icon:"assets/icons/payment-icons/gift-card.png",label:"gift card",title:"with a Gift Card",type:c.x6.PREPAID}},this.currentTransaction$=new f.X(null),this.paymentOptionMap=new f.X({classic:this.ClassicPaymentOptionsMap,crypto:{}}),this.detectedMarket$=new f.X(null),this.transactionType=c.iU.DEPOSIT,this.parsePaymentOptionArray=(Y,J)=>{var X;if(J.type===c.x6.CRYPTO)Y.crypto[J.method]={id:J.method,confirmations:null!==(X=p[J.method])&&void 0!==X?X:h,paymentOption:J,type:c.x6.CRYPTO,fee:J.percentageFee};else if(J.type===c.x6.CARD){const ot=J.provider;Y.classic[ot]={id:ot,label:J.providerName,paymentOption:J,type:c.x6.CARD,icon:J.iconUrl,title:"with "+J.providerName}}return Y}}openNewPaymentModal(){return this.userService.user$.pipe((0,w.q)(1)).subscribe(e=>{if(e)return e.verified||e.email?!e.verified&&e.email?this.router.navigate(["/player",e.id,"email-alert"]):this.openModal():this.openEmailFormModal(e.id)})}openModal(){return this.dialog.open(z,{panelClass:["modal-xlg","modal-no-padding","modal-height-lg","modal-full-mobile","modal-no-border"]})}openEmailFormModal(e){const l=this.dialog.open(Z.EmailFormDialogComponent);return l.componentInstance.userId=e,l}createTransaction(e){const l={promoCode:this.promoCodeApplied&&!this.promoCodeApplied.expired?this.promoCodeApplied.code:"",type:this.transactionType,preferredCurrency:this.detectedMarket$.getValue().currency};return this.paymentService.createTransaction(Object.assign(Object.assign({},e),l)).pipe((0,y.U)(O=>(O&&this.currentTransaction$.next(O),O)))}setPromoCode(e){this.promoCodeApplied=e}clearPromoCodeApplied(){this.promoCodeApplied=null}setTransactionType(e){this.transactionType=e}getPaymentCryptoOptions(){return this.paymentService.getOptions(this.transactionType===c.iU.DEPOSIT?c.A8.DEPOSIT:c.A8.WITHDRAWAL).pipe((0,y.U)(e=>e.filter(({enabled:l})=>!!l)),(0,C.w)(e=>{const l=e.reduce(this.parsePaymentOptionArray,{classic:{},crypto:{}});return l.classic=Object.assign(Object.assign({},l.classic),this.paymentOptionMap.getValue().classic),this.paymentOptionMap.next(l),this.paymentOptionMap.asObservable()}))}getDetectedMarket(){return this.userService.market$.pipe((0,w.q)(1),(0,y.U)(e=>(this.detectedMarket$.next(e),e)))}}return u.\u0275fac=function(e){return new(e||u)(t.LFG(s.uw),t.LFG(a.KDu),t.LFG(c.te),t.LFG(_.F0))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();function L(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"cw-icon",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(6).setShowContentInMobile(!1)}),t.qZA()}2&u&&t.Q6J("inlineSVG","assets/icons/payment-icons/back.svg")}function k(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"cw-currencies-menu",22),t.NdJ("changeSelectedPaymentMethod",function(O){return t.CHM(e),t.oxw(7).changeSelectedPaymentMethod(O)}),t.qZA()}if(2&u){const e=t.oxw(6).$implicit,l=t.oxw();t.Q6J("classicArray",l.classicPaymentOptionArray)("cryptoArray",l.cryptoPaymentOptionArray)("selectedPaymentMethod",e)}}function S(u,o){if(1&u){const e=t.EpF();t.ynx(0),t.TgZ(1,"cw-promo-code",20),t.NdJ("newPromoCodeApplied",function(O){return t.CHM(e),t.oxw(6).newPromoCodeApplied(O)})("clearPromoCodeApplied",function(){return t.CHM(e),t.oxw(6).clearPromoCodeApplied()}),t.ALo(2,"push"),t.qZA(),t.YNc(3,k,1,3,"cw-currencies-menu",21),t.BQk()}if(2&u){const e=t.oxw(5).$implicit,l=t.oxw();t.xp6(1),t.Q6J("disabled",(null==e?null:e.id)===l.ClassicPaymentOptionMap.prepaid.id)("code",t.lcZ(2,4,l.promoCodeApplied$))("userCurrency",l.userCurrency),t.xp6(2),t.Q6J("ngIf",l.paymentOptionMap.classic&&l.paymentOptionMap.crypto)}}function T(u,o){if(1&u&&(t._UZ(0,"cw-classic-currency",24),t.ALo(1,"push")),2&u){const e=t.oxw(6).$implicit,l=t.oxw();t.Q6J("selectedPaymentMethod",e)("market",l.detectedMarket)("userCurrency",l.userCurrency)("promoCodeApplied",t.lcZ(1,4,l.promoCodeApplied$))}}function D(u,o){if(1&u&&(t.ynx(0),t.YNc(1,T,2,6,"cw-classic-currency",23),t.ALo(2,"push"),t.BQk()),2&u){t.oxw(3);const e=t.MAs(3),l=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,l.isClassicPaymentOption$))("ngIfElse",e)}}function P(u,o){if(1&u){const e=t.EpF();t.ynx(0),t.TgZ(1,"cw-icon",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).closeModal()}),t.qZA(),t.TgZ(2,"p",9),t.YNc(3,L,1,1,"cw-icon",10),t._uU(4),t.ALo(5,"push"),t.qZA(),t.TgZ(6,"section",11),t.TgZ(7,"div",12),t.TgZ(8,"div",13),t.GkF(9,14),t.qZA(),t.YNc(10,S,4,6,"ng-container",15),t.qZA(),t.TgZ(11,"div",16),t.TgZ(12,"h6",17),t._uU(13),t.ALo(14,"push"),t.qZA(),t.YNc(15,D,3,4,"ng-container",15),t.qZA(),t.qZA(),t.TgZ(16,"p",18),t.GkF(17,14),t.qZA(),t.BQk()}if(2&u){const e=t.oxw(2).$implicit,l=t.MAs(5),O=t.MAs(7),V=t.MAs(9),Y=t.oxw().$implicit,J=t.oxw(2);t.xp6(2),t.ekj("transparent-background",Y),t.xp6(1),t.Q6J("ngIf",Y),t.xp6(1),t.hij(" ",e?"Withdraw "+J.withdrawSuffix:"Deposit"+(Y?" "+t.lcZ(5,17,J.modalTitle$):"")," "),t.xp6(3),t.ekj("mobile-hide",Y),t.xp6(2),t.Q6J("ngTemplateOutlet",l),t.xp6(1),t.Q6J("ngIf",!e)("ngIfElse",O),t.xp6(1),t.ekj("mobile-hide",!Y),t.xp6(2),t.hij(" ",e?"Withdraw "+J.withdrawSuffix:"Deposit "+t.lcZ(14,19,J.modalTitle$)," "),t.xp6(2),t.Q6J("ngIf",!e)("ngIfElse",V),t.xp6(1),t.ekj("mobile-hide",Y),t.xp6(1),t.Q6J("ngTemplateOutlet",l)}}function x(u,o){if(1&u&&(t.TgZ(0,"mat-dialog-content"),t.TgZ(1,"div",5),t._UZ(2,"cw-loader",6),t.qZA(),t.YNc(3,P,18,21,"ng-container",7),t.qZA()),2&u){const e=o.$implicit,l=t.oxw(3).$implicit;t.xp6(1),t.ekj("show-loading",e),t.xp6(1),t.Q6J("loading",e)("diameter",96),t.xp6(1),t.Q6J("ngIf",!!l)}}function b(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"cw-crypto-currency",25),t.NdJ("refreshRate",function(){return t.CHM(e),t.oxw(4).refreshRate()}),t.ALo(1,"push"),t.qZA()}if(2&u){const e=t.oxw(3).$implicit,l=t.oxw();t.Q6J("paymentMethod",e)("userCurrency",l.userCurrency)("showRefreshIcon",t.lcZ(1,3,l.showRefreshIcon$))}}function E(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"a",26),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).setIsWithdraw(!1)}),t._uU(1,"Deposit"),t.qZA(),t.TgZ(2,"a",27),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).setIsWithdraw(!0)}),t._uU(3,"Withdraw"),t.qZA()}if(2&u){const e=t.oxw().$implicit;t.ekj("active",!e),t.xp6(2),t.ekj("active",e)}}function N(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"cw-items-menu",28),t.NdJ("continueClick",function(){return t.CHM(e),t.oxw(4).setShowContentInMobile(!0)})("totalValueSelected",function(O){return t.CHM(e),t.oxw(4).updateTotalValueSelected(O)}),t.qZA()}if(2&u){const e=t.oxw(4);t.Q6J("userCurrency",e.userCurrency)}}function F(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"cw-withdraw-main-content",29),t.NdJ("withdrawEvent",function(O){return t.CHM(e),t.oxw(4).createWithdrawTransaction(O)})("routerEvent",function(){return t.CHM(e),t.oxw(4).closeModal()}),t.ALo(1,"push"),t.qZA()}if(2&u){const e=t.oxw(4);t.Q6J("userCurrency",e.userCurrency)("cryptoArray",e.cryptoPaymentOptionArray)("cryptoMap",e.paymentOptionMap.crypto)("totalValueSelected",t.lcZ(1,4,e.totalValueSelected$))}}function q(u,o){if(1&u&&(t.ynx(0),t.YNc(1,x,4,5,"mat-dialog-content",0),t.YNc(2,b,2,5,"ng-template",null,1,t.W1O),t.YNc(4,E,4,4,"ng-template",null,2,t.W1O),t.YNc(6,N,1,1,"ng-template",null,3,t.W1O),t.YNc(8,F,2,6,"ng-template",null,4,t.W1O),t.BQk()),2&u){const e=t.oxw(3);t.xp6(1),t.Q6J("rxLet",e.loading$)}}function Q(u,o){if(1&u&&(t.ynx(0),t.YNc(1,q,10,1,"ng-container",0),t.BQk()),2&u){const e=t.oxw(2);t.xp6(1),t.Q6J("rxLet",e.isWithdraw$)}}function j(u,o){if(1&u&&(t.ynx(0),t.YNc(1,Q,2,1,"ng-container",0),t.BQk()),2&u){const e=t.oxw();t.xp6(1),t.Q6J("rxLet",e.showContentInMobile$)}}let z=class{constructor(o,e,l,O,V,Y,J){this.dialogRef=o,this.userService=e,this.newPaymentService=l,this.paymentService=O,this.toastr=V,this.changeDetectorRef=Y,this.exchangeRateService=J,this.isWithdraw$=new f.X(!1),this.selectedPaymentMethod$=new f.X(null),this.isClassicPaymentOption$=new f.X(!0),this.totalValueSelected$=new f.X(0),this.modalTitle$=new f.X(""),this.withdrawSuffix="items",this.showContentInMobile$=new f.X(!1),this.classicPaymentOptionArray=[],this.cryptoPaymentOptionArray=[],this.promoCodeApplied$=new f.X(null),this.loading$=new f.X(!1),this.showRefreshIcon$=new f.X(!1),this.UserCurrencyMap=B,this.userItemIds=[],this.RefreshTime=60,this.counter=this.RefreshTime,this.tick=1e3}ngOnInit(){this.newPaymentService.setTransactionType(c.iU.DEPOSIT),this.ClassicPaymentOptionMap=this.newPaymentService.ClassicPaymentOptionsMap,this.newPaymentService.getDetectedMarket().pipe((0,C.w)(o=>(this.detectedMarket=o,this.userCurrency=this.UserCurrencyMap[this.detectedMarket.currency],this.userService.currency$)),(0,m.t)(this)).subscribe(o=>{this.userCurrency.currency=o}),this.paymentCryptoOptionsSubscription=this.userService.promoCode$.subscribe(o=>{o&&(this.newPaymentService.setPromoCode({code:o.code,expired:o.expired,percentageReward:o.percentageReward}),this.changeDetectorRef.detectChanges())}),this.newPaymentService.getPaymentCryptoOptions().pipe((0,w.q)(1)).subscribe(o=>{this.paymentOptionMap=o,this.classicPaymentOptionArray=Object.values(o.classic),this.cryptoPaymentOptionArray=Object.values(o.crypto);const e=this.classicPaymentOptionArray[0];this.selectedPaymentMethod$.next(e),this.modalTitle$.next(e.title)})}setIsWithdraw(o){this.isWithdraw$.getValue()!==o&&(this.newPaymentService.setTransactionType(o?c.iU.WITHDRAWAL:c.iU.DEPOSIT),this.newPaymentService.getPaymentCryptoOptions().subscribe(e=>{this.paymentOptionMap=e,this.classicPaymentOptionArray=Object.values(e.classic),this.cryptoPaymentOptionArray=Object.values(e.crypto),this.totalValueSelected$.next(0),this.userItemIds=[],this.isWithdraw$.next(o)}))}setShowContentInMobile(o){this.showContentInMobile$.getValue()!==o&&this.showContentInMobile$.next(o)}changeSelectedPaymentMethod(o){const e=this.cryptoPaymentOptionArray.map(l=>l.id);return o.type===c.x6.CRYPTO?(this.loading$.next(!0),void this.userService.currency$.pipe((0,w.q)(1),(0,C.w)(l=>this.exchangeRateService.fetchExchangesRates(l,e))).subscribe(()=>{switch(this.previousCryptoTransactionInput={amount:100,method:o.paymentOption.method,paymentOptionId:o.paymentOption.id,provider:o.paymentOption.provider,token:""},o.paymentOption.transactionType){case c.vk.TRANSACTION:this.loadCryptoTransaction(o);break;case c.vk.CRYPTO_ADDRESS:this.loadCryptoAddress(o)}})):this.updateUIExtraVariables(o)}newPromoCodeApplied(o){this.promoCodeApplied$.next(o),this.newPaymentService.setPromoCode(o)}clearPromoCodeApplied(){this.promoCodeApplied$.next(null),this.newPaymentService.clearPromoCodeApplied()}loadCryptoAddress(o){this.createCryptoTransactionSubscription=this.paymentService.getCryptoAddress({paymentOptionId:o.paymentOption.id}).pipe((0,m.t)(this),(0,v.x)(()=>{this.loading$.next(!1)})).subscribe(e=>{this.updateUIExtraVariables(Object.assign(Object.assign({},o),{cryptoAddress:e})),this.startTimer()})}loadCryptoTransaction(o){this.createCryptoTransactionSubscription=this.createTransaction().pipe((0,v.x)(()=>{this.loading$.next(!1)})).subscribe(e=>{this.updateUIExtraVariables(Object.assign(Object.assign({},o),{transaction:e})),this.startTimer()})}updateUIExtraVariables(o){this.selectedPaymentMethod$.next(o),this.modalTitle$.next(o.type===c.x6.CRYPTO?o.paymentOption.methodName:o.title),this.isClassicPaymentOption$.next(o.type!==c.x6.CRYPTO),this.setShowContentInMobile(!0),this.withdrawSuffix=this.showContentInMobile$.getValue()?"items":"cryptocurrency",this.changeDetectorRef.detectChanges()}startTimer(){this.counter=this.RefreshTime,this.countDownSubscription=(0,I.H)(0,this.tick).subscribe(this.timerSubscriptionHandler.bind(this)),this.showRefreshIcon$.next(!1),this.changeDetectorRef.detectChanges()}stopTimer(){this.showRefreshIcon$.next(!0),this.changeDetectorRef.detectChanges(),this.countDownSubscription&&this.countDownSubscription.unsubscribe()}timerSubscriptionHandler(){this.counter--,0===this.counter&&this.stopTimer()}createTransaction(){return this.newPaymentService.createTransaction(this.previousCryptoTransactionInput)}refreshRate(){const o=this.selectedPaymentMethod$.getValue();this.showRefreshIcon$.getValue()&&o.type===c.x6.CRYPTO&&this.loadCryptoTransaction(o)}closeModal(){this.dialogRef.close()}updateTotalValueSelected(o){this.totalValueSelected$.next(o.totalValueSelected),this.userItemIds=o.userItemIds}createWithdrawTransaction(o){const e={amount:this.totalValueSelected$.getValue(),cryptoAddress:o.wallet,paymentOptionId:this.paymentOptionMap.crypto[o.method].paymentOption.id,sourceCurrency:this.userCurrency.abrev,userItemIds:this.userItemIds};this.loading$.next(!0),this.createWithdrawTransactionSubscription=this.newPaymentService.createTransaction(e).pipe((0,v.x)(()=>{this.loading$.next(!1)})).subscribe(l=>{l&&(this.toastr.success("Withdraw requested successful"),this.closeModal())})}ngOnDestroy(){this.createCryptoTransactionSubscription&&this.createCryptoTransactionSubscription.unsubscribe(),this.createWithdrawTransactionSubscription&&this.createWithdrawTransactionSubscription.unsubscribe(),this.paymentCryptoOptionsSubscription&&this.paymentCryptoOptionsSubscription.unsubscribe()}};z.\u0275fac=function(o){return new(o||z)(t.Y36(s.so),t.Y36(a.KDu),t.Y36(M),t.Y36(c.te),t.Y36(d._W),t.Y36(t.sBO),t.Y36(a.UsA))},z.\u0275cmp=t.Xpm({type:z,selectors:[["cw-new-payment-modal"]],decls:1,vars:1,consts:[[4,"rxLet"],["cryptoCurrency",""],["controlsButtons",""],["itemsMenu",""],["withdrawContent",""],[1,"loading"],[3,"loading","diameter"],[4,"ngIf"],["inlineSVG","assets/icons/close-modal.svg",1,"close-btn",3,"click"],[1,"mobile-title"],["class","icon",3,"inlineSVG","click",4,"ngIf"],[1,"new-payment-container"],[1,"lateral-menu"],[1,"control-buttons"],[3,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],[1,"main-content"],[1,"title"],[1,"mobile-controls"],[1,"icon",3,"inlineSVG","click"],[3,"disabled","code","userCurrency","newPromoCodeApplied","clearPromoCodeApplied"],[3,"classicArray","cryptoArray","selectedPaymentMethod","changeSelectedPaymentMethod",4,"ngIf"],[3,"classicArray","cryptoArray","selectedPaymentMethod","changeSelectedPaymentMethod"],[3,"selectedPaymentMethod","market","userCurrency","promoCodeApplied",4,"ngIf","ngIfElse"],[3,"selectedPaymentMethod","market","userCurrency","promoCodeApplied"],[3,"paymentMethod","userCurrency","showRefreshIcon","refreshRate"],[1,"control-button",3,"click"],["control-button","",1,"control-button",3,"click"],[3,"userCurrency","continueClick","totalValueSelected"],[3,"userCurrency","cryptoArray","cryptoMap","totalValueSelected","withdrawEvent","routerEvent"]],template:function(o,e){1&o&&t.YNc(0,j,2,1,"ng-container",0),2&o&&t.Q6J("rxLet",e.selectedPaymentMethod$)},styles:[".no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{position:relative;display:block}@media (max-width: 767.98px){[_nghost-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{max-width:100%;max-height:100%;padding:0;width:100%;height:-webkit-fill-available;height:100vh}[_nghost-%COMP%]   .mobile-title[_ngcontent-%COMP%]{display:flex;height:8%;width:100%;padding:0;margin:0;position:relative;justify-content:center;align-items:center;font-weight:700;font-size:21px;line-height:21px;background-color:var(--main-color-04)}[_nghost-%COMP%]   .mobile-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:5%;transform:translateY(-50%);width:16px;height:12px}[_nghost-%COMP%]   .transparent-background[_ngcontent-%COMP%]{background-color:transparent}[_nghost-%COMP%]   .new-payment-container[_ngcontent-%COMP%]{display:flex;max-width:100%;width:100%;height:86%}[_nghost-%COMP%]   .new-payment-container[_ngcontent-%COMP%]   .lateral-menu[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .new-payment-container[_ngcontent-%COMP%]   .lateral-menu[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .new-payment-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{max-width:100%;width:100%;height:100%}[_nghost-%COMP%]   .new-payment-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .mobile-controls[_ngcontent-%COMP%]{display:flex;height:6%;width:100%;padding:0;margin:0}[_nghost-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50%;height:100%;padding:.875rem 0;text-align:center;font-weight:600;font-size:12px;line-height:12px;color:#000;background-color:#fff;text-transform:uppercase}[_nghost-%COMP%]   .mobile-controls[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;background-color:#000}[_nghost-%COMP%]   .mobile-hide[_ngcontent-%COMP%]{display:none!important}}mat-dialog-content[_ngcontent-%COMP%]{max-width:960px;max-height:100vh;margin:0;padding:0;position:relative}mat-dialog-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:25px;height:25px;position:absolute;top:12px;right:12px;z-index:2}mat-dialog-content[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{cursor:pointer}.mobile-title[_ngcontent-%COMP%]{display:none}.new-payment-container[_ngcontent-%COMP%]{display:flex;max-width:960px;height:630px}.new-payment-container[_ngcontent-%COMP%]   .lateral-menu[_ngcontent-%COMP%]{min-width:310px;height:100%;background-color:var(--main-color-04)}.new-payment-container[_ngcontent-%COMP%]   .lateral-menu[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1.5rem 1.25rem}.new-payment-container[_ngcontent-%COMP%]   .lateral-menu[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]{width:126px;padding:.875rem 0;text-align:center;font-weight:600;font-size:12px;line-height:12px;color:#000;background-color:#fff;text-transform:uppercase}.new-payment-container[_ngcontent-%COMP%]   .lateral-menu[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:nth-child(2){margin-left:16px}.new-payment-container[_ngcontent-%COMP%]   .lateral-menu[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .control-button[_ngcontent-%COMP%]:hover{cursor:pointer}.new-payment-container[_ngcontent-%COMP%]   .lateral-menu[_ngcontent-%COMP%]   .control-buttons[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;background-color:#000}.new-payment-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{max-width:650px;width:100%;height:100%;display:flex;flex-direction:column;background-color:var(--main-elements-bg)}.new-payment-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:32px;line-height:32px;padding:1.875rem 0;margin:0;text-align:center;text-transform:none}.mobile-controls[_ngcontent-%COMP%]{display:none}.loading[_ngcontent-%COMP%]{position:absolute;display:none;width:100%;height:100%;opacity:.4;background-color:#000;z-index:3;justify-content:center;align-items:center}.show-loading[_ngcontent-%COMP%]{display:flex}.show-loading[_ngcontent-%COMP%]:hover{cursor:wait}"],changeDetection:0}),z=(0,n.gn)([(0,m.c)(),(0,n.w6)("design:paramtypes",[s.so,a.KDu,M,c.te,d._W,t.sBO,a.UsA])],z);var ut=i(45990);function tt(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){const V=t.CHM(e).$implicit;return t.oxw().changeSelectedPaymentMethod.emit(V)}),t.TgZ(1,"span"),t._UZ(2,"img",4),t._uU(3),t.qZA(),t.qZA()}if(2&u){const e=o.$implicit,l=t.oxw();t.ekj("selected-currency",l.selectedPaymentMethod.id===e.id),t.xp6(2),t.Q6J("src",e.icon,t.LSH),t.xp6(1),t.hij(" ",e.label," ")}}function K(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){const V=t.CHM(e).$implicit;return t.oxw().changeSelectedPaymentMethod.emit(V)}),t.TgZ(1,"span"),t._UZ(2,"img",4),t._uU(3),t.qZA(),t.TgZ(4,"span",5),t._uU(5),t.qZA(),t.qZA()}if(2&u){const e=o.$implicit,l=t.oxw();t.ekj("selected-currency",l.selectedPaymentMethod.id===e.id),t.xp6(2),t.Q6J("src",e.paymentOption.iconUrl,t.LSH),t.xp6(1),t.hij(" ",e.paymentOption.methodName," "),t.xp6(2),t.hij(" ",e.paymentOption.method," ")}}let ft=(()=>{class u{constructor(){this.classicArray=[],this.cryptoArray=[],this.changeSelectedPaymentMethod=new t.vpe}}return u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["cw-currencies-menu"]],inputs:{classicArray:"classicArray",cryptoArray:"cryptoArray",selectedPaymentMethod:"selectedPaymentMethod"},outputs:{changeSelectedPaymentMethod:"changeSelectedPaymentMethod"},decls:7,vars:2,consts:[[1,"currencies-container"],[1,"currencies-section-title"],["class","currency",3,"selected-currency","click",4,"ngFor","ngForOf"],[1,"currency",3,"click"],[1,"icon",3,"src"],[1,"abrev"]],template:function(e,l){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"h6",1),t._uU(2,"Classic Currency"),t.qZA(),t.YNc(3,tt,4,4,"div",2),t.TgZ(4,"h6",1),t._uU(5,"Crypto Currency"),t.qZA(),t.YNc(6,K,6,5,"div",2),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngForOf",l.classicArray),t.xp6(3),t.Q6J("ngForOf",l.cryptoArray))},directives:[r.sg],styles:["[_nghost-%COMP%]{display:block}.currencies-container[_ngcontent-%COMP%]{width:100%;height:100%}.currencies-section-title[_ngcontent-%COMP%]{font-weight:600;font-size:12px;line-height:13px;text-transform:uppercase;display:flex;align-items:center;height:50px;margin:0;padding:0 1.25rem}.currency[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:0 1.25rem;height:50px;font-weight:500;font-size:12px;line-height:13px;color:#8e8e99;text-transform:uppercase}.currency[_ngcontent-%COMP%]   .abrev[_ngcontent-%COMP%]{position:absolute;font-weight:400;font-size:12px;line-height:13px;right:20px;top:20px}.currency[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:auto;margin-right:10px}.currency[_ngcontent-%COMP%]:hover{cursor:pointer}.selected-currency[_ngcontent-%COMP%]{background-color:var(--main-color-02);border-left:4px solid #639ad5;padding-left:1rem}"],changeDetection:0}),u})();var U=i(93075),Ct=i(62650),H=i(41525),et=i(31495),nt=i(96298),dt=i(67322),G=i(98833),W=i(77093),gt=i(47423),It=i(43343);function St(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"cw-icon",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearPromoCodeApplied.emit()}),t.qZA()}2&u&&t.Q6J("inlineSVG","assets/icons/close.svg")}function Rt(u,o){1&u&&(t.TgZ(0,"span",10),t._UZ(1,"cw-icon",11),t._uU(2," Active "),t.qZA()),2&u&&(t.xp6(1),t.Q6J("inlineSVG","assets/icons/checked.svg"))}function Zt(u,o){1&u&&(t.TgZ(0,"span",12),t._UZ(1,"cw-icon",13),t._uU(2," Disabled "),t.qZA()),2&u&&(t.xp6(1),t.Q6J("inlineSVG","assets/icons/cancel.svg"))}function Dt(u,o){if(1&u&&(t.ynx(0),t.YNc(1,Rt,3,1,"span",8),t.YNc(2,Zt,3,1,"span",9),t.BQk()),2&u){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.disabled),t.xp6(1),t.Q6J("ngIf",e.disabled)}}function Nt(u,o){if(1&u&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&u){const e=t.oxw();t.xp6(1),t.AsE(" You\u2019ll receive an extra ",e.promoCodeApplied.percentageReward,"% (Max ",t.Dn7(2,2,100,e.userCurrency.currency,"symbol"),"/day) of the total amount on your next deposit. ")}}function Bt(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"form",15),t.TgZ(1,"mat-form-field",16),t._UZ(2,"input",17),t.qZA(),t.TgZ(3,"a",18),t.NdJ("click",function(){return t.CHM(e),t.oxw().submitPromoCode()}),t._uU(4,"APPLY"),t.qZA(),t.qZA()}if(2&u){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(2),t.Q6J("readonly",e.disabled)}}let rt=class{constructor(o,e,l,O){this.promoCodeService=e,this.toastr=l,this.localStorage=O,this.disabled=!1,this.newPromoCodeApplied=new t.vpe,this.clearPromoCodeApplied=new t.vpe,this.codeActived=!1,this.promoCodeValue=5,this.form=o.group({code:["",U.kI.required]}),this.promoCodeService.amount=this.promoCodeValue}set code(o){this.promoCodeApplied=o}submitPromoCode(){if(!this.form.valid)return;const o=this.form.get("code").value;this.promoCodeService.getPromoCodeTimer(o).pipe((0,w.q)(1),(0,m.t)(this)).subscribe(e=>{this.localStorage.set(Ct.F.PROMO_CODE,o);const l=["UNCONVERTED","STEALABLE","RETARGETABLE"].includes(e.status);l&&e.secondsLeft?this.toastr.success(`Congratulations, you are eligible to a 5% deposit bonus. This offer expires in ${(0,a.nHt)(e.secondsLeft)}, make a deposit to take advantage of the bonus.`):l&&!e.secondsLeft&&this.toastr.success("Congratulations, you are eligible to a 5% deposit bonus."),this.promoCodeApplied={code:o,expired:"EXPIRED"===e.status,percentageReward:this.promoCodeValue},this.form.reset(),this.newPromoCodeApplied.emit(this.promoCodeApplied)})}};rt.\u0275fac=function(o){return new(o||rt)(t.Y36(U.qu),t.Y36(H.OY),t.Y36(d._W),t.Y36(a.Vtq))},rt.\u0275cmp=t.Xpm({type:rt,selectors:[["cw-promo-code"]],inputs:{code:"code",disabled:"disabled",userCurrency:"userCurrency"},outputs:{newPromoCodeApplied:"newPromoCodeApplied",clearPromoCodeApplied:"clearPromoCodeApplied"},decls:12,vars:10,consts:[[1,"promo-code-container"],[1,"title-row"],["class","clear-promo-code",3,"inlineSVG","click",4,"ngIf"],[1,"title"],[4,"ngIf"],["class","promo-code-applied",4,"ngIf","ngIfElse"],["promoForm",""],[1,"clear-promo-code",3,"inlineSVG","click"],["class","active",4,"ngIf"],["class","disabled-icon",4,"ngIf"],[1,"active"],[1,"checked",3,"inlineSVG"],[1,"disabled-icon"],[1,"icon-disabled",3,"inlineSVG"],[1,"promo-code-applied"],["autocomplete","off",1,"promo-code-form",3,"formGroup"],[1,"w-100"],["matInput","","type","text","placeholder","Enter code...","formControlName","code","maxlength","32","autocomplete","off","fxFlex","",3,"readonly"],["mat-flat-button","","color","primary","mat-button","",1,"mat-button-3d","apply-promo-code",3,"click"]],template:function(o,e){if(1&o&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.YNc(2,St,1,1,"cw-icon",2),t.TgZ(3,"h6",3),t._uU(4),t.ALo(5,"appConfig"),t.TgZ(6,"span"),t._uU(7),t.qZA(),t.qZA(),t.YNc(8,Dt,3,2,"ng-container",4),t.qZA(),t.YNc(9,Nt,3,6,"div",5),t.YNc(10,Bt,5,2,"ng-template",null,6,t.W1O),t.qZA()),2&o){const l=t.MAs(11);t.ekj("disabled",e.disabled),t.xp6(2),t.Q6J("ngIf",!!e.promoCodeApplied&&!e.promoCodeApplied.expired&&!e.disabled),t.xp6(2),t.hij(' PROMO CODE "',t.lcZ(5,8,"APP_NAME"),'" '),t.xp6(3),t.hij("(",e.promoCodeValue,"% bonus)"),t.xp6(1),t.Q6J("ngIf",!!e.promoCodeApplied&&!e.promoCodeApplied.expired),t.xp6(1),t.Q6J("ngIf",!!e.promoCodeApplied&&!e.promoCodeApplied.expired)("ngIfElse",l)}},directives:[r.O5,et.o,nt.d$,U._Y,U.JL,U.sg,dt.KE,G.Nt,U.Fj,U.JJ,U.u,U.nD,W.yH,gt.zs],pipes:[It.O,r.H9],styles:["[_nghost-%COMP%]{display:block}.promo-code-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:12px}.title-row[_ngcontent-%COMP%]{position:relative;padding:0;margin:0}.title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600;font-size:12px;line-height:13px;display:flex;align-items:center;height:30px;margin:0;padding:0 1.25rem}.title-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#8e8e99;margin-left:.3rem}.title-row[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{position:absolute;top:.438rem;right:3rem;color:#00c74d;font-weight:600;font-size:12px;line-height:13px;text-transform:uppercase}.title-row[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]     svg{fill:#00c74d}.title-row[_ngcontent-%COMP%]   .disabled-icon[_ngcontent-%COMP%]{position:absolute;top:.438rem;right:3rem;color:#de4c41;font-weight:600;font-size:12px;line-height:13px;text-transform:uppercase}.title-row[_ngcontent-%COMP%]   .disabled-icon[_ngcontent-%COMP%]   .icon-disabled[_ngcontent-%COMP%]     svg{fill:#de4c41}.title-row[_ngcontent-%COMP%]   .clear-promo-code[_ngcontent-%COMP%]{position:absolute;right:1rem;top:.4rem;color:#8e8e99}.title-row[_ngcontent-%COMP%]   .clear-promo-code[_ngcontent-%COMP%]:hover{cursor:pointer;color:#000}.promo-code-applied[_ngcontent-%COMP%]{width:100%;color:#8e8e99;font-size:13px;line-height:18px;padding:0 1.25rem;height:40px}.promo-code-form[_ngcontent-%COMP%]{display:flex;padding:0 1.25rem;height:40px}.promo-code-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin:0}.promo-code-form[_ngcontent-%COMP%]   .apply-promo-code[_ngcontent-%COMP%]{width:104px;height:42px;font-weight:600;font-size:12px;line-height:12px}.disabled[_ngcontent-%COMP%]{opacity:.4;-webkit-user-select:none;user-select:none;pointer-events:none}"],changeDetection:0}),rt=(0,n.gn)([(0,m.c)(),(0,n.w6)("design:paramtypes",[U.qu,H.OY,d._W,a.Vtq])],rt);var Lt=i(57994),pt=i.n(Lt),Ut=i(36544),Mt=i(983),vt=i(63393),ht=i(20975);function $t(u,o){if(1&u&&(t.ynx(0),t.TgZ(1,"div",13),t.ALo(2,"push"),t._UZ(3,"qrcode",14),t.qZA(),t.BQk()),2&u){const e=o.ngIf,l=t.oxw(2);t.xp6(1),t.ekj("disabled",t.lcZ(2,4,l.highlightMinimum$)),t.xp6(2),t.Q6J("qrdata",e||l.address)("errorCorrectionLevel","M")}}function kt(u,o){1&u&&(t.TgZ(0,"div",15),t._uU(1,"Error getting address"),t.qZA())}const Ot=function(){return[]};function Vt(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"div",17),t.TgZ(1,"div",18),t._UZ(2,"cw-icon",22),t.qZA(),t._UZ(3,"cw-amount-input",20),t.TgZ(4,"cw-icon",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).refresh()}),t.qZA(),t.qZA()}if(2&u){const e=t.oxw(3);t.xp6(2),t.Q6J("inlineSVG","assets/icons/payment-icons/"+e.userCurrency.icon+".svg"),t.xp6(1),t.Q6J("icon","")("ctrl",e.form.controls.currencyAmount)("options",t.DdM(15,Ot))("buttonColor","primary")("label",!1)("lastButton",!1)("showErrors",!1)("addAndSubtractButton",!1)("doubleAndHalfButton",!1)("maxButton",!1)("clearButton",!1),t.xp6(1),t.ekj("d-block",e.showRefreshIcon),t.Q6J("inlineSVG","assets/icons/refresh.svg")}}function Ft(u,o){if(1&u&&(t.TgZ(0,"form",16),t.TgZ(1,"div",17),t.TgZ(2,"div",18),t._UZ(3,"img",19),t.qZA(),t._UZ(4,"cw-amount-input",20),t.qZA(),t._uU(5," = "),t.YNc(6,Vt,5,16,"div",21),t.qZA()),2&u){const e=t.oxw(2);t.Q6J("formGroup",e.form),t.xp6(3),t.Q6J("src",e.selectedPaymentMethod.paymentOption.iconUrl,t.LSH),t.xp6(1),t.Q6J("icon","")("ctrl",e.form.controls.cryptoAmount)("options",t.DdM(14,Ot))("buttonColor","primary")("label",!1)("lastButton",!1)("showErrors",!1)("addAndSubtractButton",!1)("doubleAndHalfButton",!1)("maxButton",!1)("clearButton",!1),t.xp6(2),t.Q6J("ngIf",!!e.userCurrency)}}function Qt(u,o){if(1&u&&(t.TgZ(0,"section",1),t.TgZ(1,"p",2),t._uU(2),t.qZA(),t.TgZ(3,"p",3),t.ALo(4,"push"),t.TgZ(5,"span",4),t._uU(6),t.qZA(),t.TgZ(7,"a",5),t._uU(8," copy address "),t.qZA(),t.qZA(),t.YNc(9,$t,4,6,"ng-container",6),t.ALo(10,"push"),t.YNc(11,kt,2,0,"ng-template",null,7,t.W1O),t.TgZ(13,"p",8),t._uU(14),t.qZA(),t.TgZ(15,"p",9),t.ALo(16,"push"),t._uU(17),t.qZA(),t.TgZ(18,"p",10),t._uU(19," Depositing less than the minimum requirement will cause a transaction failure and a loss of the value sent. "),t.qZA(),t.TgZ(20,"p",11),t._uU(21),t.qZA(),t.YNc(22,Ft,7,15,"form",12),t.qZA()),2&u){const e=t.MAs(12),l=t.oxw();t.xp6(2),t.hij("your ",l.selectedPaymentMethod.paymentOption.method," deposit address"),t.xp6(1),t.ekj("disabled",t.lcZ(4,15,l.highlightMinimum$)),t.Q6J("cwCopyToClipboard",l.address),t.xp6(3),t.Oqu(l.address),t.xp6(3),t.Q6J("ngIf",t.lcZ(10,17,l.qrCodeAddress$))("ngIfElse",e),t.xp6(5),t.AsE(" Only send ",l.selectedPaymentMethod.paymentOption.method," to this address, ",l.selectedPaymentMethod.confirmations," confirmation(s) required. "),t.xp6(1),t.ekj("highlight-minimum",t.lcZ(16,19,l.highlightMinimum$)),t.xp6(2),t.AsE(" Minimum required to deposit: ",l.selectedPaymentMethod.paymentOption.minDepositAmount," ",l.selectedPaymentMethod.paymentOption.method," after fees. "),t.xp6(4),t.hij("",l.selectedPaymentMethod.paymentOption.method," calculator"),t.xp6(1),t.Q6J("ngIf",l.form)}}let it=class{constructor(o,e,l,O,V){this.fb=o,this.paymentService=e,this.newPaymentService=l,this.exchangeRateService=O,this.changeDetectorRef=V,this.refreshRate=new t.vpe,this.qrCodeAddress$=new f.X(""),this.highlightMinimum$=new f.X(!1),this.minimumValue=0,this.minimumFiatValue=0}set paymentMethod(o){this.qrCodeAddress$.next(null),this.exchangeRateService.exchangeRateMap$.pipe((0,w.q)(1)).subscribe(e=>{if(this.exchangeRate=e[o.id],this.exchangeRate)switch(this.selectedPaymentMethod=o,this.minimumValue=+o.paymentOption.minDepositAmount,this.minimumFiatValue=+pt()(this.minimumValue).div(this.exchangeRate).round(8,0),this.setMinimumValue(),o.paymentOption.transactionType){case c.vk.CRYPTO_ADDRESS:this.qrCodeAddress$.next(this.getQRCodeAddressForCryptoAddress(o.id,o.cryptoAddress.address));break;case c.vk.TRANSACTION:this.qrCodeAddress$.next(this.getQRCodeAddressForTransaction())}})}ngOnInit(){this.form=this.fb.group({cryptoAmount:[this.minimumValue,[U.kI.required]],currencyAmount:[this.minimumFiatValue||50,[U.kI.required]]}),this.form.get("cryptoAmount").valueChanges.pipe((0,m.t)(this)).subscribe(o=>{if(this.highlightMinimum$.next(!1),!this.selectedPaymentMethod||!this.exchangeRate)return;const e=+o,l=!e||Number.isNaN(e)?0:+e.toFixed(8);l<this.minimumValue&&this.highlightMinimum$.next(!0);const O=pt()(l).div(this.exchangeRate).round(8,0);this.updateCurrencyAmount(l,+O)}),this.form.get("currencyAmount").valueChanges.pipe((0,m.t)(this)).subscribe(o=>{if(this.highlightMinimum$.next(!1),!this.selectedPaymentMethod||!this.exchangeRate)return;const e=+o,l=!e||Number.isNaN(e)?0:+e.toFixed(2),O=pt()(l).times(this.exchangeRate).round(8,0);return this.updateCryptoAmount(l,+O)})}refresh(){this.refreshRate.emit()}updateCryptoAmount(o,e){e<this.minimumValue&&this.highlightMinimum$.next(!0),this.selectedPaymentMethod.paymentOption.transactionType===c.vk.TRANSACTION&&(this.newPaymentService.currentTransaction$.next(Object.assign({amount:`${e}`},this.newPaymentService.currentTransaction$.getValue())),this.qrCodeAddress$.next(this.getQRCodeAddressForTransaction())),this.setAmount("cryptoAmount",e),this.changeDetectorRef.detectChanges()}updateCurrencyAmount(o,e){this.selectedPaymentMethod.paymentOption.transactionType===c.vk.TRANSACTION&&this.newPaymentService.currentTransaction$.next(Object.assign({amount:""+o},this.newPaymentService.currentTransaction$.getValue())),this.setAmount("currencyAmount",e),this.changeDetectorRef.detectChanges()}setMinimumValue(){this.newPaymentService.currentTransaction$.next(Object.assign({amount:`${this.minimumValue}`},this.newPaymentService.currentTransaction$.getValue())),this.setAmount("cryptoAmount",this.minimumValue),this.setAmount("currencyAmount",this.minimumFiatValue),this.changeDetectorRef.detectChanges()}getQRCodeAddressForTransaction(){const{cryptoAddress:o,method:e}=this.newPaymentService.currentTransaction$.getValue();if(o)return this.paymentService.getQRCodeAddress(e,o)}getQRCodeAddressForCryptoAddress(o,e){return this.paymentService.getQRCodeAddress(o,e)}get address(){var o,e;return(null===(o=this.selectedPaymentMethod.transaction)||void 0===o?void 0:o.cryptoAddress)||(null===(e=this.selectedPaymentMethod.cryptoAddress)||void 0===e?void 0:e.address)}setAmount(o,e){if(this.form)return this.form.get(o).setValue(e,{emitEvent:!1})}};it.\u0275fac=function(o){return new(o||it)(t.Y36(U.qu),t.Y36(c.te),t.Y36(M),t.Y36(a.UsA),t.Y36(t.sBO))},it.\u0275cmp=t.Xpm({type:it,selectors:[["cw-crypto-currency"]],inputs:{paymentMethod:"paymentMethod",userCurrency:"userCurrency",showRefreshIcon:"showRefreshIcon"},outputs:{refreshRate:"refreshRate"},decls:1,vars:1,consts:[["class","crypto-currency-container",4,"ngIf"],[1,"crypto-currency-container"],[1,"address-label"],[1,"address-value",3,"cwCopyToClipboard"],[1,"address"],[1,"copy-link"],[4,"ngIf","ngIfElse"],["noAddressTpl",""],[1,"common-text","qr-code-label"],[1,"common-text","minimum-deposit-label"],[1,"common-text","deposit-message"],[1,"calculator-label"],["class","calculator-row",3,"formGroup",4,"ngIf"],[1,"qr-code"],[3,"qrdata","errorCorrectionLevel"],[1,"text-danger","font-weight-500","mt-4"],[1,"calculator-row",3,"formGroup"],[1,"currency-value-form"],[1,"deposit-currency"],[1,"icon",3,"src"],[3,"icon","ctrl","options","buttonColor","label","lastButton","showErrors","addAndSubtractButton","doubleAndHalfButton","maxButton","clearButton"],["class","currency-value-form",4,"ngIf"],[1,"icon",3,"inlineSVG"],[1,"refresh-icon",3,"inlineSVG","click"]],template:function(o,e){1&o&&t.YNc(0,Qt,23,21,"section",0),2&o&&t.Q6J("ngIf",e.selectedPaymentMethod)},directives:[r.O5,Ut.e,Mt.V,U._Y,U.JL,U.sg,vt.l,et.o,nt.d$],pipes:[ht.f],styles:['.no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{display:block}.crypto-currency-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:515px;margin-left:auto;margin-right:auto}@media (max-width: 767.98px){.crypto-currency-container[_ngcontent-%COMP%]{width:100%;padding:2.5rem .75rem 0}}p[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;text-align:left}.address-label[_ngcontent-%COMP%]{color:#8e8e99;font-weight:500;font-size:10px;line-height:10px;text-transform:uppercase}.address-value[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;justify-content:space-between;align-items:center;height:40px;padding:0 1rem;background-color:var(--form-field-shade-bg)}.address-value[_ngcontent-%COMP%]:hover{cursor:pointer}.address-value[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{font-weight:500;font-size:13px;line-height:14px}.address-value[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]{font-weight:500;font-size:13px;line-height:14px;color:#639ad5;text-transform:uppercase}@media (max-width: 767.98px){.address-value[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]{font-size:0}.address-value[_ngcontent-%COMP%]   .copy-link[_ngcontent-%COMP%]:after{font-size:13px;content:"Copy"}}.qr-code[_ngcontent-%COMP%]{margin-top:1.5rem;width:160px;height:160px;overflow:hidden}.disabled[_ngcontent-%COMP%]{opacity:.4;pointer-events:none;-webkit-user-select:none;user-select:none}.common-text[_ngcontent-%COMP%]{color:#8e8e99;font-weight:500;font-size:13px;line-height:14px;text-align:center}.qr-code-label[_ngcontent-%COMP%]{margin-top:1.5rem}.minimum-deposit-label[_ngcontent-%COMP%]{margin-top:.2rem;color:#8e8e99}.highlight-minimum[_ngcontent-%COMP%]{color:#de4c41}.deposit-message[_ngcontent-%COMP%]{margin-top:1rem}.calculator-label[_ngcontent-%COMP%]{margin-top:1.5rem;color:#8e8e99;font-weight:500;font-size:10px;line-height:10px;text-transform:uppercase}.calculator-row[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:20px;line-height:20px;height:40px;width:100%}.calculator-row[_ngcontent-%COMP%]   .currency-value-form[_ngcontent-%COMP%]{position:relative;font-weight:500;font-size:13px;line-height:14px;background-color:var(--form-field-shade-bg);display:flex;align-items:center;padding:0 1rem;height:100%;width:45%}.calculator-row[_ngcontent-%COMP%]   .currency-value-form[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]{margin-right:.75rem}.calculator-row[_ngcontent-%COMP%]   .currency-value-form[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]{display:none;position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.calculator-row[_ngcontent-%COMP%]   .currency-value-form[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.calculator-row[_ngcontent-%COMP%]   .currency-value-form[_ngcontent-%COMP%]     cw-amount-input .mat-form-field-infix{width:100%}.calculator-row[_ngcontent-%COMP%]   .currency-value-form[_ngcontent-%COMP%]     cw-amount-input input, .calculator-row[_ngcontent-%COMP%]   .currency-value-form[_ngcontent-%COMP%]     cw-amount-input .mat-form-field-appearance-fill .mat-form-field-flex{background-color:transparent!important;font-weight:500!important;font-size:13px!important;line-height:14px!important;border:0}'],changeDetection:0}),it=(0,n.gn)([(0,m.c)(),(0,n.w6)("design:paramtypes",[U.qu,c.te,M,a.UsA,t.sBO])],it);var yt=i(68675),Yt=i(18505),Pt=i(39300);function Jt(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"span",3),t.NdJ("click",function(){const V=t.CHM(e).$implicit;return t.oxw().selectNewQuantity(V)}),t._uU(1),t.ALo(2,"currency"),t.qZA()}if(2&u){const e=o.$implicit,l=t.oxw();t.ekj("selected",l.selectedQuantity===e),t.xp6(1),t.hij(" ",t.Dn7(2,3,e,l.currency,"symbol")," ")}}function qt(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"span",3),t.NdJ("click",function(){const V=t.CHM(e).$implicit;return t.oxw().selectNewQuantity(V)}),t._uU(1),t.ALo(2,"currency"),t.qZA()}if(2&u){const e=o.$implicit,l=t.oxw();t.ekj("selected",l.selectedQuantity===e),t.xp6(1),t.hij(" ",t.Dn7(2,3,e,l.currency,"symbol")," ")}}let xt=(()=>{class u{constructor(){this.moneyValues=[],this.changeSelectedQuantity=new t.vpe}selectNewQuantity(e){this.selectedQuantity!==e&&this.changeSelectedQuantity.emit(e)}}return u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["cw-money-grid"]],inputs:{currency:"currency",selectedQuantity:"selectedQuantity",moneyValues:"moneyValues"},outputs:{changeSelectedQuantity:"changeSelectedQuantity"},decls:7,vars:10,consts:[[1,"money-grid-container"],[1,"money-row"],["class","quantity-block",3,"selected","click",4,"ngFor","ngForOf"],[1,"quantity-block",3,"click"]],template:function(e,l){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.YNc(2,Jt,3,7,"span",2),t.ALo(3,"slice"),t.qZA(),t.TgZ(4,"div",1),t.YNc(5,qt,3,7,"span",2),t.ALo(6,"slice"),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,2,l.moneyValues,0,4)),t.xp6(3),t.Q6J("ngForOf",t.Dn7(6,6,l.moneyValues,4,8)))},directives:[r.sg],pipes:[r.OU,r.H9],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   .money-grid-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:100%}[_nghost-%COMP%]   .money-row[_ngcontent-%COMP%]{width:100%;height:calc(50% - .25rem);display:flex;grid-gap:8px;gap:8px}[_nghost-%COMP%]   .money-row[_ngcontent-%COMP%]:nth-child(2){margin-top:.5rem}[_nghost-%COMP%]   .money-row[_ngcontent-%COMP%]   .quantity-block[_ngcontent-%COMP%]{background-color:var(--main-color-02);border:1px solid var(--main-color-02);color:#8e8e99;font-weight:700;font-size:13px;line-height:13px;display:flex;justify-content:center;align-items:center;width:calc(25% - .375rem);height:100%}[_nghost-%COMP%]   .money-row[_ngcontent-%COMP%]   .quantity-block[_ngcontent-%COMP%]:hover{cursor:pointer;border-color:#00c74d}[_nghost-%COMP%]   .money-row[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border-color:#00c74d;color:#00c74d;background-color:#3d9d431a}"],changeDetection:0}),u})();function zt(u,o){if(1&u&&(t.ynx(0),t._uU(1),t.ALo(2,"currency"),t.BQk()),2&u){const e=t.oxw();t.xp6(1),t.AsE(" DEPOSIT ",t.Dn7(2,2,e.selectedQuantity,e.userCurrency.currency,"symbol"),"",e.promoCodeApplied&&!e.promoCodeApplied.expired?" +"+e.promoCodeApplied.percentageReward+"%":""," ")}}function Wt(u,o){1&u&&t._uU(0," Loading... ")}const Gt=function(){return[]};let at=class{constructor(o,e,l,O,V,Y){this.fb=o,this.paymentService=e,this.toastr=l,this.platformService=O,this.cdk=V,this.trackingService=Y,this.quantities=[5,10,25,50,100,250,500,1e3],this.selectedQuantity=5,this.loading$=new f.X(!1),this.form=this.fb.group({amount:[this.selectedQuantity,[U.kI.required]]})}ngOnInit(){this.form.get("amount").valueChanges.pipe((0,yt.O)(this.selectedQuantity),(0,m.t)(this)).subscribe(o=>{if(!o||+o<0)return this.selectedQuantity=0,void this.form.get("amount").setValue(0,{emitEvent:!1});this.selectedQuantity=o})}changeSelectedQuantity(o){this.form.get("amount").setValue(o),this.cdk.detectChanges()}deposit(){!this.form.valid||!this.selectedPaymentMethod||this.paymentService.getOptions().pipe((0,m.t)(this),(0,v.x)(()=>{this.loading$.next(!1)}),(0,C.w)(o=>{const e=o.find(O=>{var V;return O.type===this.selectedPaymentMethod.type&&O.provider===(null===(V=this.selectedPaymentMethod.paymentOption)||void 0===V?void 0:V.provider)}),l={amount:+this.form.get("amount").value,method:null,paymentOptionId:e.id,promoCode:this.promoCodeApplied&&!this.promoCodeApplied.expired?this.promoCodeApplied.code:"",provider:e.provider,token:"",type:c.iU.DEPOSIT};return this.loading$.next(!0),this.paymentService.createTransaction(l)}),(0,Yt.b)(()=>this.loading$.next(!1)),(0,Pt.h)(a.$KD)).subscribe(o=>{o.status!==c.LN.FAILED?(this.trackingService.trackCurrencyEvent("createTransaction",o.amount,{currency:o.currency,status:o.status,provider:o.provider}),this.toastr.success("Transaction started successfully!"),o.url&&(this.platformService.window.location.href=o.url)):this.toastr.error("Transaction failed!")})}};function Ht(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"div",18),t.TgZ(1,"div",19),t.NdJ("click",function(){const V=t.CHM(e).$implicit;return t.oxw().selectProvider(V)}),t._UZ(2,"img",20),t.qZA(),t.qZA()}if(2&u){const e=o.$implicit;t.xp6(1),t.ekj("disabled",!e.entity.enabled)("selected",e.selected),t.xp6(1),t.Q6J("src","assets/icons/payment-icons/"+e.icon,t.LSH)}}at.\u0275fac=function(o){return new(o||at)(t.Y36(U.qu),t.Y36(c.te),t.Y36(d._W),t.Y36(a.mix),t.Y36(t.sBO),t.Y36(a.e2C))},at.\u0275cmp=t.Xpm({type:at,selectors:[["cw-credit-card-currency"]],inputs:{userCurrency:"userCurrency",promoCodeApplied:"promoCodeApplied",selectedPaymentMethod:"selectedPaymentMethod"},decls:15,vars:25,consts:[[1,"credit-card-currency-container"],[1,"deposit-amount-label"],[1,"deposit-amount-form",3,"formGroup"],[1,"deposit-currency"],[1,"icon",3,"inlineSVG"],[3,"icon","ctrl","options","buttonColor","label","lastButton","showErrors","addAndSubtractButton","doubleAndHalfButton","addAndSubtractStepValue","maxButton","clearButton"],[1,"money-grid-container"],[3,"moneyValues","selectedQuantity","currency","changeSelectedQuantity"],["mat-flat-button","","color","primary","mat-button","",1,"deposit-button",3,"disabled","click"],[4,"ngIf","ngIfElse"],["loading",""]],template:function(o,e){if(1&o&&(t.TgZ(0,"section",0),t.TgZ(1,"p",1),t._uU(2,"deposit amount"),t.qZA(),t.TgZ(3,"form",2),t.TgZ(4,"div",3),t._UZ(5,"cw-icon",4),t.qZA(),t._UZ(6,"cw-amount-input",5),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"cw-money-grid",7),t.NdJ("changeSelectedQuantity",function(O){return e.changeSelectedQuantity(O)}),t.qZA(),t.qZA(),t.TgZ(9,"a",8),t.NdJ("click",function(){return e.deposit()}),t.ALo(10,"push"),t.YNc(11,zt,3,6,"ng-container",9),t.ALo(12,"push"),t.qZA(),t.qZA(),t.YNc(13,Wt,1,0,"ng-template",null,10,t.W1O)),2&o){const l=t.MAs(14);t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(2),t.Q6J("inlineSVG","assets/icons/payment-icons/"+e.userCurrency.icon+".svg"),t.xp6(1),t.Q6J("icon","")("ctrl",e.form.controls.amount)("options",t.DdM(24,Gt))("buttonColor","primary")("label",!1)("lastButton",!1)("showErrors",!1)("addAndSubtractButton",!0)("doubleAndHalfButton",!1)("addAndSubtractStepValue",10)("maxButton",!1)("clearButton",!1),t.xp6(2),t.Q6J("moneyValues",e.quantities)("selectedQuantity",e.selectedQuantity)("currency",e.userCurrency.currency),t.xp6(1),t.Q6J("disabled",0===e.selectedQuantity||t.lcZ(10,20,e.loading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(12,22,e.loading$))("ngIfElse",l)}},directives:[U._Y,U.JL,U.sg,et.o,nt.d$,vt.l,xt,gt.zs,r.O5],pipes:[ht.f,r.H9],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center}.credit-card-currency-container[_ngcontent-%COMP%]{width:340px;height:100%}.deposit-amount-label[_ngcontent-%COMP%]{padding:0;margin:0;font-weight:500;font-size:10px;line-height:10px;color:#8e8e99;text-transform:uppercase}.deposit-amount-form[_ngcontent-%COMP%]{margin-top:.5rem;width:100%;height:40px;display:flex;align-items:center}.deposit-amount-form[_ngcontent-%COMP%]   .deposit-currency[_ngcontent-%COMP%]{width:52px;height:40px;margin-top:4px;padding:.625rem 1rem;background-color:var(--currency-bg, var(--main-color-04));display:flex;align-items:center}.deposit-amount-form[_ngcontent-%COMP%]   .deposit-currency[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]     svg{width:20px;height:20px}.deposit-amount-form[_ngcontent-%COMP%]   cw-amount-input[_ngcontent-%COMP%]     .mat-form-field-infix{padding-bottom:0;padding-top:0!important;height:100%;display:flex}.deposit-amount-form[_ngcontent-%COMP%]   cw-amount-input[_ngcontent-%COMP%]     .mat-form-field-flex{height:40px}.deposit-amount-form[_ngcontent-%COMP%]   cw-amount-input[_ngcontent-%COMP%]     button{width:28px;height:28px;padding:0;min-width:0!important}.deposit-amount-form[_ngcontent-%COMP%]   cw-amount-input[_ngcontent-%COMP%]     .mat-raised-button, .deposit-amount-form[_ngcontent-%COMP%]   cw-amount-input[_ngcontent-%COMP%]     .mat-flat-button{background-color:#000!important}.money-grid-container[_ngcontent-%COMP%]{margin-top:2.5rem;width:100%;height:85px}.deposit-button[_ngcontent-%COMP%]{margin-top:3rem;height:40px;width:100%;font-weight:600;font-size:12px}.deposit-button[disabled][_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0}),at=(0,n.gn)([(0,m.c)(),(0,n.w6)("design:paramtypes",[U.qu,c.te,d._W,a.mix,t.sBO,a.e2C])],at);let ct=class{constructor(o,e,l,O,V,Y){this.appConfig=o,this.platformService=l,this.promoCodeService=O,this.toastr=V,this.changeDetectorRef=Y,this.quantities=[],this.loadingRedeem=!1,this.form=e.group({code:["",U.kI.required]})}ngOnInit(){const o=this.appConfig.markets[this.market.slug];this.giftCardProviders=o?o.giftCardMethods.sort(this.sortGiftCardMethods).map(this.parserGiftCardMethods):[],this.giftCardProviders.length>0&&this.selectProvider(this.giftCardProviders[0])}changeSelectedQuantity(o){this.selectedQuantity=o,this.changeDetectorRef.detectChanges()}selectProvider(o){this.giftCardProviders.forEach(e=>{e.selected=e.entity.name===o.entity.name}),this.quantities=o.entity.options.map(e=>e.amount),this.quantities.includes(this.selectedQuantity)||(this.selectedQuantity=this.quantities[0])}continuePurchase(){this.platformService.window.open(this.getPurchaseLink(),"_blank")}redeem(o){if(!this.form.valid)return;this.loadingRedeem=!0;const e=this.form.get("code").value.toUpperCase();return this.promoCodeService.redeem(e,o).subscribe(l=>{l.errors?l.errors.forEach(O=>this.toastr.error(O.name)):(this.form.reset(),this.toastr.success("Successfully redeemed!"))})}getPurchaseLink(){const o=this.giftCardProviders.find(O=>O.selected),e=Number(this.selectedQuantity);return o.entity.options.find(O=>O.amount===e).link}parserGiftCardMethods(o){return Object.assign(Object.assign({},$[o.name]),{entity:o})}sortGiftCardMethods(o,e){return(o.order||0)-(e.order||0)}};function jt(u,o){if(1&u&&t._UZ(0,"cw-credit-card-currency",3),2&u){const e=t.oxw();t.Q6J("userCurrency",e.userCurrency)("promoCodeApplied",e.promoCodeApplied)("selectedPaymentMethod",e.selectedPaymentMethod)}}function Kt(u,o){if(1&u&&t._UZ(0,"cw-gift-card-currency",4),2&u){const e=t.oxw();t.Q6J("userCurrency",e.userCurrency)("market",e.market)}}ct.\u0275fac=function(o){return new(o||ct)(t.Y36(a.qBz),t.Y36(U.qu),t.Y36(a.mix),t.Y36(H.OY),t.Y36(d._W),t.Y36(t.sBO))},ct.\u0275cmp=t.Xpm({type:ct,selectors:[["cw-gift-card-currency"]],inputs:{market:"market",userCurrency:"userCurrency",promoCodeApplied:"promoCodeApplied"},decls:26,vars:6,consts:[[1,"gift-card-currency-container"],[1,"title-label"],["src","assets/icons/payment-icons/gift-card.png",1,"gift-card"],["autocomplete","off",1,"redeem-code-form",3,"formGroup"],[1,"w-100"],["matInput","","type","text","formControlName","code","maxlength","32","placeholder","Enter redeem code...","autocomplete","off"],["mat-flat-button","","color","accent","mat-button","",1,"mat-button-3d","redeem-code-button",3,"disabled","click"],[1,"no-gift-card-label"],[1,"no-gift-card-options"],[1,"select-provider"],[1,"select-label"],[1,"provider-list"],["class","provider-container",4,"ngFor","ngForOf"],[1,"select-amount"],[1,"money-grid-container"],[3,"moneyValues","selectedQuantity","currency","changeSelectedQuantity"],[1,"promo-code-not-applicable"],["mat-flat-button","","color","primary","mat-button","",1,"continue-purchase",3,"click"],[1,"provider-container"],[1,"provider",3,"click"],[3,"src"]],template:function(o,e){1&o&&(t.TgZ(0,"section",0),t.TgZ(1,"p",1),t._uU(2,"Have a Gift Card? Enter your redeem code below"),t.qZA(),t._UZ(3,"img",2),t.TgZ(4,"form",3),t.TgZ(5,"mat-form-field",4),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"a",6),t.NdJ("click",function(){return e.redeem()}),t._uU(8,"REDEEM"),t.qZA(),t.qZA(),t.TgZ(9,"h6",7),t._uU(10,"No Gift Card? Purchase one!"),t.qZA(),t.TgZ(11,"div",8),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t._uU(14,"1. Select Provider"),t.qZA(),t.TgZ(15,"div",11),t.YNc(16,Ht,3,5,"div",12),t.qZA(),t.qZA(),t.TgZ(17,"div",13),t.TgZ(18,"div",10),t._uU(19,"2. Select Amount"),t.qZA(),t.TgZ(20,"div",14),t.TgZ(21,"cw-money-grid",15),t.NdJ("changeSelectedQuantity",function(O){return e.changeSelectedQuantity(O)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(22,"p",16),t._uU(23,"Promo codes are not applicable for gift cards"),t.qZA(),t.TgZ(24,"a",17),t.NdJ("click",function(){return e.continuePurchase()}),t._uU(25," CONTINUE TO PURCHASE "),t.qZA(),t.qZA()),2&o&&(t.xp6(4),t.Q6J("formGroup",e.form),t.xp6(3),t.Q6J("disabled",e.loadingRedeem),t.xp6(9),t.Q6J("ngForOf",e.giftCardProviders),t.xp6(5),t.Q6J("moneyValues",e.quantities)("selectedQuantity",e.selectedQuantity)("currency",e.userCurrency.currency))},directives:[U._Y,U.JL,U.sg,dt.KE,G.Nt,U.Fj,U.JJ,U.u,U.nD,gt.zs,r.sg,xt],styles:[".no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]{width:492px;height:100%;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .title-label[_ngcontent-%COMP%]{padding:0;margin:0;font-size:13px;line-height:18px;text-align:center}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .gift-card[_ngcontent-%COMP%]{margin-top:1.25rem;width:200px;height:127px}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .redeem-code-form[_ngcontent-%COMP%]{margin-top:1.563rem;height:40px;width:340px;display:flex;align-items:center}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .redeem-code-form[_ngcontent-%COMP%]   .redeem-code-button[_ngcontent-%COMP%]{font-weight:500;font-size:13px;line-height:14px;height:43px;margin-top:4px;padding:0 30px}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-label[_ngcontent-%COMP%]{margin-top:2.25rem;margin-bottom:0;font-weight:700;font-size:24px;line-height:24px;text-transform:none}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]{margin-top:1.25rem;width:100%;height:90px;display:flex;justify-content:space-between}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-label[_ngcontent-%COMP%]{font-weight:700;font-size:13px;line-height:18px;margin-bottom:.75rem}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%]{width:42%;height:100%;display:flex;flex-direction:column;justify-content:space-between}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%]   .provider-list[_ngcontent-%COMP%]{display:flex;grid-gap:8px;gap:8px;width:100%;height:100%}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%]   .provider-list[_ngcontent-%COMP%]   .provider-container[_ngcontent-%COMP%]{width:31%;height:100%;background-color:#f0f0f2}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%]   .provider-list[_ngcontent-%COMP%]   .provider-container[_ngcontent-%COMP%]   .provider[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;border:1px solid #f0f0f2}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%]   .provider-list[_ngcontent-%COMP%]   .provider-container[_ngcontent-%COMP%]   .provider[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%]   .provider-list[_ngcontent-%COMP%]   .provider-container[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border-color:#00c74d}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%]   .provider-list[_ngcontent-%COMP%]   .provider-container[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%]   .provider-list[_ngcontent-%COMP%]   .provider-container[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]:hover{cursor:none}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-amount[_ngcontent-%COMP%]{width:53%;height:100%;display:flex;flex-direction:column;justify-content:space-between}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-amount[_ngcontent-%COMP%]   .money-grid-container[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .promo-code-not-applicable[_ngcontent-%COMP%]{height:3rem;line-height:3rem;margin:0;padding:0;text-align:center;font-size:13px;font-weight:500;color:#8e8e99}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .continue-purchase[_ngcontent-%COMP%]{margin-top:0;height:40px;width:100%;font-weight:600;font-size:12px}@media (max-width: 767.98px){[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]{width:100%;height:100%;padding:1.5rem .75rem 0}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-label[_ngcontent-%COMP%]{font-size:16px;line-height:16px}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-label[_ngcontent-%COMP%]{margin-top:1.25rem}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]{flex-wrap:wrap;height:195px;margin-top:.75rem}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-provider[_ngcontent-%COMP%], [_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-amount[_ngcontent-%COMP%]{width:100%;height:50%}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .no-gift-card-options[_ngcontent-%COMP%]   .select-label[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:0}[_nghost-%COMP%]   .gift-card-currency-container[_ngcontent-%COMP%]   .continue-purchase[_ngcontent-%COMP%]{margin-top:1rem}}"],changeDetection:0}),ct=(0,n.gn)([(0,m.c)(),(0,n.w6)("design:paramtypes",[Object,U.qu,a.mix,H.OY,d._W,t.sBO])],ct);let Xt=(()=>{class u{constructor(){this.PaymentOptionTypeEnum=c.x6}}return u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["cw-classic-currency"]],inputs:{selectedPaymentMethod:"selectedPaymentMethod",market:"market",userCurrency:"userCurrency",promoCodeApplied:"promoCodeApplied"},decls:3,vars:2,consts:[[1,"classic-currency-container"],[3,"userCurrency","promoCodeApplied","selectedPaymentMethod",4,"ngIf"],[3,"userCurrency","market",4,"ngIf"],[3,"userCurrency","promoCodeApplied","selectedPaymentMethod"],[3,"userCurrency","market"]],template:function(e,l){1&e&&(t.TgZ(0,"section",0),t.YNc(1,jt,1,3,"cw-credit-card-currency",1),t.YNc(2,Kt,1,2,"cw-gift-card-currency",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",l.selectedPaymentMethod.type===l.PaymentOptionTypeEnum.CARD&&l.market),t.xp6(1),t.Q6J("ngIf",l.selectedPaymentMethod.type===l.PaymentOptionTypeEnum.PREPAID))},directives:[r.O5,at,ct],styles:[".no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .classic-currency-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:515px;margin-left:auto;margin-right:auto}@media (max-width: 767.98px){[_nghost-%COMP%]   .classic-currency-container[_ngcontent-%COMP%]{width:100%;height:100%}}"],changeDetection:0}),u})();var wt=i(28617),te=i(97550),At=i(79586);function ee(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){const V=t.CHM(e).index;return t.oxw().toggleItem(V)}),t.TgZ(1,"div",15),t._UZ(2,"div",16),t.TgZ(3,"div",17),t._UZ(4,"img",18),t.qZA(),t.TgZ(5,"div",19),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",20),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.qZA()}if(2&u){const e=o.$implicit,l=t.oxw();t.xp6(2),t.ekj("checked",e.selected),t.xp6(2),t.Q6J("src",e.itemVariant.iconUrl,t.LSH)("alt",e.itemVariant.name),t.xp6(2),t.Oqu(e.itemVariant.name),t.xp6(2),t.Oqu(t.Dn7(9,6,e.consumeValueInUserCurrency,l.userCurrency.currency,"symbol"))}}function ne(u,o){1&u&&(t.TgZ(0,"div",21),t._uU(1,"You don't have any item to withdraw."),t.qZA())}let st=class{constructor(o,e){this.userItemService=o,this.userService=e,this.continueClick=new t.vpe,this.totalValueSelected=new t.vpe,this.totalItems$=new f.X(0),this.totalValue$=new f.X(0),this.totalSelectedItems$=new f.X(0),this.totalSelectedItemsValue$=new f.X(0),this.statuses=wt.s0.AVAILABLE,this.selectedAll=!1,this.userItems=[],this.i=0}ngOnInit(){this.userService.user$.pipe((0,Pt.h)(a.$KD),(0,w.q)(1)).subscribe(o=>{const e={first:14,userId:o.id,name:"",orderBy:wt.I_.VALUE_DESC,status:[wt.s0.AVAILABLE]},{dataSource$:l,isLoading$:O,fetchMore:V}=this.userItemService.subscribeToUserItems(e);this.fetchMore=V,this.isLoading$=O,this.dataSource=l,this.dataSource.pipe((0,m.t)(this)).subscribe(Y=>{const J=Y;this.totalItems$.next(J.length);let X=0;this.userItems=J.map(ot=>{X+=ot.consumeValueInUserCurrency;const mt=this.userItems.find(_t=>ot.id===_t.id);return Object.assign(Object.assign({},ot),{selected:this.selectedAll||mt&&mt.selected})}),this.totalValue$.next(X),this.selectedAll&&(this.totalSelectedItems$.next(this.totalItems$.getValue()),this.totalSelectedItemsValue$.next(this.totalValue$.getValue()))})})}toggleItem(o){this.userItems[o].selected=!this.userItems[o].selected,this.updateItem(this.userItems[o].consumeValueInUserCurrency,this.userItems[o].selected),this.totalSelectedItems$.getValue()===this.totalItems$.getValue()&&(this.selectedAll=!0),0===this.totalSelectedItems$.getValue()&&(this.selectedAll=!1)}toggleSelectAll(){if(0===this.totalItems$.getValue())return;this.selectedAll=!this.selectedAll;let o=this.selectedAll?this.totalSelectedItemsValue$.getValue():0,e=this.selectedAll?this.totalSelectedItems$.getValue():0;this.totalSelectedItems$.next(0),this.totalSelectedItemsValue$.next(0),this.userItems.forEach(l=>{!l.selected&&this.selectedAll&&(o+=l.consumeValueInUserCurrency,e++),l.selected=this.selectedAll}),this.totalSelectedItems$.next(e),this.totalSelectedItemsValue$.next(o),this.emittotalValueSelected(o)}scroll(o){o.endIndex===this.i&&(this.fetchMore(),this.i++)}updateItem(o,e){e?(this.totalSelectedItems$.next(this.totalSelectedItems$.getValue()+1),this.totalSelectedItemsValue$.next(this.totalSelectedItemsValue$.getValue()+o)):(this.totalSelectedItems$.next(this.totalSelectedItems$.getValue()-1),this.totalSelectedItemsValue$.next(this.totalSelectedItemsValue$.getValue()-o)),this.emittotalValueSelected(this.totalSelectedItemsValue$.getValue())}emittotalValueSelected(o){this.totalValueSelected.emit({totalValueSelected:0===this.totalSelectedItems$.getValue()?0:o,userItemIds:this.userItems.filter(e=>e.selected).map(e=>e.id)})}};st.\u0275fac=function(o){return new(o||st)(t.Y36(a.mNQ),t.Y36(a.KDu))},st.\u0275cmp=t.Xpm({type:st,selectors:[["cw-items-menu"]],inputs:{userCurrency:"userCurrency"},outputs:{continueClick:"continueClick",totalValueSelected:"totalValueSelected"},decls:37,vars:37,consts:[[1,"currencies-container"],[1,"total-items-row"],[1,"selected-items-row"],[1,"items-to-withdraw-container"],[1,"items-to-withdraw-row"],[1,"items-to-withdraw-label"],[1,"select-all",3,"click"],[1,"item-list-scroll","pretty-scrollbar"],[1,"items-to-withdraw"],["class","item",3,"click",4,"ngFor","ngForOf"],["class","no-items",4,"ngIf"],["cwIntersectionObserver","",1,"text-center","loader",3,"intersectionSkipWhile","intersectionSkipNotVisible","visibilityChange"],[3,"loading","type"],["mat-flat-button","","color","primary","mat-button","",1,"continue-button",3,"click"],[1,"item",3,"click"],[1,"name-check"],[1,"check"],[1,"item-icon"],[3,"src","alt"],[1,"name"],[1,"item-value"],[1,"no-items"]],template:function(o,e){1&o&&(t.TgZ(0,"section",0),t.TgZ(1,"p",1),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"push"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"currency"),t.ALo(8,"push"),t.qZA(),t.qZA(),t.TgZ(9,"p",2),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"push"),t.qZA(),t.TgZ(13,"span"),t._uU(14),t.ALo(15,"currency"),t.ALo(16,"push"),t.qZA(),t.qZA(),t.TgZ(17,"div",3),t.TgZ(18,"p",4),t.TgZ(19,"span",5),t._uU(20,"items to withdraw"),t.qZA(),t.TgZ(21,"span",6),t.NdJ("click",function(){return e.toggleSelectAll()}),t.ALo(22,"push"),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"div",7),t.TgZ(25,"div",8),t.YNc(26,ee,10,10,"div",9),t.YNc(27,ne,2,0,"div",10),t.ALo(28,"push"),t.TgZ(29,"section",11),t.NdJ("visibilityChange",function(){return e.fetchMore()}),t.ALo(30,"push"),t._uU(31," \xa0"),t._UZ(32,"cw-loader",12),t.ALo(33,"push"),t._uU(34,"\xa0 "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"a",13),t.NdJ("click",function(){return e.continueClick.emit()}),t._uU(36,"CONTINUE"),t.qZA(),t.qZA()),2&o&&(t.xp6(3),t.hij("total items(",t.lcZ(4,13,e.totalItems$),")"),t.xp6(3),t.Oqu(t.Dn7(7,15,t.lcZ(8,19,e.totalValue$),e.userCurrency.currency,"symbol")),t.xp6(5),t.hij("selected items(",t.lcZ(12,21,e.totalSelectedItems$),")"),t.xp6(3),t.Oqu(t.Dn7(15,23,t.lcZ(16,27,e.totalSelectedItemsValue$),e.userCurrency.currency,"symbol")),t.xp6(7),t.ekj("disabled",0===t.lcZ(22,29,e.totalItems$)),t.xp6(2),t.Oqu(e.selectedAll?"unselect all":"select all"),t.xp6(3),t.Q6J("ngForOf",e.userItems),t.xp6(1),t.Q6J("ngIf",0===t.lcZ(28,31,e.totalItems$)),t.xp6(2),t.Q6J("intersectionSkipWhile",t.lcZ(30,33,e.isLoading$))("intersectionSkipNotVisible",!0),t.xp6(3),t.Q6J("loading",t.lcZ(33,35,e.isLoading$))("type","view"))},directives:[r.sg,r.O5,te.Z,At.R,gt.zs],pipes:[ht.f,r.H9],styles:["[_nghost-%COMP%]{display:block;width:100%;height:calc(100% - 5.5rem)}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .total-items-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:13px;font-weight:600;font-size:12px;line-height:13px;text-transform:uppercase;padding-left:1.25rem;padding-right:1.25rem}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .selected-items-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:13px;font-weight:600;font-size:12px;line-height:13px;text-transform:uppercase;padding-left:1.25rem;padding-right:1.25rem}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 59px);background-color:var(--main-color-03)}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .items-to-withdraw-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem 1.25rem 0;margin:0;font-weight:600;font-size:10px;line-height:10px;text-transform:uppercase}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .items-to-withdraw-row[_ngcontent-%COMP%]   .items-to-withdraw-label[_ngcontent-%COMP%]{color:#8e8e99}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .items-to-withdraw-row[_ngcontent-%COMP%]   .select-all[_ngcontent-%COMP%]{color:#639ad5}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .items-to-withdraw-row[_ngcontent-%COMP%]   .select-all[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .items-to-withdraw-row[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:#d8d8e2}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .items-to-withdraw-row[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]:hover{cursor:default;-webkit-user-select:none;user-select:none;text-decoration:none}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]{width:100%;height:calc(100% - 26px);overflow-y:auto;overflow-x:hidden}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:100%;height:50px;margin:.625rem 0 0;display:flex;justify-content:space-between;align-items:center;padding:.5rem 1.25rem}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name-check[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name-check[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{width:16px;height:16px;background-color:#fff}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name-check[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]{background:url(/assets/icons/payment-icons/checked.svg)}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name-check[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{margin:.625rem;width:40px;height:40px;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name-check[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:40px;max-height:40px;width:auto;height:auto}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name-check[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{max-width:140px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:500;font-size:12px;line-height:13px;text-transform:uppercase;color:#8e8e99;margin-left:.625rem}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item-value[_ngcontent-%COMP%]{font-size:12px;line-height:13px;color:#8e8e99}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .items-to-withdraw-container[_ngcontent-%COMP%]   .item-list-scroll[_ngcontent-%COMP%]   .items-to-withdraw[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--main-color-02)}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .no-items[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding-top:1rem}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .continue-button[_ngcontent-%COMP%]{display:none;font-weight:600;font-size:12px;line-height:12px;padding-top:14px!important;padding-bottom:14px!important;width:calc(100% - 24px);margin-top:1rem;margin-left:auto;margin-right:auto}@media (max-width: 767.98px){[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%]   .continue-button[_ngcontent-%COMP%]{display:block}}@media (max-width: 767.98px){[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   .currencies-container[_ngcontent-%COMP%] > .items-to-withdraw-container[_ngcontent-%COMP%]{height:calc(100% - 125px)}[_nghost-%COMP%]   .continue-button[_ngcontent-%COMP%]{display:block}}"],changeDetection:0}),st=(0,n.gn)([(0,m.c)(),(0,n.w6)("design:paramtypes",[a.mNQ,a.KDu])],st);var oe=i(39841),re=i(34782),Tt=i(20820),bt=i(74107),ie=i(90508);function ae(u,o){if(1&u&&(t.TgZ(0,"mat-option",24),t.TgZ(1,"div",25),t.TgZ(2,"div",26),t._UZ(3,"img",27),t._uU(4),t.qZA(),t._uU(5),t.qZA(),t.qZA()),2&u){const e=o.$implicit;t.Q6J("value",e.paymentOption.method),t.xp6(3),t.Q6J("src",e.paymentOption.iconUrl,t.LSH),t.xp6(1),t.hij(" ",e.paymentOption.method," "),t.xp6(1),t.hij(" ",e.paymentOption.methodName," ")}}function ce(u,o){if(1&u){const e=t.EpF();t.ynx(0),t.TgZ(1,"p",35),t._uU(2,"The currency conversion has expired!"),t.qZA(),t.TgZ(3,"a",36),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).refreshRate()}),t._uU(4," Refresh Conversion "),t.qZA(),t.BQk()}}function se(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(O){return t.CHM(e),t.oxw(3).closeConfirmation(O)}),t.TgZ(1,"div",29),t.TgZ(2,"h6",30),t._uU(3,"Confirmation"),t.qZA(),t.TgZ(4,"p",4),t._uU(5,"YOUR CRYPTOCURRENCY WITHDRAWAL ADDRESS"),t.qZA(),t.TgZ(6,"div",31),t._UZ(7,"img",8),t.TgZ(8,"span",32),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"p",4),t._uU(11,"WITHDRAW AMOUNT"),t.qZA(),t.TgZ(12,"div",33),t._UZ(13,"cw-icon",16),t._uU(14),t.qZA(),t.TgZ(15,"p",4),t._uU(16),t.qZA(),t.TgZ(17,"div",33),t._UZ(18,"img",17),t._uU(19),t.ALo(20,"push"),t.TgZ(21,"cw-icon",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).refreshRate()}),t.qZA(),t.qZA(),t.YNc(22,ce,5,0,"ng-container",34),t.ALo(23,"push"),t.qZA(),t.qZA()}if(2&u){const e=t.oxw().$implicit,l=t.oxw(2),O=t.MAs(3);t.xp6(7),t.Q6J("src",e.paymentOption.iconUrl,t.LSH),t.xp6(2),t.Oqu(l.form.get("walletAddress").value),t.xp6(4),t.Q6J("inlineSVG","assets/icons/payment-icons/"+l.userCurrency.icon+".svg"),t.xp6(1),t.hij(" ",l.totalValue," "),t.xp6(2),t.hij("",e.paymentOption.method," AMOUNT"),t.xp6(2),t.Q6J("src",e.paymentOption.iconUrl,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(20,10,l.totalCryptoValue$)," "),t.xp6(2),t.Q6J("inlineSVG","assets/icons/refresh.svg"),t.xp6(1),t.Q6J("ngIf",t.lcZ(23,12,l.showRefreshIcon$))("ngIfElse",O)}}function le(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"section",3),t.TgZ(1,"p",4),t._uU(2,"YOUR CRYPTOCURRENCY WITHDRAWAL ADDRESS"),t.qZA(),t.TgZ(3,"form",5),t.TgZ(4,"mat-select",6),t.TgZ(5,"mat-select-trigger"),t.TgZ(6,"div",7),t._UZ(7,"img",8),t._uU(8),t._UZ(9,"cw-icon",9),t.qZA(),t.qZA(),t.YNc(10,ae,6,4,"mat-option",10),t.qZA(),t.TgZ(11,"mat-form-field",11),t._UZ(12,"input",12),t.qZA(),t.qZA(),t.TgZ(13,"p",13),t._uU(14,"WITHDRAWAL AMOUNT"),t.qZA(),t.TgZ(15,"div",14),t.TgZ(16,"div",15),t._UZ(17,"cw-icon",16),t._uU(18),t.qZA(),t._uU(19," = "),t.TgZ(20,"div",15),t._UZ(21,"img",17),t._uU(22),t.ALo(23,"push"),t.qZA(),t.TgZ(24,"cw-icon",18),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).refreshRate()}),t.ALo(25,"push"),t.qZA(),t.qZA(),t.TgZ(26,"p",19),t._uU(27),t.ALo(28,"push"),t.ALo(29,"push"),t.qZA(),t.TgZ(30,"p",19),t._uU(31," Make sure your withdrawal address and cryptocurrency selected are correct, as not doing so might result in the loss of funds. "),t.qZA(),t.TgZ(32,"a",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).withdraw()}),t.ALo(33,"push"),t._uU(34),t.ALo(35,"currency"),t.qZA(),t.TgZ(36,"div",21),t._uU(37," Would you like to receive your items at home instead of converting them into cryptocurrency? Place an order from your "),t.TgZ(38,"a",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openInventory()}),t._uU(39,"cart"),t.qZA(),t.qZA(),t.YNc(40,se,24,14,"div",23),t.ALo(41,"push"),t.qZA()}if(2&u){const e=o.$implicit,l=t.oxw(2);t.xp6(3),t.Q6J("formGroup",l.form),t.xp6(4),t.Q6J("src",e.paymentOption.iconUrl,t.LSH),t.xp6(1),t.hij(" ",e.paymentOption.method," "),t.xp6(1),t.Q6J("inlineSVG","assets/icons/payment-icons/down.svg"),t.xp6(1),t.Q6J("ngForOf",l.cryptoArray),t.xp6(7),t.Q6J("inlineSVG","assets/icons/payment-icons/"+l.userCurrency.icon+".svg"),t.xp6(1),t.hij(" ",l.totalValue," "),t.xp6(3),t.Q6J("src",e.paymentOption.iconUrl,t.LSH),t.xp6(1),t.hij(" ",t.lcZ(23,18,l.totalCryptoValue$)," "),t.xp6(2),t.ekj("d-block",t.lcZ(25,20,l.showRefreshIcon$)),t.Q6J("inlineSVG","assets/icons/refresh.svg"),t.xp6(3),t.lnq(" We\u2019ll send ",t.lcZ(28,22,l.totalCryptoValue$)," ",e.paymentOption.method," to the entered address, ",t.lcZ(29,24,l.confirmationsRequired$)," confirmation(s) required. "),t.xp6(5),t.Q6J("disabled",t.lcZ(33,26,l.isWithdrawDisabled$)),t.xp6(2),t.hij(" WITHDRAW ",t.Dn7(35,28,l.totalValue,l.userCurrency.currency,"symbol")," "),t.xp6(6),t.Q6J("ngIf",t.lcZ(41,32,l.showConfirmation$))}}function de(u,o){if(1&u&&(t.ynx(0),t.YNc(1,le,42,34,"section",2),t.BQk()),2&u){const e=t.oxw();t.xp6(1),t.Q6J("rxLet",e.selectedPaymentMethod$)}}function ue(u,o){if(1&u){const e=t.EpF();t.TgZ(0,"p",37),t._uU(1),t.ALo(2,"push"),t.qZA(),t.TgZ(3,"a",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().withdraw()}),t.ALo(4,"push"),t._uU(5),t.ALo(6,"currency"),t.qZA()}if(2&u){const e=t.oxw();t.xp6(1),t.hij("Please confirm within ",t.lcZ(2,3,e.counter$)," seconds"),t.xp6(2),t.Q6J("disabled",t.lcZ(4,5,e.isWithdrawDisabled$)),t.xp6(2),t.hij(" WITHDRAW ",t.Dn7(6,7,e.totalValueSelected,e.userCurrency.currency,"symbol")," ")}}let lt=class{constructor(o,e,l){this.fb=o,this.exchangeRateService=e,this.router=l,this.cryptoArray=[],this.withdrawEvent=new t.vpe,this.routerEvent=new t.vpe,this.selectedPaymentMethod$=new f.X(null),this.showRefreshIcon$=new f.X(!1),this.showConfirmation$=new f.X(!1),this.selectedPaymentMethodRate$=new f.X(0),this.confirmationsRequired$=new f.X(0),this.currencyMinimumExchangedAmount$=new f.X(0),this.currencyMinimumAmount$=new f.X(0),this.totalCryptoValue$=new f.X("0.0"),this.totalValue="0.0",this.refreshSeconds=60,this.counter=new f.X(this.refreshSeconds),this.tick=1e3,this.exchangeRateMap={},this.counter$=this.counter.asObservable(),this.form=this.fb.group({selectedPaymentMethod:[c.XL.BTC],walletAddress:["",U.kI.required]})}set totalValueSelected(o){this.totalValue=o.toFixed(2),this.parseTotalCryptoValue()}ngOnInit(){const o=this.form.get("selectedPaymentMethod").value;this.selectedPaymentMethod$.next(this.cryptoMap[o]),this.form.get("selectedPaymentMethod").valueChanges.pipe((0,yt.O)(o),(0,Pt.h)(e=>!this.selectedPaymentMethod$.getValue()||e!==this.selectedPaymentMethod$.getValue().paymentOption.method),(0,m.t)(this)).subscribe(e=>{const l=this.cryptoMap[e];this.selectedPaymentMethod$.next(l),this.confirmationsRequired$.next(l.confirmations),this.currencyMinimumExchangedAmount$.next(+l.paymentOption.minExchangedAmount),this.currencyMinimumAmount$.next(+l.paymentOption.minDepositAmount),this.selectedPaymentMethodRate$.next(this.exchangeRateMap[l.paymentOption.method]||0),this.parseTotalCryptoValue()}),this.exchangeRateService.exchangeRateMap$.pipe((0,w.q)(1)).subscribe(e=>this.setCryptoCurrenciesArray(e)),this.isWithdrawDisabled$=(0,oe.a)([this.form.statusChanges,this.selectedPaymentMethod$,this.showRefreshIcon$,this.totalCryptoValue$]).pipe((0,y.U)(([e,l,O,V])=>{var Y,J,X;if(!this.totalValue||"INVALID"===e||O)return!0;const ot=+(null===(Y=l.paymentOption)||void 0===Y?void 0:Y.minDepositAmount),mt=+(null===(J=l.paymentOption)||void 0===J?void 0:J.maxDepositAmount);if(ot&&ot>+V||mt&&mt<+V)return!0;const _t=+(null===(X=l.paymentOption)||void 0===X?void 0:X.minExchangedAmount),Et=+l.paymentOption.maxExchangedAmount;return!!(_t&&_t>+this.totalValue||Et&&Et<+this.totalValue)}),(0,yt.O)(!0),(0,re.d)({refCount:!0,bufferSize:1}))}withdraw(){this.showConfirmation$.getValue()?(this.showConfirmation$.next(!1),this.withdrawEvent.emit({wallet:this.form.get("walletAddress").value,method:this.form.get("selectedPaymentMethod").value})):this.showConfirmation$.next(!0)}refreshRate(){this.showRefreshIcon$.getValue()&&this.exchangeRateService.fetchExchangesRates(this.userCurrency.currency).pipe((0,w.q)(1)).subscribe(this.setCryptoCurrenciesArray.bind(this))}openInventory(){this.routerEvent.emit(),this.router.navigate(["player","my-inventory"])}closeConfirmation(o){o.target===o.currentTarget&&this.showConfirmation$.next(!1)}ngOnDestroy(){this.stopTimer()}parseTotalCryptoValue(){const o=1-(this.selectedPaymentMethod$.getValue()?+pt()(this.selectedPaymentMethod$.getValue().fee).div(100):0);this.totalCryptoValue$.next(pt()(this.totalValue).times(this.selectedPaymentMethodRate$.getValue()).mul(o).toFixed(8))}startTimer(){this.counter.next(this.refreshSeconds),this.countDownSubscription=(0,I.H)(0,this.tick).subscribe(this.timerSubscriptionHandler.bind(this)),this.showRefreshIcon$.next(!1)}stopTimer(){this.showRefreshIcon$.next(!0),this.countDownSubscription&&this.countDownSubscription.unsubscribe()}timerSubscriptionHandler(){this.counter.next(this.counter.value-1),0===this.counter.value&&this.stopTimer()}setCryptoCurrenciesArray(o){this.cryptoArray.forEach(e=>{this.exchangeRateMap[e.id]=o[e.id]}),this.selectedPaymentMethodRate$.next(this.exchangeRateMap[this.selectedPaymentMethod$.getValue().paymentOption.method]),this.cryptoArray=this.cryptoArray.filter(e=>this.exchangeRateMap[e.id]),this.parseTotalCryptoValue(),this.startTimer()}};lt.\u0275fac=function(o){return new(o||lt)(t.Y36(U.qu),t.Y36(a.UsA),t.Y36(_.F0))},lt.\u0275cmp=t.Xpm({type:lt,selectors:[["cw-withdraw-main-content"]],inputs:{cryptoArray:"cryptoArray",cryptoMap:"cryptoMap",totalValueSelected:"totalValueSelected",userCurrency:"userCurrency"},outputs:{withdrawEvent:"withdrawEvent",routerEvent:"routerEvent"},features:[t._Bn([r.JJ])],decls:4,vars:3,consts:[[4,"ngIf"],["warningTpl",""],["class","withdraw-main-content-container",4,"rxLet"],[1,"withdraw-main-content-container"],[1,"address-label"],["autocomplete","off",1,"form-address-select",3,"formGroup"],["formControlName","selectedPaymentMethod"],[1,"mat-select-trigger-container"],[1,"currency-icon",3,"src"],[1,"down-arrow",3,"inlineSVG"],[3,"value",4,"ngFor","ngForOf"],[1,"address-value"],["matInput","","type","text","formControlName","walletAddress","fxFlex","","autocomplete","off"],[1,"withdrawal-label"],[1,"calculator-row"],[1,"currency-value"],[1,"icon",3,"inlineSVG"],[1,"icon",3,"src"],[1,"refresh-icon",3,"inlineSVG","click"],[1,"explanation-text"],["mat-flat-button","","mat-button","","color","primary",1,"deposit-button",3,"disabled","click"],[1,"items-in-home-banner"],[1,"cart-link",3,"click"],["class","confirmation-transaction",3,"click",4,"ngIf"],[3,"value"],[1,"mat-option-content"],[1,"icon-name"],[3,"src"],[1,"confirmation-transaction",3,"click"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center",1,"confirmation-container"],[1,"title"],["fxLayout","","fxLayoutAlign","start center",1,"selected-currency-address"],["fxLayout","","fxLayoutAlign","start center",1,"address-value"],["fxLayout","","fxLayoutAlign","start center",1,"w-100","amount-row"],[4,"ngIf","ngIfElse"],[1,"warning-msg","text-danger","w-100"],["mat-flat-button","","mat-button","","color","dark",1,"deposit-button",3,"click"],[1,"warning-msg","w-100"]],template:function(o,e){1&o&&(t.YNc(0,de,2,1,"ng-container",0),t.ALo(1,"push"),t.YNc(2,ue,7,11,"ng-template",null,1,t.W1O)),2&o&&t.Q6J("ngIf",t.lcZ(1,1,e.selectedPaymentMethod$))},directives:[r.O5,Tt.e,U._Y,U.JL,U.sg,bt.gD,U.JJ,U.u,bt.$L,et.o,nt.d$,r.sg,dt.KE,G.Nt,U.Fj,W.yH,gt.zs,ie.ey,W.xw,W.Wh],pipes:[ht.f,r.H9],styles:["[_nghost-%COMP%]{display:block}.withdraw-main-content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:515px;margin:auto}@media (max-width: 767.98px){.withdraw-main-content-container[_ngcontent-%COMP%]{width:100%;padding:2.5rem .75rem 0}}.address-label[_ngcontent-%COMP%], .withdrawal-label[_ngcontent-%COMP%]{width:100%;text-align:left;font-weight:500;font-size:10px;line-height:10px;color:#8e8e99;margin-bottom:.5rem}.form-address-select[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem;display:flex}.form-address-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{background-color:var(--currency-bg, var(--main-color-04));padding:0;height:40px;min-width:110px!important;width:110px!important;display:flex;align-items:center;font-style:normal;font-weight:600;font-size:12px;line-height:13px}.form-address-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]     .mat-select-value{height:100%}.form-address-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]     .mat-select-trigger{width:100%}.form-address-select[_ngcontent-%COMP%]   .mat-select-trigger-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%;padding:0rem 1rem 0 .75rem}.form-address-select[_ngcontent-%COMP%]   .mat-select-trigger-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.form-address-select[_ngcontent-%COMP%]   .mat-select-trigger-container[_ngcontent-%COMP%]   .currency-icon[_ngcontent-%COMP%]{margin-right:7px}.form-address-select[_ngcontent-%COMP%]   .mat-select-trigger-container[_ngcontent-%COMP%]   .down-arrow[_ngcontent-%COMP%]{margin-left:7px}.form-address-select[_ngcontent-%COMP%]   .address-value[_ngcontent-%COMP%]{width:calc(100% - 110px);height:40px;padding-left:1rem;padding-right:1rem;background-color:var(--form-field-shade-bg);display:flex;align-items:center;font-weight:500;font-size:13px;line-height:14px;margin:0}.form-address-select[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0;width:100%;height:100%}.form-address-select[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper .mat-form-field-flex{background-color:transparent!important;border-color:transparent!important}@media (max-width: 767.98px){.form-address-select[_ngcontent-%COMP%]{flex-direction:column}.form-address-select[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:100%}.form-address-select[_ngcontent-%COMP%]   .address-value[_ngcontent-%COMP%]{width:100%}}.calculator-row[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem;display:flex;justify-content:space-between;align-items:center;font-weight:700;font-size:20px;line-height:20px;height:40px;width:100%}.calculator-row[_ngcontent-%COMP%]   .minimum-withdraw-text[_ngcontent-%COMP%]{font-weight:500;font-size:13px;line-height:20px;color:#8e8e99;width:100%;text-align:center;margin:.5rem 0 0}.calculator-row[_ngcontent-%COMP%]   .deposit-button[_ngcontent-%COMP%]{font-weight:600;font-size:12px;line-height:12px;padding-top:14px!important;padding-bottom:14px!important;width:340px;margin-top:2rem}.calculator-row[_ngcontent-%COMP%]   .currency-value[_ngcontent-%COMP%]{font-weight:500;font-size:13px;line-height:14px;background-color:var(--form-field-shade-bg);display:flex;align-items:center;padding:0 1rem;height:100%;width:45%}.calculator-row[_ngcontent-%COMP%]   .currency-value[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%], .calculator-row[_ngcontent-%COMP%]   .currency-value[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.75rem}.refresh-icon[_ngcontent-%COMP%]{display:none;position:absolute;right:1rem;top:50%;transform:translateY(-50%)}.refresh-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.refresh-icon-show[_ngcontent-%COMP%]{display:block}.warning-msg[_ngcontent-%COMP%]{text-align:center;font-size:12px}.warning-msg.text-danger[_ngcontent-%COMP%]{line-height:0;padding:1.3rem 0;background-color:#ff000014;font-weight:500}.explanation-text[_ngcontent-%COMP%]{font-weight:500;font-size:13px;line-height:20px;color:#8e8e99;width:100%;text-align:center;margin:0}.deposit-button[_ngcontent-%COMP%]{font-weight:600;font-size:12px;line-height:12px;padding-top:14px!important;padding-bottom:14px!important;width:340px}.mat-button-disabled[_ngcontent-%COMP%]{cursor:not-allowed;pointer-events:none}.items-in-home-banner[_ngcontent-%COMP%]{margin-top:2rem;font-weight:500;font-size:11px;line-height:16px;color:var(--hint-banner-color);width:100%;text-align:center;padding:12px 14px;background-color:var(--hint-banner-bg)}.items-in-home-banner[_ngcontent-%COMP%]   .cart-link[_ngcontent-%COMP%]{cursor:pointer;color:inherit;text-decoration:underline}.mat-option-content[_ngcontent-%COMP%]{width:100%;height:36px;display:flex;justify-content:space-between;align-items:center;text-transform:uppercase;font-weight:400;font-size:12px;line-height:13px;color:#8e8e99}.mat-option-content[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]{height:100%;font-weight:500;display:flex;align-items:center}.mat-option-content[_ngcontent-%COMP%]   .icon-name[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.625rem}.confirmation-transaction[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background-color:#0006;z-index:3;justify-content:center;align-items:center;left:0;top:0}@media (max-width: 767.98px){.confirmation-transaction[_ngcontent-%COMP%]{width:100vw}}.confirmation-container[_ngcontent-%COMP%]{position:absolute;background:#ffffff;border-radius:.25rem;padding:1.5rem 1.25rem}.confirmation-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;font-size:24px;line-height:24px;color:#000;margin:0;text-align:center;text-transform:none;padding-bottom:1rem}.confirmation-container[_ngcontent-%COMP%]   .selected-currency-address[_ngcontent-%COMP%]{width:100%;height:100%;padding:0rem 1rem 0 .75rem;background-color:#f0f0f2;margin-bottom:1rem;font-weight:500;font-size:13px;line-height:14px;color:#000}.confirmation-container[_ngcontent-%COMP%]   .selected-currency-address[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]{width:20px;height:20px}.confirmation-container[_ngcontent-%COMP%]   .selected-currency-address[_ngcontent-%COMP%]   .currency-icon[_ngcontent-%COMP%]{margin-right:7px}.confirmation-container[_ngcontent-%COMP%]   .address-value[_ngcontent-%COMP%]{display:inline-block;height:40px;padding-left:1rem;padding-right:1rem;margin:0}.confirmation-container[_ngcontent-%COMP%]   .amount-row[_ngcontent-%COMP%]{padding:0rem 1rem 0 .75rem;background-color:#f0f0f2;margin-bottom:1rem;height:40px;font-weight:500;font-size:13px;line-height:14px;color:#000}.confirmation-container[_ngcontent-%COMP%]   .amount-row[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:7px}"],changeDetection:0}),lt=(0,n.gn)([(0,m.c)(),(0,n.w6)("design:paramtypes",[U.qu,a.UsA,_.F0])],lt);let ge=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[[r.ez,ut.vY,Mt.N]]}),u})();t.B6R(z,[Tt.e,s.xY,At.R,r.O5,et.o,nt.d$,r.tP,rt,ft,Xt,it,st,lt],[ht.f])},29683:(R,g,i)=>{"use strict";i.d(g,{e:()=>m});var r=i(23600),n=i(63900),t=i(50457),s=i(34782),a=i(95698),c=i(5e3);let m=(()=>{class d{constructor(C,w){this.amazonPay$=w.loadExternalScript("amazonpay-script",C.amazonPayUrl).pipe((0,n.w)(()=>{const v=window.OffAmazonPayments;return(0,t.D)(new Promise(I=>I(v)))}),(0,s.d)(1))}preload(){return this.amazonPay$.pipe((0,a.q)(1)).subscribe()}renderButton(C){return(0,t.D)(new Promise(w=>{const v=window.OffAmazonPayments,I=C.renderData;return delete I.__typename,setTimeout(()=>v.Button("amazon-pay-button",I.sellerId,{type:"hostedPayment",hostedParametersProvider:A=>A(I),onError:A=>{console.log(A.getErrorCode()),console.log(A.getErrorMessage())}}),300),w(v)}))}}return d.\u0275fac=function(C){return new(C||d)(c.LFG(r.pgb),c.LFG(r.mix))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},57165:(R,g,i)=>{"use strict";i.d(g,{XL:()=>r.X,A8:()=>n.A8,vk:()=>n.vk,x6:()=>n.x6,OH:()=>t.O,cL:()=>s.cL,te:()=>a.t,Sk:()=>m.S,LN:()=>d.L,iU:()=>f.i});var r=i(9813),n=i(58436),t=i(99849),s=i(60508),a=i(38042),m=(i(51697),i(63816)),d=i(92628),f=i(85551)},9813:(R,g,i)=>{"use strict";i.d(g,{X:()=>r});var r=(()=>{return(n=r||(r={})).BCH="BCH",n.BTC="BTC",n.BTG="BTG",n.DASH="DASH",n.DOGE="DOGE",n.ETC="ETC",n.ETH="ETH",n.LTC="LTC",n.USDT="USDT",n.USDTE="USDTE",n.USDTT="USDTT",n.XRP="XRP",r;var n})()},58436:(R,g,i)=>{"use strict";i.d(g,{A8:()=>n,x6:()=>t,vk:()=>s,S2:()=>c});var r=i(39478),n=(()=>{return(m=n||(n={})).DEPOSIT="DEPOSIT",m.WITHDRAWAL="WITHDRAWAL",n;var m})(),t=(()=>{return(m=t||(t={})).CARD="card",m.PREPAID="prepaid",m.CRYPTO="crypto",t;var m})(),s=(()=>{return(m=s||(s={})).TRANSACTION="TRANSACTION",m.CRYPTO_ADDRESS="CRYPTO_ADDRESS",s;var m})();const a=r.Ps`
  fragment PaymentOption on PaymentOption {
    id
    createdAt
    type
    provider
    providerName
    method
    methodName
    requiresProfile
    visible
    fixedFee
    percentageFee
    minDepositAmount
    maxDepositAmount
    minExchangedAmount
    maxExchangedAmount
    approximateAmount
    bonusPercent
    bonusMaxAmount
    transactionType
    iconUrl
    enabled
  }
`,c=r.Ps`
  query PaymentOptions($enabled: Boolean, $action: PaymentOptionAction) {
    paymentOptions(action: $action, enabled: $enabled) {
      ...PaymentOption
    }
  }

  ${a}
`},99849:(R,g,i)=>{"use strict";i.d(g,{O:()=>r});var r=(()=>{return(n=r||(r={})).ALTERNATIVEPAYMENTS="ALTERNATIVEPAYMENTS",n.AMAZONPAY="AMAZONPAY",n.COINS_PAID="COINS_PAID",n.COIN_GATE="COIN_GATE",n.CUBITS="CUBITS",n.ECOPAYZ="ECOPAYZ",n.FONDY="FONDY",n.G2APAY="G2APAY",n.IPS="IPS",n.PAYPAL="PAYPAL",n.PAYSAFECARD="PAYSAFECARD",n.PAY_BEAR="PAY_BEAR",n.PAY_OP="PAY_OP",n.SAFE_CHARGE="SAFE_CHARGE",n.STRIPE="STRIPE",n.TAPM="TAPM",n.WONDERLAND_PAY="WONDERLAND_PAY",r;var n})()},60508:(R,g,i)=>{"use strict";i.d(g,{d6:()=>n,Oz:()=>t,Ob:()=>s,p9:()=>a,kh:()=>c,Kt:()=>m,KL:()=>d,cL:()=>f});var r=i(39478);const n=r.Ps`
  fragment Transaction on Transaction {
    amount
    createdAt
    cryptoAddress
    currency
    exchangeRate
    exchangedAmount
    id
    renderData
    method
    provider
    status
    url
    promoCode {
      id
      percentageReward
      maxBalance
    }
    bonusPercent
    bonusMaxAmount
    bonusAmount
  }
`,t=r.Ps`
  fragment TransactionDetailed on Transaction {
    ...Transaction
    updatedAt
    externalId
    ipAddress
    type
  }
`,s=r.Ps`
  fragment UserTransaction on Transaction {
    ...TransactionDetailed
    user {
      ...UserBadge
    }
  }
`,a=r.Ps`
  mutation CreateTransaction($input: CreateTransactionInput!) {
    createTransaction(input: $input) {
      transaction {
        ...Transaction
      }
    }
  }

  ${n}
`,c=r.Ps`
  mutation UpdateTransaction($input: UpdateTransactionInput!) {
    updateTransaction(input: $input) {
      transaction {
        id
        status
      }
    }
  }
`,m=r.Ps`
  subscription OnTransactionUpdate {
    updateTransaction {
      transaction {
        id
        status
      }
    }
  }
`,d=r.Ps`
  mutation ApproveWithdrawalTransaction($input: ApproveWithdrawalTransactionInput!) {
    approveWithdrawalTransaction(input: $input) {
      transaction {
        id
        status
      }
    }
  }
`,f=r.Ps`
  query TransactionDetailedList(
    $first: PaginationAmount
    $after: String
    $orderBy: [TransactionOrderBy]
    $userId: ID
    $status: String
  ) {
    transactions(first: $first, after: $after, orderBy: $orderBy, userId: $userId, status: $status) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          ...TransactionDetailed
        }
      }
    }
  }

  ${n}
  ${t}
`},38042:(R,g,i)=>{"use strict";i.d(g,{t:()=>S});var r=i(23600),n=i(62650),t=i(95698),s=i(63900),a=i(39646),c=i(54004),m=i(68675),d=i(34782),f=i(70262),C=i(29683),w=i(39478);const v=w.Ps`
  mutation CreateCryptoAddress($input: CreateCryptoAddressInput!) {
    createCryptoAddress(input: $input) {
      cryptoAddress {
        id
        address
        paymentOption {
          id
          provider
          providerName
          method
          minDepositAmount
        }
      }
    }
  }
`;var I=i(9813),A=i(58436),B=i(99849),$=i(60508);const Z=w.Ps`
  fragment PaymentPromoCode on PromoCode {
    code
    expired
    id
    maxBalance
    maxRedeemCount
    percentageReward
    redeemCount
  }
`,y=w.Ps`
  query PromoCode($code: String) {
    promoCodes(code: $code, first: 1) {
      edges {
        node {
          ...PaymentPromoCode
        }
      }
    }
  }

  ${Z}
`,h=w.Ps`
  subscription OnPromoCodeUpdates($code: String!, $marketId: ID!) {
    updatePromoCode(code: $code, marketId: $marketId) {
      promoCode {
        ...PaymentPromoCode
      }
    }
  }

  ${Z}
`;var p=i(50457),_=i(5e3);let M=(()=>{class T{constructor(P,x){this.config=P,this.stripe$=x.loadExternalScript("stripe-script",P.stripeUrl).pipe((0,s.w)(()=>(0,p.D)(new Promise(b=>{const E=window.StripeCheckout,F={handler:E.configure({key:this.config.stripeKey,token:function(q){const Q=document.getElementById("deposit-token-input");Q.value=q.id,Q.dispatchEvent(new Event("input"))}}),open:()=>{const q=document.getElementById("deposit-amount-input");F.handler.open({name:this.config.stripeName,description:this.config.stripeDescription,amount:100*parseInt(q.value.substr(1),10)})}};return window["app-stripe"]=F,b(E)}))),(0,d.d)(1))}preload(){return this.stripe$.pipe((0,t.q)(1)).subscribe()}}return T.\u0275fac=function(P){return new(P||T)(_.LFG(r.pgb),_.LFG(r.mix))},T.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var L=i(13302),k=i(87254);let S=(()=>{class T{constructor(P,x,b,E,N,F,q){this.appConfig=P,this.apollo=x,this.localStorage=b,this.userService=E,this.stripeService=N,this.amazonPayService=F,this.seonFraudService=q,this.promoCode$=E.market$.pipe((0,t.q)(1),(0,s.w)(Q=>{const j=this.localStorage.get(n.F.PROMO_CODE);if(!j)return(0,a.of)(null);const z=x.watchQuery({query:y,variables:{code:j}});return z.subscribeToMore({document:h,variables:{marketId:Q.id,code:j}}),z.valueChanges.pipe((0,c.U)(({data:ut})=>{const tt=ut.promoCodes.edges.map(K=>K.node).find(K=>K.code===j);return tt&&!tt.expired?tt:(this.localStorage.remove(n.F.PROMO_CODE),null)}))}),(0,m.O)(null),(0,d.d)(1)),this.promoCodeText$=this.promoCode$.pipe((0,c.U)(Q=>Q&&!Q.expired&&Q.percentageReward>0?`+${Q.percentageReward}% DEPOSIT BONUS (${Q.maxRedeemCount-Q.redeemCount} left)`:""))}getProviderMethod(P){return P.methodName?P.methodName:P.providerName}getOptions(P=A.A8.DEPOSIT){return this.apollo.watchQuery({query:A.S2,variables:{action:P,enabled:!0}}).valueChanges.pipe((0,c.U)(({data:x})=>x.paymentOptions.filter(b=>!("G2APAY"===b.provider&&location.origin.includes("csgorolltr.com")))))}getGiftCardMethods(){return this.userService.market$.pipe((0,t.q)(1),(0,c.U)(P=>{const x=this.appConfig.markets[P.slug];return(x?x.giftCardMethods:[]).sort((E,N)=>(E.order||0)-(N.order||0))}))}hasModal(P){return[].includes(P)}hasRedirect(P){return[B.O.ALTERNATIVEPAYMENTS,B.O.COIN_GATE,B.O.ECOPAYZ,B.O.FONDY,B.O.G2APAY,B.O.IPS,B.O.PAY_OP,B.O.PAYSAFECARD,B.O.SAFE_CHARGE,B.O.TAPM].includes(P)}createTransaction(P){return P.provider===B.O.STRIPE?this.stripeService.preload():P.provider===B.O.AMAZONPAY&&this.amazonPayService.preload(),this.fingerprint(b=>this.apollo.mutate({mutation:$.p9,variables:{input:Object.assign(Object.assign({},P),{seonSession:b})}}).pipe((0,c.U)(({data:E})=>null==E?void 0:E.createTransaction.transaction)))}getCryptoAddress(P){return this.apollo.mutate({mutation:v,variables:{input:P}}).pipe((0,c.U)(({data:x})=>null==x?void 0:x.createCryptoAddress.cryptoAddress))}updateTransaction(P){return this.apollo.mutate({mutation:$.kh,variables:{input:P}})}preApproveTransaction(P){return this.apollo.mutate({mutation:$.KL,variables:{input:P}}).pipe((0,c.U)(({data:x})=>{var b;return null===(b=x.approveWithdrawalTransaction)||void 0===b?void 0:b.transaction}))}getQRCodeAddress(P,x,b){const E=(0,r.r0w)(P);if(!E)return"";let N=`${E}:${x}`;return b&&(N+=`?amount=${b}`),N}isCryptoOption(P){return!!P.method}isCryptoCurrency(P){return Object.keys(I.X).includes(P.toUpperCase())}getDecimals(P){return this.isCryptoCurrency(P)?8:2}fingerprint(P){return this.seonFraudService.fingerprint().pipe((0,f.K)(x=>(console.error(x),(0,a.of)(null))),(0,s.w)(x=>P(x)))}}return T.\u0275fac=function(P){return new(P||T)(_.LFG(r.qBz),_.LFG(L._M),_.LFG(k.n2),_.LFG(r.KDu),_.LFG(M),_.LFG(C.e),_.LFG(r.cd7))},T.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},51697:(R,g,i)=>{"use strict";i.d(g,{A:()=>t});var r=i(39478),n=i(60508);const t=r.Ps`
  query TransactionList(
    $first: PaginationAmount
    $after: String
    $orderBy: [TransactionOrderBy]
    $includeUser: Boolean!
    $userId: ID
    $statuses: [TransactionStatus!]
    $types: [TransactionType!]
    $provider: PaymentProvider
    $minDate: String
    $maxDate: String
  ) {
    transactions(
      first: $first
      after: $after
      orderBy: $orderBy
      userId: $userId
      statuses: $statuses
      types: $types
      provider: $provider
      minDate: $minDate
      maxDate: $maxDate
    ) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          ...TransactionDetailed
          user @include(if: $includeUser) {
            id
            name
            avatar
            level
          }
        }
      }
    }
  }

  ${n.d6}
  ${n.Oz}
`},63816:(R,g,i)=>{"use strict";i.d(g,{S:()=>r});var r=(()=>{return(n=r||(r={})).ID="ID",n.ID_DESC="ID_DESC",n.CREATED_AT="CREATED_AT",n.CREATED_AT_DESC="CREATED_AT_DESC",n.AMOUNT="AMOUNT",n.AMOUNT_DESC="AMOUNT_DESC",n.UPDATED_AT="UPDATED_AT",n.UPDATED_AT_DESC="UPDATED_AT_DESC",r;var n})()},92628:(R,g,i)=>{"use strict";i.d(g,{L:()=>r});var r=(()=>{return(n=r||(r={})).CANCELED="CANCELED",n.COMPLETED="COMPLETED",n.FAILED="FAILED",n.PENDING="PENDING",n.PENDING_APPROVAL="PENDING_APPROVAL",n.PRE_APPROVAL="PRE_APPROVAL",n.STARTED="STARTED",r;var n})()},85551:(R,g,i)=>{"use strict";i.d(g,{i:()=>r});var r=(()=>{return(n=r||(r={})).DEPOSIT="DEPOSIT",n.WITHDRAWAL="WITHDRAWAL",r;var n})()},41525:(R,g,i)=>{"use strict";i.d(g,{OY:()=>n.O}),i(72403);var n=i(57835)},983:(R,g,i)=>{"use strict";i.d(g,{V:()=>c,N:()=>m});var r=i(70655),n=i(5e3),t=i(69808),s=i(3259);const a=["qrcElement"];let c=(()=>{let d=class{constructor(C,w){this.renderer=C,this.platformId=w,this.colordark="",this.colorlight="",this.level="",this.hidetitle=!1,this.size=0,this.usesvg=!1,this.allowEmptyString=!1,this.qrdata="",this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.scale=4,this.width=10,this.qrcode=null,this.isValidQrCodeText=v=>!1===this.allowEmptyString?!(void 0===v||""===v||"null"===v||null===v):void 0!==v,""!==this.colordark&&console.warn("[angularx-qrcode] colordark is deprecated, use colorDark."),""!==this.colorlight&&console.warn("[angularx-qrcode] colorlight is deprecated, use colorLight."),""!==this.level&&console.warn("[angularx-qrcode] level is deprecated, use errorCorrectionLevel."),!1!==this.hidetitle&&console.warn("[angularx-qrcode] hidetitle is deprecated."),0!==this.size&&console.warn("[angularx-qrcode] size is deprecated, use `width`. Defaults to 10."),!1!==this.usesvg&&console.warn("[angularx-qrcode] usesvg is deprecated, use [elementType]=\"'img'\".")}ngAfterViewInit(){(0,t.PM)(this.platformId)||this.createQRCode()}ngOnChanges(){this.createQRCode()}toDataURL(){return new Promise((C,w)=>{(0,s.hz)(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},(v,I)=>{v?w(v):C(I)})})}toCanvas(C){return new Promise((w,v)=>{(0,s.rT)(C,this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},I=>{I?v(I):w("success")})})}toSVG(){return new Promise((C,w)=>{(0,s.toString)(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,type:"svg",version:this.version,width:this.width},(v,I)=>{v?w(v):C(I)})})}renderElement(C){for(const w of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,w);this.renderer.appendChild(this.qrcElement.nativeElement,C)}createQRCode(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto"),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty");let C;switch(this.elementType){case"canvas":C=this.renderer.createElement("canvas"),this.toCanvas(C).then(()=>{this.renderElement(C)}).catch(w=>{console.error("[angularx-qrcode] canvas error: ",w)});break;case"svg":C=this.renderer.createElement("svg","svg"),this.toSVG().then(w=>{C.innerHTML=w,this.renderer.setAttribute(C,"height",`${this.width}`),this.renderer.setAttribute(C,"width",`${this.width}`),this.renderElement(C)}).catch(w=>{console.error("[angularx-qrcode] svg error: ",w)});break;default:C=this.renderer.createElement("img"),this.toDataURL().then(w=>{C.setAttribute("src",w),this.renderElement(C)}).catch(w=>{console.error("[angularx-qrcode] img/url error: ",w)})}}catch(C){console.error("[angularx-qrcode] Error generating QR Code: ",C.message)}}};return d.\u0275fac=function(C){return new(C||d)(n.Y36(n.Qsj),n.Y36(n.Lbi))},d.\u0275cmp=n.Xpm({type:d,selectors:[["qrcode"]],viewQuery:function(C,w){if(1&C&&n.Gf(a,7),2&C){let v;n.iGM(v=n.CRH())&&(w.qrcElement=v.first)}},inputs:{colordark:"colordark",colorlight:"colorlight",level:"level",hidetitle:"hidetitle",size:"size",usesvg:"usesvg",allowEmptyString:"allowEmptyString",qrdata:"qrdata",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",version:"version"},features:[n.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(C,w){1&C&&n._UZ(0,"div",null,0),2&C&&n.Tol(w.cssClass)},encapsulation:2,changeDetection:0}),(0,r.gn)([(0,n.IIB)()],d.prototype,"colordark",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"colorlight",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"level",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"hidetitle",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"size",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"usesvg",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"allowEmptyString",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"qrdata",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"colorDark",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"colorLight",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"cssClass",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"elementType",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"errorCorrectionLevel",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"margin",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"scale",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"version",void 0),(0,r.gn)([(0,n.IIB)()],d.prototype,"width",void 0),(0,r.gn)([(0,n.i9L)("qrcElement",{static:!0})],d.prototype,"qrcElement",void 0),d=(0,r.gn)([(0,r.fM)(1,(0,n.tBr)(n.Lbi))],d),d})(),m=(()=>{let d=class{};return d.\u0275fac=function(C){return new(C||d)},d.\u0275mod=n.oAB({type:d}),d.\u0275inj=n.cJS({providers:[]}),d})()},74901:R=>{"use strict";var g={single_source_shortest_paths:function(i,r,n){var t={},s={};s[r]=0;var c,m,d,f,C,v,a=g.PriorityQueue.make();for(a.push(r,0);!a.empty();)for(d in f=(c=a.pop()).cost,C=i[m=c.value]||{})C.hasOwnProperty(d)&&(v=f+C[d],(void 0===s[d]||s[d]>v)&&(s[d]=v,a.push(d,v),t[d]=m));if(void 0!==n&&void 0===s[n]){var B=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(B)}return t},extract_shortest_path_from_predecessor_list:function(i,r){for(var n=[],t=r;t;)n.push(t),t=i[t];return n.reverse(),n},find_path:function(i,r,n){var t=g.single_source_shortest_paths(i,r,n);return g.extract_shortest_path_from_predecessor_list(t,n)},PriorityQueue:{make:function(i){var t,r=g.PriorityQueue,n={};for(t in i=i||{},r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n.queue=[],n.sorter=i.sorter||r.default_sorter,n},default_sorter:function(i,r){return i.cost-r.cost},push:function(i,r){this.queue.push({value:i,cost:r}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};R.exports=g},66425:R=>{var g={}.toString;R.exports=Array.isArray||function(i){return"[object Array]"==g.call(i)}},3259:(R,g,i)=>{var n=i(88695),t=i(71465),s=i(23210),a=i(22334);function c(m,d,f,C,w){var v=[].slice.call(arguments,1),I=v.length,A="function"==typeof v[I-1];if(!A&&!n())throw new Error("Callback required as last argument");if(!A){if(I<1)throw new Error("Too few arguments provided");return 1===I?(f=d,d=C=void 0):2===I&&!d.getContext&&(C=f,f=d,d=void 0),new Promise(function($,Z){try{var y=t.create(f,C);$(m(y,d,C))}catch(h){Z(h)}})}if(I<2)throw new Error("Too few arguments provided");2===I?(w=f,f=d,d=C=void 0):3===I&&(d.getContext&&void 0===w?(w=C,C=void 0):(w=C,C=f,f=d,d=void 0));try{var B=t.create(f,C);w(null,m(B,d,C))}catch($){w($)}}g.rT=c.bind(null,s.render),g.hz=c.bind(null,s.renderToDataURL),g.toString=c.bind(null,function(m,d,f){return a.render(m,f)})},88695:R=>{R.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},46221:(R,g,i)=>{var r=i(34792).getSymbolSize;g.getRowColCoords=function(t){if(1===t)return[];for(var s=Math.floor(t/7)+2,a=r(t),c=145===a?26:2*Math.ceil((a-13)/(2*s-2)),m=[a-7],d=1;d<s-1;d++)m[d]=m[d-1]-c;return m.push(6),m.reverse()},g.getPositions=function(t){for(var s=[],a=g.getRowColCoords(t),c=a.length,m=0;m<c;m++)for(var d=0;d<c;d++)0===m&&0===d||0===m&&d===c-1||m===c-1&&0===d||s.push([a[m],a[d]]);return s}},32424:(R,g,i)=>{var r=i(64016),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(s){this.mode=r.ALPHANUMERIC,this.data=s}t.getBitsLength=function(a){return 11*Math.floor(a/2)+a%2*6},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(a){var c;for(c=0;c+2<=this.data.length;c+=2){var m=45*n.indexOf(this.data[c]);m+=n.indexOf(this.data[c+1]),a.put(m,11)}this.data.length%2&&a.put(n.indexOf(this.data[c]),6)},R.exports=t},52118:R=>{function g(){this.buffer=[],this.length=0}g.prototype={get:function(i){var r=Math.floor(i/8);return 1==(this.buffer[r]>>>7-i%8&1)},put:function(i,r){for(var n=0;n<r;n++)this.putBit(1==(i>>>r-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(i){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),i&&(this.buffer[r]|=128>>>this.length%8),this.length++}},R.exports=g},34425:(R,g,i)=>{var r=i(51708);function n(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new r(t*t),this.data.fill(0),this.reservedBit=new r(t*t),this.reservedBit.fill(0)}n.prototype.set=function(t,s,a,c){var m=t*this.size+s;this.data[m]=a,c&&(this.reservedBit[m]=!0)},n.prototype.get=function(t,s){return this.data[t*this.size+s]},n.prototype.xor=function(t,s,a){this.data[t*this.size+s]^=a},n.prototype.isReserved=function(t,s){return this.reservedBit[t*this.size+s]},R.exports=n},85663:(R,g,i)=>{var r=i(51708),n=i(64016);function t(s){this.mode=n.BYTE,this.data=new r(s)}t.getBitsLength=function(a){return 8*a},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){for(var a=0,c=this.data.length;a<c;a++)s.put(this.data[a],8)},R.exports=t},14655:(R,g,i)=>{var r=i(82259),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];g.getBlocksCount=function(a,c){switch(c){case r.L:return n[4*(a-1)+0];case r.M:return n[4*(a-1)+1];case r.Q:return n[4*(a-1)+2];case r.H:return n[4*(a-1)+3];default:return}},g.getTotalCodewordsCount=function(a,c){switch(c){case r.L:return t[4*(a-1)+0];case r.M:return t[4*(a-1)+1];case r.Q:return t[4*(a-1)+2];case r.H:return t[4*(a-1)+3];default:return}}},82259:(R,g)=>{g.L={bit:1},g.M={bit:0},g.Q={bit:3},g.H={bit:2},g.isValid=function(n){return n&&void 0!==n.bit&&n.bit>=0&&n.bit<4},g.from=function(n,t){if(g.isValid(n))return n;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return g.L;case"m":case"medium":return g.M;case"q":case"quartile":return g.Q;case"h":case"high":return g.H;default:throw new Error("Unknown EC Level: "+r)}}(n)}catch(s){return t}}},43114:(R,g,i)=>{var r=i(34792).getSymbolSize;g.getPositions=function(s){var a=r(s);return[[0,0],[a-7,0],[0,a-7]]}},17078:(R,g,i)=>{var r=i(34792),s=r.getBCHDigit(1335);g.getEncodedBits=function(c,m){for(var d=c.bit<<3|m,f=d<<10;r.getBCHDigit(f)-s>=0;)f^=1335<<r.getBCHDigit(f)-s;return 21522^(d<<10|f)}},45339:(R,g,i)=>{var n,t,r=i(51708);r.alloc?(n=r.alloc(512),t=r.alloc(256)):(n=new r(512),t=new r(256)),function(){for(var a=1,c=0;c<255;c++)n[c]=a,t[a]=c,256&(a<<=1)&&(a^=285);for(c=255;c<512;c++)n[c]=n[c-255]}(),g.log=function(a){if(a<1)throw new Error("log("+a+")");return t[a]},g.exp=function(a){return n[a]},g.mul=function(a,c){return 0===a||0===c?0:n[t[a]+t[c]]}},80449:(R,g,i)=>{var r=i(64016),n=i(34792);function t(s){this.mode=r.KANJI,this.data=s}t.getBitsLength=function(a){return 13*a},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){var a;for(a=0;a<this.data.length;a++){var c=n.toSJIS(this.data[a]);if(c>=33088&&c<=40956)c-=33088;else{if(!(c>=57408&&c<=60351))throw new Error("Invalid SJIS character: "+this.data[a]+"\nMake sure your charset is UTF-8");c-=49472}s.put(c=192*(c>>>8&255)+(255&c),13)}},R.exports=t},33667:(R,g)=>{g.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function r(n,t,s){switch(n){case g.Patterns.PATTERN000:return(t+s)%2==0;case g.Patterns.PATTERN001:return t%2==0;case g.Patterns.PATTERN010:return s%3==0;case g.Patterns.PATTERN011:return(t+s)%3==0;case g.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(s/3))%2==0;case g.Patterns.PATTERN101:return t*s%2+t*s%3==0;case g.Patterns.PATTERN110:return(t*s%2+t*s%3)%2==0;case g.Patterns.PATTERN111:return(t*s%3+(t+s)%2)%2==0;default:throw new Error("bad maskPattern:"+n)}}g.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},g.from=function(t){return g.isValid(t)?parseInt(t,10):void 0},g.getPenaltyN1=function(t){for(var s=t.size,a=0,c=0,m=0,d=null,f=null,C=0;C<s;C++){c=m=0,d=f=null;for(var w=0;w<s;w++){var v=t.get(C,w);v===d?c++:(c>=5&&(a+=c-5+3),d=v,c=1),(v=t.get(w,C))===f?m++:(m>=5&&(a+=m-5+3),f=v,m=1)}c>=5&&(a+=c-5+3),m>=5&&(a+=m-5+3)}return a},g.getPenaltyN2=function(t){for(var s=t.size,a=0,c=0;c<s-1;c++)for(var m=0;m<s-1;m++){var d=t.get(c,m)+t.get(c,m+1)+t.get(c+1,m)+t.get(c+1,m+1);(4===d||0===d)&&a++}return 3*a},g.getPenaltyN3=function(t){for(var s=t.size,a=0,c=0,m=0,d=0;d<s;d++){c=m=0;for(var f=0;f<s;f++)c=c<<1&2047|t.get(d,f),f>=10&&(1488===c||93===c)&&a++,m=m<<1&2047|t.get(f,d),f>=10&&(1488===m||93===m)&&a++}return 40*a},g.getPenaltyN4=function(t){for(var s=0,a=t.data.length,c=0;c<a;c++)s+=t.data[c];return 10*Math.abs(Math.ceil(100*s/a/5)-10)},g.applyMask=function(t,s){for(var a=s.size,c=0;c<a;c++)for(var m=0;m<a;m++)s.isReserved(m,c)||s.xor(m,c,r(t,m,c))},g.getBestMask=function(t,s){for(var a=Object.keys(g.Patterns).length,c=0,m=1/0,d=0;d<a;d++){s(d),g.applyMask(d,t);var f=g.getPenaltyN1(t)+g.getPenaltyN2(t)+g.getPenaltyN3(t)+g.getPenaltyN4(t);g.applyMask(d,t),f<m&&(m=f,c=d)}return c}},64016:(R,g,i)=>{var r=i(94406),n=i(2699);g.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},g.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},g.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},g.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},g.MIXED={bit:-1},g.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!r.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},g.getBestModeForData=function(a){return n.testNumeric(a)?g.NUMERIC:n.testAlphanumeric(a)?g.ALPHANUMERIC:n.testKanji(a)?g.KANJI:g.BYTE},g.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},g.isValid=function(a){return a&&a.bit&&a.ccBits},g.from=function(a,c){if(g.isValid(a))return a;try{return function(s){if("string"!=typeof s)throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return g.NUMERIC;case"alphanumeric":return g.ALPHANUMERIC;case"kanji":return g.KANJI;case"byte":return g.BYTE;default:throw new Error("Unknown mode: "+s)}}(a)}catch(m){return c}}},97783:(R,g,i)=>{var r=i(64016);function n(t){this.mode=r.NUMERIC,this.data=t.toString()}n.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(s){var a,c,m;for(a=0;a+3<=this.data.length;a+=3)c=this.data.substr(a,3),m=parseInt(c,10),s.put(m,10);var d=this.data.length-a;d>0&&(c=this.data.substr(a),m=parseInt(c,10),s.put(m,3*d+1))},R.exports=n},61106:(R,g,i)=>{var r=i(51708),n=i(45339);g.mul=function(s,a){var c=new r(s.length+a.length-1);c.fill(0);for(var m=0;m<s.length;m++)for(var d=0;d<a.length;d++)c[m+d]^=n.mul(s[m],a[d]);return c},g.mod=function(s,a){for(var c=new r(s);c.length-a.length>=0;){for(var m=c[0],d=0;d<a.length;d++)c[d]^=n.mul(a[d],m);for(var f=0;f<c.length&&0===c[f];)f++;c=c.slice(f)}return c},g.generateECPolynomial=function(s){for(var a=new r([1]),c=0;c<s;c++)a=g.mul(a,[1,n.exp(c)]);return a}},71465:(R,g,i)=>{var r=i(51708),n=i(34792),t=i(82259),s=i(52118),a=i(34425),c=i(46221),m=i(43114),d=i(33667),f=i(14655),C=i(12636),w=i(42088),v=i(17078),I=i(64016),A=i(62033),B=i(66425);function p(S,T,D){var b,E,P=S.size,x=v.getEncodedBits(T,D);for(b=0;b<15;b++)S.set(b<6?b:b<8?b+1:P-15+b,8,E=1==(x>>b&1),!0),S.set(8,b<8?P-b-1:b<9?15-b-1+1:15-b-1,E,!0);S.set(P-8,8,1,!0)}function k(S,T,D,P){var x;if(B(S))x=A.fromArray(S);else{if("string"!=typeof S)throw new Error("Invalid data");var b=T;if(!b){var E=A.rawSplit(S);b=w.getBestVersionForData(E,D)}x=A.fromString(S,b||40)}var N=w.getBestVersionForData(x,D);if(!N)throw new Error("The amount of data is too big to be stored in a QR Code");if(T){if(T<N)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+N+".\n")}else T=N;var F=function(S,T,D){var P=new s;D.forEach(function(q){P.put(q.mode.bit,4),P.put(q.getLength(),I.getCharCountIndicator(q.mode,S)),q.write(P)});var E=8*(n.getSymbolTotalCodewords(S)-f.getTotalCodewordsCount(S,T));for(P.getLengthInBits()+4<=E&&P.put(0,4);P.getLengthInBits()%8!=0;)P.putBit(0);for(var N=(E-P.getLengthInBits())/8,F=0;F<N;F++)P.put(F%2?17:236,8);return function(S,T,D){for(var P=n.getSymbolTotalCodewords(T),b=P-f.getTotalCodewordsCount(T,D),E=f.getBlocksCount(T,D),F=E-P%E,q=Math.floor(P/E),Q=Math.floor(b/E),j=Q+1,z=q-Q,ut=new C(z),tt=0,K=new Array(E),ft=new Array(E),U=0,Ct=new r(S.buffer),H=0;H<E;H++){var et=H<F?Q:j;K[H]=Ct.slice(tt,tt+et),ft[H]=ut.encode(K[H]),tt+=et,U=Math.max(U,et)}var G,W,nt=new r(P),dt=0;for(G=0;G<U;G++)for(W=0;W<E;W++)G<K[W].length&&(nt[dt++]=K[W][G]);for(G=0;G<z;G++)for(W=0;W<E;W++)nt[dt++]=ft[W][G];return nt}(P,S,T)}(T,D,x),q=n.getSymbolSize(T),Q=new a(q);return function(S,T){for(var D=S.size,P=m.getPositions(T),x=0;x<P.length;x++)for(var b=P[x][0],E=P[x][1],N=-1;N<=7;N++)if(!(b+N<=-1||D<=b+N))for(var F=-1;F<=7;F++)E+F<=-1||D<=E+F||S.set(b+N,E+F,N>=0&&N<=6&&(0===F||6===F)||F>=0&&F<=6&&(0===N||6===N)||N>=2&&N<=4&&F>=2&&F<=4,!0)}(Q,T),function(S){for(var T=S.size,D=8;D<T-8;D++){var P=D%2==0;S.set(D,6,P,!0),S.set(6,D,P,!0)}}(Q),function(S,T){for(var D=c.getPositions(T),P=0;P<D.length;P++)for(var x=D[P][0],b=D[P][1],E=-2;E<=2;E++)for(var N=-2;N<=2;N++)S.set(x+E,b+N,-2===E||2===E||-2===N||2===N||0===E&&0===N,!0)}(Q,T),p(Q,D,0),T>=7&&function(S,T){for(var x,b,E,D=S.size,P=w.getEncodedBits(T),N=0;N<18;N++)x=Math.floor(N/3),S.set(x,b=N%3+D-8-3,E=1==(P>>N&1),!0),S.set(b,x,E,!0)}(Q,T),function(S,T){for(var D=S.size,P=-1,x=D-1,b=7,E=0,N=D-1;N>0;N-=2)for(6===N&&N--;;){for(var F=0;F<2;F++)if(!S.isReserved(x,N-F)){var q=!1;E<T.length&&(q=1==(T[E]>>>b&1)),S.set(x,N-F,q),-1==--b&&(E++,b=7)}if((x+=P)<0||D<=x){x-=P,P=-P;break}}}(Q,F),isNaN(P)&&(P=d.getBestMask(Q,p.bind(null,Q,D))),d.applyMask(P,Q),p(Q,D,P),{modules:Q,version:T,errorCorrectionLevel:D,maskPattern:P,segments:x}}g.create=function(T,D){if(void 0===T||""===T)throw new Error("No input text");var x,b,P=t.M;return void 0!==D&&(P=t.from(D.errorCorrectionLevel,t.M),x=w.from(D.version),b=d.from(D.maskPattern),D.toSJISFunc&&n.setToSJISFunction(D.toSJISFunc)),k(T,x,P,b)}},12636:(R,g,i)=>{var r=i(51708),n=i(61106);function t(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}t.prototype.initialize=function(a){this.degree=a,this.genPoly=n.generateECPolynomial(this.degree)},t.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");var c=new r(this.degree);c.fill(0);var m=r.concat([a,c],a.length+this.degree),d=n.mod(m,this.genPoly),f=this.degree-d.length;if(f>0){var C=new r(this.degree);return C.fill(0),d.copy(C,f),C}return d},R.exports=t},2699:(R,g)=>{var i="[0-9]+",n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",t="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";g.KANJI=new RegExp(n,"g"),g.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),g.BYTE=new RegExp(t,"g"),g.NUMERIC=new RegExp(i,"g"),g.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");g.testKanji=function(d){return s.test(d)},g.testNumeric=function(d){return a.test(d)},g.testAlphanumeric=function(d){return c.test(d)}},62033:(R,g,i)=>{var r=i(64016),n=i(97783),t=i(32424),s=i(85663),a=i(80449),c=i(2699),m=i(34792),d=i(74901);function f(Z){return unescape(encodeURIComponent(Z)).length}function C(Z,y,h){for(var _,p=[];null!==(_=Z.exec(h));)p.push({data:_[0],index:_.index,mode:y,length:_[0].length});return p}function w(Z){var p,_,y=C(c.NUMERIC,r.NUMERIC,Z),h=C(c.ALPHANUMERIC,r.ALPHANUMERIC,Z);return m.isKanjiModeEnabled()?(p=C(c.BYTE,r.BYTE,Z),_=C(c.KANJI,r.KANJI,Z)):(p=C(c.BYTE_KANJI,r.BYTE,Z),_=[]),y.concat(h,p,_).sort(function(L,k){return L.index-k.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function v(Z,y){switch(y){case r.NUMERIC:return n.getBitsLength(Z);case r.ALPHANUMERIC:return t.getBitsLength(Z);case r.KANJI:return a.getBitsLength(Z);case r.BYTE:return s.getBitsLength(Z)}}function $(Z,y){var h,p=r.getBestModeForData(Z);if((h=r.from(y,p))!==r.BYTE&&h.bit<p.bit)throw new Error('"'+Z+'" cannot be encoded with mode '+r.toString(h)+".\n Suggested mode is: "+r.toString(p));switch(h===r.KANJI&&!m.isKanjiModeEnabled()&&(h=r.BYTE),h){case r.NUMERIC:return new n(Z);case r.ALPHANUMERIC:return new t(Z);case r.KANJI:return new a(Z);case r.BYTE:return new s(Z)}}g.fromArray=function(y){return y.reduce(function(h,p){return"string"==typeof p?h.push($(p,null)):p.data&&h.push($(p.data,p.mode)),h},[])},g.fromString=function(y,h){for(var _=function(Z){for(var y=[],h=0;h<Z.length;h++){var p=Z[h];switch(p.mode){case r.NUMERIC:y.push([p,{data:p.data,mode:r.ALPHANUMERIC,length:p.length},{data:p.data,mode:r.BYTE,length:p.length}]);break;case r.ALPHANUMERIC:y.push([p,{data:p.data,mode:r.BYTE,length:p.length}]);break;case r.KANJI:y.push([p,{data:p.data,mode:r.BYTE,length:f(p.data)}]);break;case r.BYTE:y.push([{data:p.data,mode:r.BYTE,length:f(p.data)}])}}return y}(w(y,m.isKanjiModeEnabled())),M=function(Z,y){for(var h={},p={start:{}},_=["start"],M=0;M<Z.length;M++){for(var L=Z[M],k=[],S=0;S<L.length;S++){var T=L[S],D=""+M+S;k.push(D),h[D]={node:T,lastCount:0},p[D]={};for(var P=0;P<_.length;P++){var x=_[P];h[x]&&h[x].node.mode===T.mode?(p[x][D]=v(h[x].lastCount+T.length,T.mode)-v(h[x].lastCount,T.mode),h[x].lastCount+=T.length):(h[x]&&(h[x].lastCount=T.length),p[x][D]=v(T.length,T.mode)+4+r.getCharCountIndicator(T.mode,y))}}_=k}for(P=0;P<_.length;P++)p[_[P]].end=0;return{map:p,table:h}}(_,h),L=d.find_path(M.map,"start","end"),k=[],S=1;S<L.length-1;S++)k.push(M.table[L[S]].node);return g.fromArray(k.reduce(function(y,h){var p=y.length-1>=0?y[y.length-1]:null;return p&&p.mode===h.mode?(y[y.length-1].data+=h.data,y):(y.push(h),y)},[]))},g.rawSplit=function(y){return g.fromArray(w(y,m.isKanjiModeEnabled()))}},34792:(R,g)=>{var i,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];g.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},g.getSymbolTotalCodewords=function(t){return r[t]},g.getBCHDigit=function(n){for(var t=0;0!==n;)t++,n>>>=1;return t},g.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');i=t},g.isKanjiModeEnabled=function(){return void 0!==i},g.toSJIS=function(t){return i(t)}},94406:(R,g)=>{g.isValid=function(r){return!isNaN(r)&&r>=1&&r<=40}},42088:(R,g,i)=>{var r=i(34792),n=i(14655),t=i(82259),s=i(64016),a=i(94406),c=i(66425),d=r.getBCHDigit(7973);function C(I,A){return s.getCharCountIndicator(I,A)+4}function w(I,A){var B=0;return I.forEach(function($){var Z=C($.mode,A);B+=Z+$.getBitsLength()}),B}g.from=function(A,B){return a.isValid(A)?parseInt(A,10):B},g.getCapacity=function(A,B,$){if(!a.isValid(A))throw new Error("Invalid QR Code version");void 0===$&&($=s.BYTE);var h=8*(r.getSymbolTotalCodewords(A)-n.getTotalCodewordsCount(A,B));if($===s.MIXED)return h;var p=h-C($,A);switch($){case s.NUMERIC:return Math.floor(p/10*3);case s.ALPHANUMERIC:return Math.floor(p/11*2);case s.KANJI:return Math.floor(p/13);default:return Math.floor(p/8)}},g.getBestVersionForData=function(A,B){var $,Z=t.from(B,t.M);if(c(A)){if(A.length>1)return function(I,A){for(var B=1;B<=40;B++)if(w(I,B)<=g.getCapacity(B,A,s.MIXED))return B}(A,Z);if(0===A.length)return 1;$=A[0]}else $=A;return function(I,A,B){for(var $=1;$<=40;$++)if(A<=g.getCapacity($,B,I))return $}($.mode,$.getLength(),Z)},g.getEncodedBits=function(A){if(!a.isValid(A)||A<7)throw new Error("Invalid QR Code version");for(var B=A<<12;r.getBCHDigit(B)-d>=0;)B^=7973<<r.getBCHDigit(B)-d;return A<<12|B}},23210:(R,g,i)=>{var r=i(36355);g.render=function(a,c,m){var d=m,f=c;void 0===d&&(!c||!c.getContext)&&(d=c,c=void 0),c||(f=function(){try{return document.createElement("canvas")}catch(s){throw new Error("You need to specify a canvas element")}}()),d=r.getOptions(d);var C=r.getImageWidth(a.modules.size,d),w=f.getContext("2d"),v=w.createImageData(C,C);return r.qrToImageData(v.data,a,d),function(s,a,c){s.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}(w,f,C),w.putImageData(v,0,0),f},g.renderToDataURL=function(a,c,m){var d=m;return void 0===d&&(!c||!c.getContext)&&(d=c,c=void 0),d||(d={}),g.render(a,c,d).toDataURL(d.type||"image/png",(d.rendererOpts||{}).quality)}},22334:(R,g,i)=>{var r=i(36355);function n(a,c){var m=a.a/255,d=c+'="'+a.hex+'"';return m<1?d+" "+c+'-opacity="'+m.toFixed(2).slice(1)+'"':d}function t(a,c,m){var d=a+c;return void 0!==m&&(d+=" "+m),d}g.render=function(c,m,d){var f=r.getOptions(m),C=c.modules.size,w=c.modules.data,v=C+2*f.margin,I=f.color.light.a?"<path "+n(f.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",A="<path "+n(f.color.dark,"stroke")+' d="'+function(a,c,m){for(var d="",f=0,C=!1,w=0,v=0;v<a.length;v++){var I=Math.floor(v%c),A=Math.floor(v/c);!I&&!C&&(C=!0),a[v]?(w++,v>0&&I>0&&a[v-1]||(d+=C?t("M",I+m,.5+A+m):t("m",f,0),f=0,C=!1),I+1<c&&a[v+1]||(d+=t("h",w),w=0)):f++}return d}(w,C,f.margin)+'"/>',Z='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+'viewBox="0 0 '+v+" "+v+'" shape-rendering="crispEdges">'+I+A+"</svg>\n";return"function"==typeof d&&d(null,Z),Z}},36355:(R,g)=>{function i(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||5===n.length||n.length>8)throw new Error("Invalid hex color: "+r);(3===n.length||4===n.length)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),6===n.length&&n.push("F","F");var t=parseInt(n.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+n.slice(0,6).join("")}}g.getOptions=function(n){n||(n={}),n.color||(n.color={});var s=n.width&&n.width>=21?n.width:void 0;return{width:s,scale:s?4:n.scale||4,margin:null==n.margin||n.margin<0?4:n.margin,color:{dark:i(n.color.dark||"#000000ff"),light:i(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},g.getScale=function(n,t){return t.width&&t.width>=n+2*t.margin?t.width/(n+2*t.margin):t.scale},g.getImageWidth=function(n,t){var s=g.getScale(n,t);return Math.floor((n+2*t.margin)*s)},g.qrToImageData=function(n,t,s){for(var a=t.modules.size,c=t.modules.data,m=g.getScale(a,s),d=Math.floor((a+2*s.margin)*m),f=s.margin*m,C=[s.color.light,s.color.dark],w=0;w<d;w++)for(var v=0;v<d;v++){var I=4*(w*d+v),A=s.color.light;w>=f&&v>=f&&w<d-f&&v<d-f&&(A=C[c[Math.floor((w-f)/m)*a+Math.floor((v-f)/m)]?1:0]),n[I++]=A.r,n[I++]=A.g,n[I++]=A.b,n[I]=A.a}}},51708:(R,g,i)=>{"use strict";var r=i(66425),t=(s.TYPED_ARRAY_SUPPORT=function(){try{var y=new Uint8Array(1);return y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===y.foo()}catch(h){return!1}}())?2147483647:1073741823;function s(y,h,p){return s.TYPED_ARRAY_SUPPORT||this instanceof s?"number"==typeof y?d(this,y):function(y,h,p,_){if("number"==typeof h)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&h instanceof ArrayBuffer?function(y,h,p,_){if(p<0||h.byteLength<p)throw new RangeError("'offset' is out of bounds");if(h.byteLength<p+(_||0))throw new RangeError("'length' is out of bounds");var M;return M=void 0===p&&void 0===_?new Uint8Array(h):void 0===_?new Uint8Array(h,p):new Uint8Array(h,p,_),s.TYPED_ARRAY_SUPPORT?M.__proto__=s.prototype:M=C(y,M),M}(y,h,p,_):"string"==typeof h?function(y,h){var p=0|A(h),_=m(y,p),M=_.write(h);return M!==p&&(_=_.slice(0,M)),_}(y,h):function(y,h){if(s.isBuffer(h)){var p=0|a(h.length),_=m(y,p);return 0===_.length||h.copy(_,0,0,p),_}if(h){if("undefined"!=typeof ArrayBuffer&&h.buffer instanceof ArrayBuffer||"length"in h)return"number"!=typeof h.length||function(y){return y!=y}(h.length)?m(y,0):C(y,h);if("Buffer"===h.type&&Array.isArray(h.data))return C(y,h.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(y,h)}(this,y,h,p):new s(y,h,p)}function a(y){if(y>=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t.toString(16)+" bytes");return 0|y}function m(y,h){var p;return s.TYPED_ARRAY_SUPPORT?(p=new Uint8Array(h)).__proto__=s.prototype:(null===(p=y)&&(p=new s(h)),p.length=h),p}function d(y,h){var p=m(y,h<0?0:0|a(h));if(!s.TYPED_ARRAY_SUPPORT)for(var _=0;_<h;++_)p[_]=0;return p}function C(y,h){for(var p=h.length<0?0:0|a(h.length),_=m(y,p),M=0;M<p;M+=1)_[M]=255&h[M];return _}function I(y,h){h=h||1/0;for(var p,_=y.length,M=null,L=[],k=0;k<_;++k){if((p=y.charCodeAt(k))>55295&&p<57344){if(!M){if(p>56319){(h-=3)>-1&&L.push(239,191,189);continue}if(k+1===_){(h-=3)>-1&&L.push(239,191,189);continue}M=p;continue}if(p<56320){(h-=3)>-1&&L.push(239,191,189),M=p;continue}p=65536+(M-55296<<10|p-56320)}else M&&(h-=3)>-1&&L.push(239,191,189);if(M=null,p<128){if((h-=1)<0)break;L.push(p)}else if(p<2048){if((h-=2)<0)break;L.push(p>>6|192,63&p|128)}else if(p<65536){if((h-=3)<0)break;L.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((h-=4)<0)break;L.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return L}function A(y){return s.isBuffer(y)?y.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(y)||y instanceof ArrayBuffer)?y.byteLength:("string"!=typeof y&&(y=""+y),0===y.length?0:I(y).length)}s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),s.prototype.write=function(h,p,_){void 0===p||void 0===_&&"string"==typeof p?(_=this.length,p=0):isFinite(p)&&(p|=0,isFinite(_)?_|=0:_=void 0);var M=this.length-p;if((void 0===_||_>M)&&(_=M),h.length>0&&(_<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(y,h,p,_){return function(y,h,p,_){for(var M=0;M<_&&!(M+p>=h.length||M>=y.length);++M)h[M+p]=y[M];return M}(I(h,y.length-p),y,p,_)}(this,h,p,_)},s.prototype.slice=function(h,p){var M,_=this.length;if((h=~~h)<0?(h+=_)<0&&(h=0):h>_&&(h=_),(p=void 0===p?_:~~p)<0?(p+=_)<0&&(p=0):p>_&&(p=_),p<h&&(p=h),s.TYPED_ARRAY_SUPPORT)(M=this.subarray(h,p)).__proto__=s.prototype;else{var L=p-h;M=new s(L,void 0);for(var k=0;k<L;++k)M[k]=this[k+h]}return M},s.prototype.copy=function(h,p,_,M){if(_||(_=0),!M&&0!==M&&(M=this.length),p>=h.length&&(p=h.length),p||(p=0),M>0&&M<_&&(M=_),M===_||0===h.length||0===this.length)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("sourceStart out of bounds");if(M<0)throw new RangeError("sourceEnd out of bounds");M>this.length&&(M=this.length),h.length-p<M-_&&(M=h.length-p+_);var k,L=M-_;if(this===h&&_<p&&p<M)for(k=L-1;k>=0;--k)h[k+p]=this[k+_];else if(L<1e3||!s.TYPED_ARRAY_SUPPORT)for(k=0;k<L;++k)h[k+p]=this[k+_];else Uint8Array.prototype.set.call(h,this.subarray(_,_+L),p);return L},s.prototype.fill=function(h,p,_){if("string"==typeof h){if("string"==typeof p?(p=0,_=this.length):"string"==typeof _&&(_=this.length),1===h.length){var M=h.charCodeAt(0);M<256&&(h=M)}}else"number"==typeof h&&(h&=255);if(p<0||this.length<p||this.length<_)throw new RangeError("Out of range index");if(_<=p)return this;var L;if(p>>>=0,_=void 0===_?this.length:_>>>0,h||(h=0),"number"==typeof h)for(L=p;L<_;++L)this[L]=h;else{var k=s.isBuffer(h)?h:new s(h),S=k.length;for(L=0;L<_-p;++L)this[L+p]=k[L%S]}return this},s.concat=function(h,p){if(!r(h))throw new TypeError('"list" argument must be an Array of Buffers');if(0===h.length)return m(null,0);var _;if(void 0===p)for(p=0,_=0;_<h.length;++_)p+=h[_].length;var M=d(null,p),L=0;for(_=0;_<h.length;++_){var k=h[_];if(!s.isBuffer(k))throw new TypeError('"list" argument must be an Array of Buffers');k.copy(M,L),L+=k.length}return M},s.byteLength=A,s.prototype._isBuffer=!0,s.isBuffer=function(h){return!(null==h||!h._isBuffer)},R.exports=s}}]);