"use strict";(self.webpackChunkcsgoroll=self.webpackChunkcsgoroll||[]).push([["libs_support_src_index_ts"],{54839:(x,g,F)=>{F.r(g),F.d(g,{SupportModule:()=>y});var T=F(45990),a=F(35357),d=F(70655),t=F(5e3),r=F(93075),c=F(23600),S=F(44987),D=F(13302),_=F(52457),h=F(28746);const O=F(39478).Ps`
  mutation CreateSupportTicket($input: CreateSupportTicketInput!) {
    createSupportTicket(input: $input) {
      status
      message
    }
  }
`;var p=F(69808),m=F(67322),L=F(98833),C=F(30446),R=F(47423),M=F(23322),U=F(79586),I=F(23837),v=F(43343);const $=function(){return["/info/faq"]};function E(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"p"),t.tHW(2,2),t._UZ(3,"a",3),t._UZ(4,"br"),t._UZ(5,"br"),t._UZ(6,"br"),t._UZ(7,"br"),t.N_p(),t.qZA(),t.TgZ(8,"form",4),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(9,"mat-form-field",5),t.TgZ(10,"mat-label"),t.SDv(11,6),t.qZA(),t._UZ(12,"input",7),t.TgZ(13,"mat-error"),t._UZ(14,"cw-form-errors",8),t.qZA(),t.qZA(),t.TgZ(15,"mat-form-field",9),t.TgZ(16,"mat-label"),t.SDv(17,10),t.qZA(),t._UZ(18,"textarea",11),t.TgZ(19,"mat-error"),t._UZ(20,"cw-form-errors",8),t.qZA(),t.qZA(),t.TgZ(21,"button",12),t.tHW(22,13),t._UZ(23,"cw-loader",14),t.N_p(),t.qZA(),t.qZA(),t.TgZ(24,"p"),t._uU(25," We have real-time live chat support agents working from 10 am CET - 10 pm CET Mon - Fri. "),t.TgZ(26,"a",15),t._uU(27,"Open Live Chat"),t.qZA(),t._uU(28,". "),t.qZA(),t.TgZ(29,"p"),t._uU(30," In case of connection troubles, please contact our 24/7 support team via email at "),t.TgZ(31,"a",16),t.ALo(32,"appConfig"),t._uU(33),t.ALo(34,"appConfig"),t.qZA(),t._uU(35," who will get back to you well within 24 hours. "),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("routerLink",t.DdM(16,$)),t.xp6(5),t.Q6J("formGroup",e.form),t.xp6(4),t.Q6J("email",!0),t.xp6(2),t.Q6J("control",e.form.controls.email)("show",e.form.controls.email.touched||e.submitted),t.xp6(1),t.Q6J("floatLabel","always"),t.xp6(5),t.Q6J("control",e.form.controls.supportMessage)("show",e.form.controls.supportMessage.touched||e.submitted),t.xp6(1),t.Q6J("disabled",e.submitted||e.form.invalid),t.xp6(2),t.Q6J("loading",e.loading),t.xp6(8),t.MGl("href","mailto:",t.lcZ(32,12,"SUPPORT_EMAIL"),"",t.LSH),t.xp6(2),t.Oqu(t.lcZ(34,14,"SUPPORT_EMAIL"))}}const b=function(){return["/login"]};function A(o,s){1&o&&(t.ynx(0),t.TgZ(1,"p"),t.tHW(2,17),t._UZ(3,"a",3),t.N_p(),t.qZA(),t.BQk()),2&o&&(t.xp6(3),t.Q6J("routerLink",t.DdM(1,b)))}let n=class{constructor(s,e,u,l,i,B,k,w){var f;this.appConfig=s,this.environment=e,this.apollo=u,this.fb=l,this.cd=i,this.userService=B,this.toastr=k,this.route=w,this.submitted=!1,this.loading=!1,this.user$=this.userService.user$,this.isUserLoggedIn$=this.userService.isUserLoggedIn$,this.showToLoggedOutUsers=null===(f=this.appConfig.support)||void 0===f?void 0:f.showToLoggedOutUsers}ngOnInit(){this.form=this.fb.group({email:["",[r.kI.required,r.kI.email]],supportMessage:["",r.kI.required]}),this.userService.user$.pipe((0,S.t)(this)).subscribe(e=>{var u;this.user=e,this.cd.markForCheck(),(null===(u=this.user)||void 0===u?void 0:u.email)&&this.form.get("email").patchValue(this.user.email)});const{globalId:s}=this.route.snapshot.params;if(s){const e=atob(s),u=null==e?void 0:e.slice(0,e.indexOf(":"));u&&this.form.patchValue({supportMessage:`Problems with ${u} ${s}`})}}resetForm(){this.form.reset(),Object.keys(this.form.controls).forEach(s=>{this.form.controls[s].setErrors(null)}),this.submitted=!1,this.form=this.fb.group({email:["",[r.kI.required,r.kI.email]],supportMessage:["",r.kI.required]})}onSubmit(){this.submitted=!0,this.form.valid&&this.form.dirty&&(this.loading=!0,this.apollo.mutate({mutation:O,variables:{input:this.form.value}}).pipe((0,h.x)(()=>{this.submitted=!1,this.loading=!1,this.cd.markForCheck()})).subscribe(({data:e})=>"success"===e.createSupportTicket.status?(this.resetForm(),this.toastr.success("Success!",e.createSupportTicket.message)):this.toastr.error("Error!",e.createSupportTicket.message)))}};n.\u0275fac=function(s){return new(s||n)(t.Y36(c.qBz),t.Y36(c.pgb),t.Y36(D._M),t.Y36(r.qu),t.Y36(t.sBO),t.Y36(c.KDu),t.Y36(_._W),t.Y36(a.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cw-support"]],decls:6,vars:5,consts:function(){let o,s,e,u,l;return o=$localize`:␟f763e8b7036b30e21a2e57e19ed029e491109c1e␟3659082771589697788: Before submitting a support ticket, first check if you find the answer to your question here: ${"\ufffd#3\ufffd"}:START_LINK:Frequently Asked Questions${"\ufffd/#3\ufffd"}:CLOSE_LINK:${"[\ufffd#4\ufffd\ufffd/#4\ufffd|\ufffd#5\ufffd\ufffd/#5\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]"}:LINE_BREAK:${"[\ufffd#4\ufffd\ufffd/#4\ufffd|\ufffd#5\ufffd\ufffd/#5\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]"}:LINE_BREAK: Please fill out the contact form below with your correct email address.${"[\ufffd#4\ufffd\ufffd/#4\ufffd|\ufffd#5\ufffd\ufffd/#5\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]"}:LINE_BREAK:${"[\ufffd#4\ufffd\ufffd/#4\ufffd|\ufffd#5\ufffd\ufffd/#5\ufffd|\ufffd#6\ufffd\ufffd/#6\ufffd|\ufffd#7\ufffd\ufffd/#7\ufffd]"}:LINE_BREAK: Our team will work to respond to your ticket within 24 hours; however a response may take longer due to occasional heavy traffic. `,o=t.Zx4(o),s=$localize`:␟69b6ac577a19acc39fc0c22342092f327fff2529␟3967269098753656610:Email address`,e=$localize`:␟ccac601bf473fa28c9ac46794f1cd40542f74347␟8066608938393600549:Message`,u=$localize`:␟c7e996ff3964d104d89c48a7726751e6104a964b␟5570931196533613543:${"\ufffd#23\ufffd"}:START_TAG_CW_LOADER:Submit${"\ufffd/#23\ufffd"}:CLOSE_TAG_CW_LOADER:`,l=$localize`:␟5cec5061d8cbf60a01be2f6645ecaea47fab06d5␟1667495484554204186:Please ${"\ufffd#3\ufffd"}:START_LINK:login${"\ufffd/#3\ufffd"}:CLOSE_LINK: to contact support.`,[[3,"ngSwitch"],[4,"ngSwitchCase"],o,[3,"routerLink"],["novalidate","",1,"mb-3",3,"formGroup","ngSubmit"],[1,"w-100"],s,["matInput","","type","text","formControlName","email",3,"email"],[3,"control","show"],["appearance","fill",1,"w-100",3,"floatLabel"],e,["matInput","","name","supportMessage","rows","10","formControlName","supportMessage","placeholder","Provide as much information as possible about the problem or question so that we can better assist you."],["type","submit","mat-flat-button","","color","primary","ngClass.xs","w-100",1,"top-space",3,"disabled"],u,[3,"loading"],["tabindex","-1","cwOpenZendesk","",1,"pointer"],[3,"href"],l]},template:function(s,e){1&s&&(t.TgZ(0,"h1"),t._uU(1,"SUPPORT"),t.qZA(),t.ynx(2,0),t.ALo(3,"async"),t.YNc(4,E,36,17,"ng-container",1),t.YNc(5,A,4,2,"ng-container",1),t.BQk()),2&s&&(t.xp6(2),t.Q6J("ngSwitch",!!t.lcZ(3,3,e.isUserLoggedIn$)||e.showToLoggedOutUsers),t.xp6(2),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngSwitchCase",!1))},directives:[p.RF,p.n9,a.yS,r._Y,r.JL,r.sg,m.KE,m.hX,L.Nt,r.Fj,r.JJ,r.u,r.on,m.TO,C.A,R.lW,M.oO,U.R,I.n],pipes:[p.Ov,v.O],styles:["[_nghost-%COMP%]{position:relative}button[_ngcontent-%COMP%]{margin:1rem 0 0;min-width:200px}"],changeDetection:0}),n=(0,d.gn)([(0,S.c)(),(0,d.w6)("design:paramtypes",[Object,Object,D._M,r.qu,t.sBO,c.KDu,_._W,a.gz])],n);const N=[{path:"",component:n},{path:":globalId",component:n}];let Z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.Bz.forChild(N)],a.Bz]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[T.vY,Z]]}),o})()}}]);