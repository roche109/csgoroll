"use strict";(self.webpackChunkcsgoroll=self.webpackChunkcsgoroll||[]).push([["default-libs_payment_src_lib_shared_payment-shared_module_ts"],{92758:(st,k,o)=>{o.d(k,{U:()=>i});var t=o(23600),n=o(62650),a=o(29683),d=o(99849),v=o(38042),g=o(92628),b=o(5e3),Q=o(87254),s=o(52457);let i=(()=>{class K{constructor(u,_,w,B,F,O,e){this.appConfig=u,this.amazonPayService=_,this.localStorage=w,this.paymentService=B,this.platformService=F,this.toastrService=O,this.trackingService=e}onCreateTransaction(u){this.trackingService.trackCurrencyEvent("createTransaction",u.amount,{currency:u.currency,status:u.status,provider:u.provider}),u.status===g.L.COMPLETED&&(this.onComplete(u),this.toastrService.show((0,t.GKW)(this.appConfig,"DEPOSIT_TEXT")+" successful")),u.status!==g.L.FAILED&&(this.paymentService.hasRedirect(u.provider)&&this.openUrl(u.url),u.provider===d.O.AMAZONPAY&&this.amazonPayService.renderButton(u))}onComplete(u){let _={};const w=this.localStorage.get(n.F.PAYMENT_COMPLETIONS);w&&(_=JSON.parse(w),_[u.id])||(_[u.id]=1,this.localStorage.set(n.F.PAYMENT_COMPLETIONS,JSON.stringify(_)),this.trackingService.trackCurrencyEvent("completeTransaction",u.amount,{currency:u.currency,provider:u.provider,purchase:!0}))}openUrl(u){this.platformService.document.location.href=u}}return K.\u0275fac=function(u){return new(u||K)(b.LFG(t.qBz),b.LFG(a.e),b.LFG(Q.n2),b.LFG(v.t),b.LFG(t.mix),b.LFG(s._W),b.LFG(t.e2C))},K.\u0275prov=b.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})()},23121:(st,k,o)=>{o.d(k,{k:()=>et});var t=o(70655),n=o(69808),a=o(5e3),d=o(93075),v=o(48966),g=o(23600),b=o(62650),Q=o(41525),s=o(75424),i=o(44987),K=o(87254),$=o(54004),u=o(39300),_=o(95698),w=o(18505),B=o(63900),F=o(62557),O=o(28746),e=o(57165),A=o(38042),m=(()=>{return(U=m||(m={})).USD="USD",U.EUR="EUR",U.TKN="TKN",m;var U})(),P=o(77093),D=o(67322),J=o(23322),h=o(98833),N=o(30446),Z=o(31495),V=o(96298),G=o(74107),it=o(90508),ct=o(47423),pt=o(79586),Tt=o(43343);function ft(U,L){if(1&U&&(a.TgZ(0,"span",12),a._uU(1),a.ALo(2,"async"),a.qZA()),2&U){const S=a.oxw(2);a.xp6(1),a.Oqu(a.lcZ(2,1,S.currencySymbol$))}}function x(U,L){1&U&&a._UZ(0,"cw-icon",13)}function H(U,L){if(1&U&&(a.TgZ(0,"div",14),a.GkF(1,15),a.qZA()),2&U){a.oxw(2);const S=a.MAs(7);a.xp6(1),a.Q6J("ngTemplateOutlet",S)}}const f=function(){return{"max-width":"25rem","min-width":"25rem"}};function R(U,L){if(1&U&&(a.TgZ(0,"mat-form-field",5),a.TgZ(1,"mat-label"),a._uU(2),a.ALo(3,"appConfig"),a.qZA(),a.YNc(4,ft,3,3,"span",6),a.TgZ(5,"div",7),a.YNc(6,x,1,0,"cw-icon",8),a._UZ(7,"input",9),a.qZA(),a.TgZ(8,"mat-error"),a._UZ(9,"cw-form-errors",10),a.qZA(),a.YNc(10,H,2,1,"div",11),a.qZA()),2&U){const S=L.ngIf,_t=a.oxw();a.Q6J("ngStyle.gt-xs",a.DdM(10,f)),a.xp6(2),a.hij("",a.lcZ(3,8,"DEPOSIT_TEXT")," Amount"),a.xp6(2),a.Q6J("ngIf","TKN"!==S),a.xp6(2),a.Q6J("ngIf","TKN"===S),a.xp6(3),a.Q6J("control",_t.form.controls.amount)("show",_t.form.get("amount").invalid)("errors",_t.getErrorMessages(S)),a.xp6(1),a.Q6J("ngIf",_t.showFormFieldButtons)}}function Y(U,L){if(1&U&&(a.TgZ(0,"div",16),a.GkF(1,15),a.qZA()),2&U){a.oxw();const S=a.MAs(7);a.xp6(1),a.Q6J("ngTemplateOutlet",S)}}function c(U,L){if(1&U&&(a.TgZ(0,"mat-option",21),a._uU(1),a.qZA()),2&U){const S=L.$implicit;a.Q6J("value",S.value),a.xp6(1),a.Oqu(S.label)}}function T(U,L){if(1&U&&(a.TgZ(0,"mat-form-field",17),a.TgZ(1,"mat-label"),a.SDv(2,18),a.qZA(),a.TgZ(3,"mat-select",19),a.YNc(4,c,2,2,"mat-option",20),a.qZA(),a.qZA()),2&U){const S=a.oxw();a.xp6(4),a.Q6J("ngForOf",S.preferredCurrencies)}}function p(U,L){if(1&U&&(a.ynx(0),a.TgZ(1,"button",25),a.TgZ(2,"cw-loader",26),a._uU(3),a.ALo(4,"appConfig"),a.qZA(),a.qZA(),a._UZ(5,"input",27),a.BQk()),2&U){const S=a.oxw(2);a.xp6(1),a.s9C("color",S.topUpButtonColor),a.Q6J("disabled",S.form.invalid||S.submitting),a.xp6(1),a.Q6J("loading",S.submitting),a.xp6(1),a.Oqu(a.lcZ(4,4,"DEPOSIT_TEXT"))}}function y(U,L){if(1&U&&(a.TgZ(0,"button",31),a.TgZ(1,"cw-loader",26),a.SDv(2,32),a.ALo(3,"currency"),a.qZA(),a.qZA()),2&U){const S=a.oxw(4);a.s9C("color",S.topUpButtonColor),a.Q6J("disabled",S.form.invalid||S.submitting),a.xp6(1),a.Q6J("loading",S.submitting),a.xp6(2),a.pQV(a.xi3(3,4,S.paymentAmount*S.exchangeRate,S.preferredCurrency)),a.QtT(2)}}function j(U,L){if(1&U&&(a.TgZ(0,"button",33),a.TgZ(1,"cw-loader",26),a._uU(2),a.ALo(3,"appConfig"),a.qZA(),a.qZA()),2&U){const S=a.oxw(4);a.s9C("color",S.topUpButtonColor),a.Q6J("disabled",S.form.invalid||S.submitting),a.xp6(1),a.Q6J("loading",S.submitting),a.xp6(1),a.Oqu(a.lcZ(3,4,"DEPOSIT_TEXT"))}}function at(U,L){if(1&U&&(a.ynx(0),a.YNc(1,y,4,7,"button",29),a.YNc(2,j,4,6,"button",30),a.BQk()),2&U){const S=L.ngIf;a.xp6(1),a.Q6J("ngIf","TKN"===S),a.xp6(1),a.Q6J("ngIf","TKN"!==S)}}function lt(U,L){if(1&U&&(a.ynx(0),a.YNc(1,at,3,2,"ng-container",28),a.ALo(2,"async"),a.BQk()),2&U){const S=a.oxw(2);a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,S.currency$))}}function ot(U,L){if(1&U&&(a.ynx(0,22),a.YNc(1,p,6,6,"ng-container",23),a.YNc(2,lt,3,3,"ng-container",24),a.BQk()),2&U){const S=a.oxw();a.Q6J("ngSwitch",S.selectedOption.provider),a.xp6(1),a.Q6J("ngSwitchCase","STRIPE")}}const At=[e.OH.ALTERNATIVEPAYMENTS,e.OH.IPS,e.OH.PAY_OP,e.OH.SAFE_CHARGE];let et=class{constructor(L,S,_t,ut,Mt,Ot,St,Nt,Pt,ht,nt,xt){this.appConfig=L,this.changeRef=S,this.dialog=_t,this.exchangeRateService=ut,this.fb=Mt,this.localStorageService=Ot,this.locationService=St,this.paymentService=Nt,this.promoCodeService=Pt,this.recaptchaService=ht,this.seonFraudService=nt,this.userService=xt,this.showFormFieldButtons=!0,this.topUpButtonColor="accent",this.createdTransaction=new a.vpe,this.createdCryptoAddress=new a.vpe,this.submitted=!1,this.submitting=!1,this.preferredCurrencies=[{value:"USD",label:"USD"},{value:"EUR",label:"Euro"}],this.recaptchaService.preload(),this.seonFraudService.preload(),this.currency$=this.userService.currency$,this.currencySymbol$=this.currency$.pipe((0,$.U)(Ct=>(0,n.jK)(Ct,"narrow"))),this.form=this.fb.group({type:["DEPOSIT",d.kI.required],amount:[this.appConfig.defaultDepositAmount,[d.kI.required,(0,g.zXG)(()=>this.minDepositAmount),(0,g.wgC)(()=>this.maxDepositAmount)]],token:"",paymentOptionId:[null]}),this.form.controls.token.valueChanges.pipe((0,i.t)(this)).subscribe(()=>this.onSubmit()),this.currency$.pipe((0,u.h)(Ct=>Ct===m.TKN),(0,_.q)(1),(0,w.b)(()=>{this.form.addControl("preferredCurrency",new d.NI("",d.kI.required)),this.fetchPreferredCurrency(),(0,g.E3_)(this.form.controls.preferredCurrency).pipe((0,i.t)(this),(0,B.w)(Ct=>this.exchangeRateService.exchangeRateMap$.pipe((0,_.q)(1),(0,w.b)(It=>this.setPreferredRate(It,Ct))))).subscribe(()=>this.changeRef.markForCheck())})).subscribe(),this.form.get("amount").valueChanges.pipe((0,i.t)(this)).subscribe(Ct=>this.promoCodeService.amount=Ct)}set selectedOption(L){!L||(this._selectedOption=L,this.form.patchValue({paymentOptionId:L.id}))}get selectedOption(){return this._selectedOption}get providerMethod(){return this.paymentService.getProviderMethod(this.selectedOption)}get minDepositAmount(){var L;return+(null===(L=this.selectedOption)||void 0===L?void 0:L.minDepositAmount)||1}get maxDepositAmount(){var L;return+(null===(L=this.selectedOption)||void 0===L?void 0:L.maxDepositAmount)||9999999999}get paymentAmount(){return this.form.get("amount").value}get preferredCurrency(){return this.form.get("preferredCurrency").value}onSubmit(L=e.vk.TRANSACTION){this.submitted=!0,this.form.valid&&(0,F.$)(this.userService.user$,this.userService.hasCompletedProfile$).pipe((0,_.q)(1)).subscribe(([S,_t])=>{if(At.includes(this.selectedOption.provider)&&(!S.verified||!S.email))return this.openEmailFormModal(S.id);if(this.selectedOption.requiresProfile&&!_t){const ut=this.dialog.open(s.UserPreferencesModalComponent,{width:"800px"});return ut.componentInstance.userId=S.id,ut.afterClosed().pipe((0,_.q)(1),(0,u.h)(g.$KD)).subscribe(()=>this.createTransaction())}switch(L){case e.vk.TRANSACTION:return void this.createTransaction();case e.vk.CRYPTO_ADDRESS:return void this.getCryptoAddress()}})}createTransaction(){this.submitting=!0;const L=this.form.getRawValue();delete L.acceptTos,L.promoCode=this.promoCodeService.form.get("code").value,this.paymentService.createTransaction(Object.assign(Object.assign({},L),{amount:+L.amount})).pipe((0,O.x)(()=>{this.submitting=!1,this.changeRef.markForCheck()}),(0,u.h)(g.$KD),(0,i.t)(this),(0,u.h)(g.$KD)).subscribe(S=>this.createdTransaction.next(S))}getCryptoAddress(){this.submitting=!0;const L=this.form.get("paymentOptionId").value;this.paymentService.getCryptoAddress({paymentOptionId:L}).pipe((0,i.t)(this),(0,O.x)(()=>{this.submitting=!1,this.changeRef.markForCheck()}),(0,u.h)(g.$KD)).subscribe(S=>this.createdCryptoAddress.next(S))}openEmailFormModal(L){this.dialog.open(s.EmailFormDialogComponent).componentInstance.userId=L}getErrorMessages(L){const S="TKN"!==L?L:"coins";return{min:`You can not deposit less than ${this.minDepositAmount} ${S}`,max:`You can not deposit more than ${this.maxDepositAmount} ${S}`}}fetchPreferredCurrency(){const L=this.localStorageService.get(b.F.PREFERRED_CURRENCY);if(L)return this.setPreferredCurrency(L);this.locationService.location$.pipe((0,u.h)(S=>null!==S),(0,i.t)(this)).subscribe(S=>{var _t;const ut=null===(_t=S.currency)||void 0===_t?void 0:_t.code;return this.setPreferredCurrency(ut===m.USD?ut:m.EUR)})}setPreferredCurrency(L){return this.form.get("preferredCurrency").setValue(L)}setPreferredRate(L,S){this.exchangeRate=L[S],this.localStorageService.set(b.F.PREFERRED_CURRENCY,S)}};et.\u0275fac=function(L){return new(L||et)(a.Y36(g.qBz),a.Y36(a.sBO),a.Y36(v.uw),a.Y36(g.UsA),a.Y36(d.qu),a.Y36(K.n2),a.Y36(g.aUv),a.Y36(A.t),a.Y36(Q.OY),a.Y36(g.KvH),a.Y36(g.cd7),a.Y36(g.KDu))},et.\u0275cmp=a.Xpm({type:et,selectors:[["cw-create-transaction-form"]],inputs:{selectedOption:"selectedOption",showFormFieldButtons:"showFormFieldButtons",topUpButtonColor:"topUpButtonColor"},outputs:{createdTransaction:"createdTransaction",createdCryptoAddress:"createdCryptoAddress"},decls:8,vars:8,consts:function(){let U,L;return U=$localize`:␟0323d95268c42d0629736c441fbb9a3c415e4a5f␟5571284627351829969:Preferred Currency`,L=$localize`:␟8516682856244937af571c7f390dc4fb5f4534a9␟1964158849129917657:Buy for ${"\ufffd0\ufffd"}:INTERPOLATION:`,[["novalidate","","fxLayout","row wrap","fxLayoutAlign","start start",3,"formGroup","ngSubmit"],["class","w-100","ngClass.gt-xs","mr-2",3,"ngStyle.gt-xs",4,"ngIf"],["class","bottom-button",4,"ngIf"],["ngClass.gt-xs","mr-2",4,"ngIf"],["topUpButton",""],["ngClass.gt-xs","mr-2",1,"w-100",3,"ngStyle.gt-xs"],["matPrefix","",4,"ngIf"],[1,"input-wrapper","input-field-wrapper"],["class","input-prefix","matPrefix","","inlineSVG","assets/icons/coins.svg",4,"ngIf"],["matInput","","type","search","autocomplete","off","formControlName","amount","mask","separator.2","thousandSeparator",",","id","deposit-amount-input"],[3,"control","show","errors"],["class","form-field-buttons",4,"ngIf"],["matPrefix",""],["matPrefix","","inlineSVG","assets/icons/coins.svg",1,"input-prefix"],[1,"form-field-buttons"],[3,"ngTemplateOutlet"],[1,"bottom-button"],["ngClass.gt-xs","mr-2"],U,["formControlName","preferredCurrency"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["id","stripe-button","type","button","ngClass.xs","w-100","mat-flat-button","","onclick","window['app-stripe'].open()",3,"color","disabled"],[3,"loading"],["type","hidden","id","deposit-token-input","formControlName","token"],[4,"ngIf"],["type","submit","class","mat-button-3d","mat-flat-button","",3,"color","disabled",4,"ngIf"],["type","submit","mat-flat-button","",3,"color","disabled",4,"ngIf"],["type","submit","mat-flat-button","",1,"mat-button-3d",3,"color","disabled"],L,["type","submit","mat-flat-button","",3,"color","disabled"]]},template:function(L,S){1&L&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return S.onSubmit()}),a.YNc(1,R,11,11,"mat-form-field",1),a.ALo(2,"async"),a.YNc(3,Y,2,1,"div",2),a.YNc(4,T,5,1,"mat-form-field",3),a.ALo(5,"async"),a.qZA(),a.YNc(6,ot,3,2,"ng-template",null,4,a.W1O)),2&L&&(a.Q6J("formGroup",S.form),a.xp6(1),a.Q6J("ngIf",a.lcZ(2,4,S.currency$)),a.xp6(2),a.Q6J("ngIf",!S.showFormFieldButtons),a.xp6(1),a.Q6J("ngIf","TKN"===a.lcZ(5,6,S.currency$)))},directives:[d._Y,d.JL,P.xw,P.Wh,d.sg,n.O5,D.KE,J.oO,J.Zl,D.hX,h.Nt,d.Fj,d.JJ,d.u,D.TO,N.A,D.qo,Z.o,V.d$,n.tP,G.gD,n.sg,it.ey,n.RF,n.n9,n.ED,ct.lW,pt.R],pipes:[n.Ov,Tt.O,n.H9],styles:[".mat-form-field-appearance-outline .mat-form-field-prefix{top:0!important;margin-right:.25em}  .mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 .75em!important}.form-field-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:inherit}.input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.input-prefix[_ngcontent-%COMP%]{margin-right:.5em}.bottom-button[_ngcontent-%COMP%]{margin-right:.5em;flex:1}.bottom-button[_ngcontent-%COMP%]     button{width:100%}"],changeDetection:0}),et=(0,t.gn)([(0,i.c)(),(0,t.w6)("design:paramtypes",[Object,a.sBO,v.uw,g.UsA,d.qu,K.n2,g.aUv,A.t,Q.OY,g.KvH,g.cd7,g.KDu])],et)},7722:(st,k,o)=>{o.d(k,{T:()=>J});var t=o(70655),n=o(23600),a=o(61309),d=o(44987),v=o(63900),g=o(95698),b=o(54004),Q=o(38042),s=o(5e3),i=o(67322),K=o(31495),$=o(96298),u=o(98833),_=o(36544),w=o(69808),B=o(83649),F=o(983),O=o(4312),e=o(20975),A=o(34308);function m(h,N){if(1&h&&s._UZ(0,"qrcode",11),2&h){const Z=s.oxw();s.Q6J("qrdata",Z.qrAddress)("size",158)("errorCorrectionLevel","M")}}function P(h,N){if(1&h&&s._UZ(0,"cw-exchange-currency-calculator",16),2&h){const Z=N.ngIf,V=s.oxw().ngIf,G=s.oxw();s.Q6J("amount",100)("currencyFrom",Z)("currencyTo",G.cryptoAddress.paymentOption.method)("currencyFromDecimals",G.getDecimals(Z))("currencyToDecimals",G.getDecimals(G.cryptoAddress.paymentOption.method))("exchangeRate",V)}}function D(h,N){if(1&h&&(s.TgZ(0,"div",12),s.TgZ(1,"h5",13),s.SDv(2,14),s.ALo(3,"currencyName"),s.ALo(4,"async"),s.ALo(5,"currencyName"),s.qZA(),s.YNc(6,P,1,6,"cw-exchange-currency-calculator",15),s.ALo(7,"push"),s.qZA()),2&h){const Z=s.oxw();s.xp6(5),s.pQV(s.lcZ(3,3,s.lcZ(4,5,Z.userCurrency$)))(s.lcZ(5,7,Z.cryptoAddress.paymentOption.method)),s.QtT(2),s.xp6(1),s.Q6J("ngIf",s.lcZ(7,9,Z.userCurrency$))}}let J=class{constructor(N,Z,V){this.exchangeRateService=N,this.paymentService=Z,this.userService=V,this.userCurrency$=this.userService.currency$}set cryptoAddress(N){if(!N)return;this._cryptoAddress=N,this._cryptoAddress.confirmations=a.PaymentMethodConfirmation[N.paymentOption.method];const{paymentOption:{method:Z},address:V}=N;this.qrAddress=this.paymentService.getQRCodeAddress(Z,V),this.exchangeRate$=this.userService.currency$.pipe((0,v.w)(G=>this.exchangeRateService.fetchExchangesRates(G)),(0,g.q)(1),(0,b.U)(G=>G[Z]))}get cryptoAddress(){return this._cryptoAddress}getDecimals(N){return this.paymentService.getDecimals(N)}};J.\u0275fac=function(N){return new(N||J)(s.Y36(n.UsA),s.Y36(Q.t),s.Y36(n.KDu))},J.\u0275cmp=s.Xpm({type:J,selectors:[["cw-crypto-address-details"]],inputs:{cryptoAddress:"cryptoAddress"},decls:22,vars:11,consts:function(){let h,N;return h=$localize`:␟6cea841488b0c4d495aaf993eb7a8f211fea1cf3␟8392395803718229247:${"\ufffd#21\ufffd"}:START_TAG_STRONG:Note: Amount to send is approximate${"\ufffd/#21\ufffd"}:CLOSE_TAG_STRONG:, if you send a different amount or the exchange rate changes, the amount you receive will change `,N=$localize`:␟ed8ce84f9a50b06e17b92a764bb42f86ac6e210a␟8118936263849756364: ${"\ufffd0\ufffd"}:INTERPOLATION: To ${"\ufffd1\ufffd"}:INTERPOLATION_1: Calculator `,[[1,"d-flex","flex-column","mx-auto"],[1,"w-100"],["inlineSVG","assets/icons/content-copy.svg"],["matInput","","readonly","","cwCopyToClipboard","",1,"copy","text-warning",3,"value"],[1,"text-center","mb-4"],[3,"qrdata","size","errorCorrectionLevel",4,"ngIf"],[1,"text-13","text-center","opacity-50","mb-4"],["class","mt-3",4,"ngIf"],[1,"text-center",3,"method","cryptoAddress"],[1,"mt-3","mb-0","text-center"],h,[3,"qrdata","size","errorCorrectionLevel"],[1,"mt-3"],[1,"text-uppercase","text-center"],N,[3,"amount","currencyFrom","currencyTo","currencyFromDecimals","currencyToDecimals","exchangeRate",4,"ngIf"],[3,"amount","currencyFrom","currencyTo","currencyFromDecimals","currencyToDecimals","exchangeRate"]]},template:function(N,Z){1&N&&(s.TgZ(0,"section",0),s.TgZ(1,"mat-form-field",1),s.TgZ(2,"mat-label"),s._UZ(3,"cw-icon",2),s._uU(4," Click to copy address "),s.qZA(),s._UZ(5,"input",3),s.qZA(),s.TgZ(6,"div",4),s.YNc(7,m,1,3,"qrcode",5),s.qZA(),s.TgZ(8,"div",6),s.TgZ(9,"div"),s._uU(10),s.qZA(),s.TgZ(11,"div"),s._uU(12),s.qZA(),s.qZA(),s.TgZ(13,"div",6),s._uU(14," Depositing less than the minimum requirement will cause a transaction failure and a loss of the value sent. "),s.qZA(),s.YNc(15,D,8,11,"div",7),s.ALo(16,"push"),s.TgZ(17,"div"),s._UZ(18,"cw-crypto-explorer-btn",8),s.qZA(),s.TgZ(19,"p",9),s.tHW(20,10),s._UZ(21,"strong"),s.N_p(),s.qZA(),s.qZA()),2&N&&(s.xp6(5),s.Q6J("value",Z.cryptoAddress.address),s.xp6(2),s.Q6J("ngIf",Z.qrAddress),s.xp6(3),s.AsE(" Only send ",Z.cryptoAddress.paymentOption.method," to this address, ",Z.cryptoAddress.confirmations," confirmation(s) required. "),s.xp6(2),s.AsE(" Minimum required to deposit: ",Z.cryptoAddress.paymentOption.minDepositAmount," ",Z.cryptoAddress.paymentOption.method," after fees. "),s.xp6(3),s.Q6J("ngIf",s.lcZ(16,9,Z.exchangeRate$)),s.xp6(3),s.Q6J("method",Z.cryptoAddress.paymentOption.method)("cryptoAddress",Z.cryptoAddress.address))},directives:[i.KE,i.hX,K.o,$.d$,u.Nt,_.e,w.O5,B.m,F.V,O.v],pipes:[e.f,A.l,w.Ov],styles:["section[_ngcontent-%COMP%]{width:28rem}@media (max-width: 991.98px){section[_ngcontent-%COMP%]{width:100%}}.copy[_ngcontent-%COMP%]{cursor:copy}"],changeDetection:0}),J=(0,t.gn)([(0,d.c)(),(0,t.w6)("design:paramtypes",[n.UsA,Q.t,n.KDu])],J)},83649:(st,k,o)=>{o.d(k,{m:()=>d});var t=o(5e3),n=o(77093),a=o(47423);let d=(()=>{class v{get transactionExplorerUrl(){return{BTC:"https://www.blockchain.com/btc/address/",ETH:"https://www.blockchain.com/eth/address/",LTC:"https://live.blockcypher.com/ltc/address/",BCH:"https://explorer.bitcoin.com/bch/address/bitcoincash:/"}[this.method]+this.cryptoAddress}}return v.\u0275fac=function(b){return new(b||v)},v.\u0275cmp=t.Xpm({type:v,selectors:[["cw-crypto-explorer-btn"]],inputs:{method:"method",cryptoAddress:"cryptoAddress"},decls:4,vars:1,consts:function(){let g;return g=$localize`:␟cc27e3d366df4ee8e488ddbe584735457bda67c3␟3154525828000459640:Block Explorer`,[["fxLayoutAlign","center"],["target","_blank",3,"href"],["mat-flat-button","","color","accent"],g]},template:function(b,Q){1&b&&(t.TgZ(0,"div",0),t.TgZ(1,"a",1),t.TgZ(2,"button",2),t.SDv(3,3),t.qZA(),t.qZA(),t.qZA()),2&b&&(t.xp6(1),t.Q6J("href",Q.transactionExplorerUrl,t.LSH))},directives:[n.Wh,a.lW],styles:[".btn-info[_ngcontent-%COMP%]{margin:1rem 0}"],changeDetection:0}),v})()},58696:(st,k,o)=>{o.d(k,{E:()=>s});var t=o(93075),n=o(23600),a=o(95698),d=o(5e3),v=o(67322),g=o(77093),b=o(98833),Q=o(47423);let s=(()=>{class i{constructor($,u,_){this.fb=$,this.zendeskService=u,this.userService=_}ngOnInit(){this.form=this.fb.group({amount:[1,[t.kI.required,t.kI.min(0)]],user:["",t.kI.required]})}submit(){this.form.invalid||this.userService.profileUrl$.pipe((0,a.q)(1)).subscribe($=>{const u=`Hi, I'm ${this.form.get("user").value} and would like to deposit ${this.form.get("amount").value}M OSRS, thank you.\n${$}`;this.zendeskService.prefillMessage(u),this.zendeskService.openChatWindow()})}}return i.\u0275fac=function($){return new($||i)(d.Y36(t.qu),d.Y36(n.pZe),d.Y36(n.KDu))},i.\u0275cmp=d.Xpm({type:i,selectors:[["cw-payment-form-to-zendesk"]],decls:14,vars:2,consts:[[3,"formGroup","ngSubmit"],["fxLayout","","fxLayoutAlign","space-between",1,"input-wrapper"],["matInput","","formControlName","amount","type","number"],["matInput","","formControlName","user"],["type","submit","mat-flat-button","","color","accent",3,"disabled"]],template:function($,u){1&$&&(d.TgZ(0,"form",0),d.NdJ("ngSubmit",function(){return u.submit()}),d.TgZ(1,"mat-form-field"),d.TgZ(2,"mat-label"),d._uU(3,"Amount"),d.qZA(),d.TgZ(4,"div",1),d._UZ(5,"input",2),d.TgZ(6,"span"),d._uU(7,"M"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"mat-form-field"),d.TgZ(9,"mat-label"),d._uU(10,"User"),d.qZA(),d._UZ(11,"input",3),d.qZA(),d.TgZ(12,"button",4),d._uU(13,"Deposit"),d.qZA(),d.qZA()),2&$&&(d.Q6J("formGroup",u.form),d.xp6(12),d.Q6J("disabled",u.form.invalid))},directives:[t._Y,t.JL,t.sg,v.KE,v.hX,g.xw,g.Wh,b.Nt,t.Fj,t.wV,t.JJ,t.u,Q.lW],styles:["[_nghost-%COMP%]{display:block;margin-bottom:1rem}mat-form-field[_ngcontent-%COMP%]{margin-right:1rem}"],changeDetection:0}),i})()},89734:(st,k,o)=>{o.d(k,{k:()=>Y});var t=o(70655),n=o(93075),a=o(48966),d=o(23600),v=o(44987),g=o(54004),b=o(95698),Q=o(92758),s=o(38042),i=o(5e3),K=o(86335),$=o(41555),u=o(31495),_=o(96298),w=o(69808),B=o(10217),F=o(93464),O=o(77093),e=o(9224),A=o(57465),m=o(89847),P=o(23121),D=o(30152),J=o(43343),h=o(88634),N=o(3004),Z=o(71712);const V=["cdkStepper"];function G(c,T){if(1&c){const p=i.EpF();i.TgZ(0,"cw-payment-option-card",15),i.NdJ("click",function(){const at=i.CHM(p).$implicit;return i.oxw(2).selectOption(at)}),i.ALo(1,"lowercase"),i.ALo(2,"slugify"),i.ALo(3,"lowercase"),i.ALo(4,"slugify"),i.qZA()}if(2&c){const p=T.$implicit;i.hYB("iconClass","payment-icon ",i.lcZ(1,6,i.lcZ(2,8,p.provider))," ",i.lcZ(3,10,i.lcZ(4,12,p.methodName)),""),i.Q6J("enabled",!0)("label",p.methodName)("info"," ")("showArrow",!0)}}function it(c,T){if(1&c){const p=i.EpF();i.TgZ(0,"section",12),i.YNc(1,G,5,14,"cw-payment-option-card",13),i.TgZ(2,"cw-payment-option-card",14),i.NdJ("click",function(){return i.CHM(p),i.oxw().selectOption("GIFT_CARD")}),i.qZA(),i.qZA()}if(2&c){const p=T.ngIf;i.oxw();const y=i.MAs(23);i.xp6(1),i.Q6J("ngForOf",p),i.xp6(1),i.Q6J("enabled",!0)("label","Gift card")("info","Paypal purchase available")("showArrow",!0)("iconTemplate",y)}}function ct(c,T){if(1&c){const p=i.EpF();i.TgZ(0,"div",31),i.NdJ("click",function(){const at=i.CHM(p).$implicit;return i.oxw(2).selectGiftCardMethod(at)}),i.ALo(1,"lowercase"),i.qZA()}if(2&c){const p=T.$implicit,y=i.oxw(2);i.Gre("payment-icon ",i.lcZ(1,5,p.name),""),i.ekj("selected",p===y.selectedGiftCardMethod)}}function pt(c,T){if(1&c){const p=i.EpF();i.TgZ(0,"div",33),i.NdJ("click",function(){const at=i.CHM(p).$implicit;return i.oxw(3).selectAmount(at.amount)}),i._UZ(1,"cw-pretty-balance",34),i.qZA()}if(2&c){const p=T.$implicit,y=i.oxw(3);i.ekj("selected",p.amount===y.selectAmountCtrl.value),i.xp6(1),i.Q6J("balance",p.amount)}}function Tt(c,T){if(1&c&&(i.TgZ(0,"section",27),i.YNc(1,pt,2,3,"div",32),i.qZA()),2&c){const p=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",p.selectedGiftCardMethod.options)}}function ft(c,T){if(1&c&&(i.TgZ(0,"mat-dialog-content",16),i.TgZ(1,"div",17),i.TgZ(2,"h2"),i.SDv(3,18),i.qZA(),i.TgZ(4,"div",5),i.SDv(5,19),i.qZA(),i.TgZ(6,"div",20),i.TgZ(7,"mat-card",21),i.GkF(8,22),i.TgZ(9,"mat-card-content"),i._UZ(10,"cw-promo-code-redeem-form",23),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"div",24),i.TgZ(12,"h2"),i.SDv(13,25),i.qZA(),i.TgZ(14,"h5"),i.SDv(15,26),i.qZA(),i.TgZ(16,"section",27),i.YNc(17,ct,2,7,"div",28),i.ALo(18,"async"),i.qZA(),i.TgZ(19,"h5"),i.SDv(20,29),i.qZA(),i.YNc(21,Tt,2,1,"section",30),i.qZA(),i.qZA()),2&c){const p=i.oxw(),y=i.MAs(23);i.xp6(8),i.Q6J("ngTemplateOutlet",y),i.xp6(2),i.Q6J("showLabel",!1)("showFormFieldButton",!0),i.xp6(7),i.Q6J("ngForOf",i.lcZ(18,5,p.giftCardMethods$)),i.xp6(4),i.Q6J("ngIf",p.selectedGiftCardMethod)}}function x(c,T){1&c&&(i.TgZ(0,"div",41),i.SDv(1,42),i.qZA())}function H(c,T){if(1&c&&(i.TgZ(0,"mat-dialog-content",36),i.TgZ(1,"h2",37),i.SDv(2,38),i.qZA(),i._UZ(3,"cw-create-transaction-form",39),i.YNc(4,x,2,0,"div",40),i.qZA()),2&c){const p=T.ngIf,y=i.oxw(2);i.xp6(2),i.pQV(p.providerName),i.QtT(2),i.xp6(1),i.Q6J("selectedOption",p)("showFormFieldButtons",!1)("topUpButtonColor","primary"),i.xp6(1),i.Q6J("ngIf",y.hasRedirect(p.provider))}}function f(c,T){if(1&c&&i.YNc(0,H,5,5,"mat-dialog-content",35),2&c){const p=i.oxw();i.Q6J("ngIf",p.selectOptionCtrl.value)}}function R(c,T){1&c&&(i.TgZ(0,"mat-card-header",43),i.ALo(1,"cssUrl"),i.TgZ(2,"div",44),i.TgZ(3,"div"),i._UZ(4,"cw-icon",45),i._UZ(5,"cw-icon",46),i._UZ(6,"cw-icon",47),i.qZA(),i._UZ(7,"cw-icon",48),i.qZA(),i.qZA()),2&c&&i.Udp("background-image",i.lcZ(1,2,"assets/payments/gift-card.png"))}let Y=class{constructor(T,p,y,j){this.dialogRef=T,this.paymentService=p,this.paymentTransactionService=y,this.platformService=j,this.selectOptionCtrl=new n.NI,this.selectAmountCtrl=new n.NI(0,[n.kI.required,n.kI.min(1)])}ngOnInit(){this.paymentOptions$=this.paymentService.getOptions().pipe((0,g.U)(T=>T.filter(p=>p.visible))),this.giftCardMethods$=this.paymentService.getGiftCardMethods(),this.selectOptionCtrl.valueChanges.pipe((0,v.t)(this)).subscribe(T=>{if("GIFT_CARD"===T)return this.giftCardMethods$.pipe((0,b.q)(1)).subscribe(p=>{this.selectedGiftCardMethod=p.find(y=>y.enabled)})})}ngAfterViewInit(){this.cdkStepper.selectionChange.pipe((0,v.t)(this)).subscribe(T=>0===T.selectedIndex?this.dialogRef.updateSize("610px"):1===T.selectedIndex?this.dialogRef.updateSize("GIFT_CARD"!==this.selectOptionCtrl.value?"380px":"840px"):void 0)}selectOption(T){this.selectOptionCtrl.setValue(T),this.cdkStepper.next()}selectGiftCardMethod(T){this.selectedGiftCardMethod=T}selectAmount(T){if(this.selectAmountCtrl.setValue(T),"GIFT_CARD"===this.selectOptionCtrl.value){const p=this.selectedGiftCardMethod.options.find(y=>T===y.amount);this.platformService.window.open(p.link,"_blank")}}onCreate(T){this.paymentTransactionService.onCreateTransaction(T)}hasRedirect(T){return this.paymentService.hasRedirect(T)}close(){this.dialogRef.close()}};Y.\u0275fac=function(T){return new(T||Y)(i.Y36(a.so),i.Y36(s.t),i.Y36(Q.U),i.Y36(d.mix))},Y.\u0275cmp=i.Xpm({type:Y,selectors:[["cw-payment-modal"]],viewQuery:function(T,p){if(1&T&&i.Gf(V,5),2&T){let y;i.iGM(y=i.CRH())&&(p.cdkStepper=y.first)}},decls:24,vars:20,consts:function(){let c,T,p,y,j,at,lt,ot,At;return c=$localize`:␟b3632b88211decf16ec65dc735fc615aedabb790␟4691213443055442510:Make A ${"\ufffd0\ufffd"}:INTERPOLATION:`,T=$localize`:␟ad5b3a7bf5f3736c4e20a28265c8b4c5f3612d78␟2006457228099287946:Please select a payment method`,p=$localize`:␟e5bb7a850ac3e56ad3a0e1ef19c041bfff0eed8a␟2882704717226237938:I have a gift card`,y=$localize`:␟d21df2e1651f07ce0eb81223f1f9d95ce0cf0b6a␟1065431102425492697:Enter your redeem code below`,j=$localize`:␟4df2b5c46539be55c35462c71e88b67190d90b81␟3437418611582587594:Purchase a gift card`,at=$localize`:␟c1cea514f5a25c5d6c1b0df143a2a50760c25e9d␟2724936578825626:1. Select Provider`,lt=$localize`:␟c0dfcbdd3355a594c28e262ee349d6f41fe5d350␟2849977499243477037:2. Select Amount`,ot=$localize`:␟301c3a2116b08960ff60c8e180ec42fc929c135a␟8183198912345218020:${"\ufffd0\ufffd"}:INTERPOLATION:`,At=$localize`:␟f9654fc6dc7b97aaa3e6d9e769e9e4dbfbbeeab5␟432698970447562298: You're going to be redirected to the payment provider page `,[["cdkStepper",""],[3,"stepControl"],[1,"close-btn",3,"inlineSVG","click"],[1,"select-option-step"],c,[1,"tip"],T,["gdGap","1.875rem","gdColumns","repeat(auto-fill, 250px)","gdAlignRows","center",4,"ngIf"],["inlineSVG","assets/icons/back-modal.svg",1,"back-btn",3,"click"],["class","select-amount-step gift-card-option","fxLayout","row","fxLayoutAlign","start center","fxLayout.lt-sm","column",4,"ngIf","ngIfElse"],["paymentOption",""],["giftCardHeader",""],["gdGap","1.875rem","gdColumns","repeat(auto-fill, 250px)","gdAlignRows","center"],[3,"enabled","label","info","showArrow","iconClass","click",4,"ngFor","ngForOf"],[3,"enabled","label","info","showArrow","iconTemplate","click"],[3,"enabled","label","info","showArrow","iconClass","click"],["fxLayout","row","fxLayoutAlign","start center","fxLayout.lt-sm","column",1,"select-amount-step","gift-card-option"],["fxFlex","50%","fxFlex.lt-sm","1 1 100%",1,"first-half"],p,y,[1,"text-center"],[1,"gift-card"],[3,"ngTemplateOutlet"],["placeholder-i18n","","placeholder","Enter redeem code",3,"showLabel","showFormFieldButton"],["fxFlex","50%","fxFlex.lt-sm","1 1 100%",1,"second-half"],j,at,["gdGap","20px","gdColumns","1fr 1fr 1fr","gdAlignRows","center"],["class","gift-method-icon",3,"class","selected","click",4,"ngFor","ngForOf"],lt,["gdGap","20px","gdColumns","1fr 1fr 1fr","gdAlignRows","center",4,"ngIf"],[1,"gift-method-icon",3,"click"],["class","gift-method-amount",3,"selected","click",4,"ngFor","ngForOf"],[1,"gift-method-amount",3,"click"],[3,"balance"],["class","select-amount-step payment-option","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","center center",1,"select-amount-step","payment-option"],[1,"provider-name"],ot,[3,"selectedOption","showFormFieldButtons","topUpButtonColor"],["class","info",4,"ngIf"],[1,"info"],At,[1,"gift-card-header"],["fxLayout","column","fxLayoutAlign","center center",1,"gift-card-icons"],["inlineSVG","assets/icons/square-stylized.svg"],["inlineSVG","assets/icons/plus-stylized.svg"],["inlineSVG","assets/icons/exchange-sell-stylized.svg"],["inlineSVG","assets/logo.svg",1,"gift-card-logo"]]},template:function(T,p){if(1&T){const y=i.EpF();i.TgZ(0,"cw-cdk-stepper",null,0),i.TgZ(2,"cdk-step",1),i.TgZ(3,"cw-icon",2),i.NdJ("click",function(){return p.close()}),i.ALo(4,"async"),i.ALo(5,"themableAsset"),i.qZA(),i.TgZ(6,"mat-dialog-content",3),i.TgZ(7,"h2"),i.SDv(8,4),i.ALo(9,"appConfig"),i.qZA(),i.TgZ(10,"div",5),i.SDv(11,6),i.qZA(),i.YNc(12,it,3,6,"section",7),i.ALo(13,"asyncInner"),i.qZA(),i.qZA(),i.TgZ(14,"cdk-step",1),i.TgZ(15,"cw-icon",8),i.NdJ("click",function(){return i.CHM(y),i.MAs(1).previous()}),i.qZA(),i.TgZ(16,"cw-icon",2),i.NdJ("click",function(){return p.close()}),i.ALo(17,"async"),i.ALo(18,"themableAsset"),i.qZA(),i.YNc(19,ft,22,7,"mat-dialog-content",9),i.YNc(20,f,1,1,"ng-template",null,10,i.W1O),i.qZA(),i.qZA(),i.YNc(22,R,8,4,"ng-template",null,11,i.W1O)}if(2&T){const y=i.MAs(21);i.xp6(2),i.Q6J("stepControl",p.selectOptionCtrl),i.xp6(1),i.Q6J("inlineSVG",i.lcZ(4,8,i.lcZ(5,10,"assets/icons/close-modal.svg"))),i.xp6(6),i.pQV(i.lcZ(9,12,"DEPOSIT_TEXT")),i.QtT(8),i.xp6(3),i.Q6J("ngIf",i.lcZ(13,14,p.paymentOptions$)),i.xp6(2),i.Q6J("stepControl",p.selectAmountCtrl),i.xp6(2),i.Q6J("inlineSVG",i.lcZ(17,16,i.lcZ(18,18,"assets/icons/close-modal.svg"))),i.xp6(3),i.Q6J("ngIf","GIFT_CARD"===p.selectOptionCtrl.value)("ngIfElse",y)}},directives:[K.T,$.be,u.o,_.d$,a.xY,w.O5,B.Gx,B.A0,B.Ow,w.sg,F.H,O.xw,O.Wh,O.yH,e.a8,w.tP,e.dn,A.K,m.q,P.k,e.dk],pipes:[w.Ov,D.n,J.O,h.d,w.i8,N.N,Z.u],styles:["@media (max-width: 767.98px){  .payment-modal{height:100vh;width:100vw!important;max-width:unset!important}  .payment-modal mat-dialog-content{max-height:unset!important;height:calc(100vh - 40px)}  .payment-modal mat-dialog-content.gift-card-option{margin:40px 0 0!important}  .payment-modal mat-dialog-content.gift-card-option .first-half,   .payment-modal mat-dialog-content.gift-card-option .second-half{width:100%;height:unset!important}  .payment-modal mat-dialog-content.gift-card-option .first-half{padding-top:40px!important}  .payment-modal mat-dialog-content.gift-card-option .second-half section{grid-gap:10px!important;gap:10px!important}  .payment-modal mat-dialog-content.payment-option .provider-name{text-align:center!important}}  .payment-modal .mat-dialog-container{padding:0;margin:0;border-radius:0;background-color:var(--main-color-02)}.back-btn[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]{position:absolute;height:25px;width:25px;top:10px;fill:#31353d;cursor:pointer}.close-btn[_ngcontent-%COMP%]{right:10px}.back-btn[_ngcontent-%COMP%]{left:10px}.tip[_ngcontent-%COMP%]{font-size:13px;font-weight:500;text-align:center}cw-payment-option-card[_ngcontent-%COMP%]     .option{justify-content:start;background:initial;padding:20px;border-radius:0}cw-payment-option-card[_ngcontent-%COMP%]     .mat-card-content{height:40px;text-align:left}cw-payment-option-card[_ngcontent-%COMP%]     .mat-card-header{height:144px;border-radius:16px;margin-bottom:0}cw-payment-option-card[_ngcontent-%COMP%]     .mat-card-content{margin-top:20px}cw-payment-option-card[_ngcontent-%COMP%]     .label{font-size:15px;font-weight:700;text-transform:uppercase}mat-dialog-content[_ngcontent-%COMP%]{margin:40px 0 0;padding:0 0 40px}mat-dialog-content[_ngcontent-%COMP%]     .info{font-size:13px;color:var(--main-color-05)}mat-dialog-content.select-option-step[_ngcontent-%COMP%]     h2{text-transform:uppercase;text-align:center}mat-dialog-content.select-option-step[_ngcontent-%COMP%]     section{margin-top:40px}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]{padding:0!important;margin:0!important;max-height:unset}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .first-half{background-color:initial;height:550px;padding-top:150px}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .first-half h2{text-transform:uppercase;margin-bottom:0;text-align:center}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .first-half .info{font-weight:500;text-align:center}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .first-half mat-card.gift-card{display:inline-block}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .first-half mat-card.gift-card .mat-card-header{margin:0 32px 16px;width:210px}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .first-half cw-promo-code-redeem-form button{font-size:12px}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .second-half{height:550px;padding:40px 40px 0}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .second-half h2{margin-bottom:30px;text-transform:uppercase}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .second-half h5{margin-bottom:20px}mat-dialog-content.select-amount-step.gift-card-option[_ngcontent-%COMP%]     .second-half section:not(:last-child){margin-bottom:30px}mat-dialog-content.select-amount-step.payment-option[_ngcontent-%COMP%]{align-items:center;place-content:center;padding:0 80px 40px}mat-dialog-content.select-amount-step.payment-option[_ngcontent-%COMP%]     .provider-name{width:100%;text-align:left;margin-bottom:40px}mat-dialog-content.select-amount-step.payment-option[_ngcontent-%COMP%]     cw-create-transaction-form{margin-top:-8px}mat-dialog-content.select-amount-step.payment-option[_ngcontent-%COMP%]     .info{margin-top:20px;text-align:center}.gift-method-icon[_ngcontent-%COMP%], .gift-method-amount[_ngcontent-%COMP%]{background-color:initial;display:flex;align-items:center;place-content:center;cursor:pointer;border-width:2px;border-color:initial;border-style:solid}.gift-method-icon[_ngcontent-%COMP%]:hover, .gift-method-icon.selected[_ngcontent-%COMP%], .gift-method-amount[_ngcontent-%COMP%]:hover, .gift-method-amount.selected[_ngcontent-%COMP%]{border-color:#00e258}.gift-method-icon[_ngcontent-%COMP%]     cw-pretty-balance, .gift-method-amount[_ngcontent-%COMP%]     cw-pretty-balance{font-size:15px;font-weight:700}.gift-method-icon[_ngcontent-%COMP%]{height:100px;background-size:80%}.gift-method-amount[_ngcontent-%COMP%]{height:50px}.gift-card-header[_ngcontent-%COMP%]{position:relative;align-items:center;place-content:center;background-color:#000;border-radius:16px;height:144px}.gift-card-header[_ngcontent-%COMP%]     .mat-card-header-text{margin:0}.gift-card-header[_ngcontent-%COMP%]     .gift-card-icons cw-icon{width:40px;color:initial}.gift-card-header[_ngcontent-%COMP%]     .gift-card-icons cw-icon.gift-card-logo{position:absolute;bottom:24px;width:auto}"],changeDetection:0}),Y=(0,t.gn)([(0,v.c)(),(0,t.w6)("design:paramtypes",[a.so,s.t,Q.U,d.mix])],Y)},93464:(st,k,o)=>{o.d(k,{H:()=>O});var t=o(5e3),n=o(9224),a=o(966),d=o(35357),v=o(69808),g=o(89847),b=o(31495),Q=o(96298);function s(e,A){if(1&e&&t.GkF(0,8),2&e){const m=t.oxw();t.Q6J("ngTemplateOutlet",m.iconTemplate)}}function i(e,A){if(1&e&&t._UZ(0,"mat-card-header"),2&e){const m=t.oxw(2);t.Gre("payment-icon ",m.iconClass,""),t.ekj("payment-disabled",!m.enabled)}}function K(e,A){if(1&e&&t.YNc(0,i,1,5,"mat-card-header",9),2&e){t.oxw();const m=t.MAs(3);t.Q6J("ngIf",m)}}function $(e,A){if(1&e&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&e){const m=t.oxw();t.xp6(1),t.hij(" ",m.label," ")}}function u(e,A){if(1&e&&t._UZ(0,"cw-pretty-balance",11),2&e){const m=t.oxw();t.Q6J("balance",m.balance)("currency",m.currency)}}function _(e,A){if(1&e&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&e){const m=t.oxw();t.xp6(1),t.Oqu(m.info)}}function w(e,A){1&e&&(t.TgZ(0,"div",13),t._uU(1,"NEW"),t.qZA())}function B(e,A){if(1&e&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&e){const m=t.oxw();t.xp6(1),t.hij("+",m.bonusPercent,"% bonus")}}function F(e,A){1&e&&t._UZ(0,"cw-icon",14)}let O=(()=>{class e{constructor(){this.showArrow=!1,this.disabled=!1}get disabledMessageTooltip(){return e.DISABLED_MESSAGE}}return e.DISABLED_MESSAGE="Due to renewed internal policies, this payment method is not currently available. Please proceed to depositing using another one of our many alternative payment methods.",e.\u0275fac=function(m){return new(m||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["cw-payment-option-card"]],hostVars:2,hostBindings:function(m,P){2&m&&t.ekj("disabled",P.disabled)},inputs:{label:"label",iconClass:"iconClass",link:"link",isNew:"isNew",active:"active",enabled:"enabled",iconTemplate:"iconTemplate",info:"info",showArrow:"showArrow",balance:"balance",currency:"currency",bonusPercent:"bonusPercent",disabled:"disabled"},decls:11,vars:12,consts:[[1,"option",3,"ngbTooltip","routerLink"],[3,"ngTemplateOutlet",4,"ngIf","ngIfElse"],["icon",""],["class","label",4,"ngIf"],[3,"balance","currency",4,"ngIf"],["class","info",4,"ngIf"],["class","tag text-center text-success",4,"ngIf"],["inlineSVG","assets/icons/arrow-right.svg",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"class","payment-disabled",4,"ngIf"],[1,"label"],[3,"balance","currency"],[1,"info"],[1,"tag","text-center","text-success"],["inlineSVG","assets/icons/arrow-right.svg"]],template:function(m,P){if(1&m&&(t.TgZ(0,"mat-card",0),t.YNc(1,s,1,1,"ng-container",1),t.YNc(2,K,1,1,"ng-template",null,2,t.W1O),t.TgZ(4,"mat-card-content"),t.YNc(5,$,2,1,"div",3),t.YNc(6,u,1,2,"cw-pretty-balance",4),t.YNc(7,_,2,1,"div",5),t.YNc(8,w,2,0,"div",6),t.YNc(9,B,2,1,"div",6),t.YNc(10,F,1,0,"cw-icon",7),t.qZA(),t.qZA()),2&m){const D=t.MAs(3);t.ekj("active",P.active),t.Q6J("ngbTooltip",P.disabled?P.disabledMessageTooltip:null)("routerLink",P.link),t.xp6(1),t.Q6J("ngIf",P.iconTemplate)("ngIfElse",D),t.xp6(4),t.Q6J("ngIf",P.label),t.xp6(1),t.Q6J("ngIf",P.balance&&P.currency),t.xp6(1),t.Q6J("ngIf",P.info),t.xp6(1),t.Q6J("ngIf",P.isNew),t.xp6(1),t.Q6J("ngIf",P.bonusPercent>0),t.xp6(1),t.Q6J("ngIf",P.showArrow)}},directives:[n.a8,a._L,d.rH,v.O5,n.dn,v.tP,n.dk,g.q,b.o,Q.d$],styles:['.disabled[_nghost-%COMP%]   [_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background-color:#0003;cursor:not-allowed}.option[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%;padding:.25rem .25rem 1.5rem;border-radius:.5rem;border:2px solid rgba(49,53,61,.6);background:var(--card-bg);color:inherit;transition:all .2s ease-in}.option[_ngcontent-%COMP%]:not(.disabled){cursor:pointer}.option[_ngcontent-%COMP%]:not(.disabled).active, .option[_ngcontent-%COMP%]:not(.disabled):hover{border-color:#00e258}.option.disabled[_ngcontent-%COMP%]{opacity:.6}.tag[_ngcontent-%COMP%]{margin-bottom:-.5rem!important}mat-card-header[_ngcontent-%COMP%]{min-height:5rem;background-color:#1a1e23;background-size:80% auto;background-position:center center;background-repeat:no-repeat;border-radius:.5rem;margin-bottom:.5rem}mat-card-content[_ngcontent-%COMP%]{text-align:center}cw-icon[_ngcontent-%COMP%]{position:absolute;bottom:2.5rem;right:1.5rem;width:auto}'],changeDetection:0}),e})()},12837:(st,k,o)=>{o.d(k,{Z:()=>N});var t=o(96726),n=o(99623),a=o(75424),d=o(45990),v=o(77468),g=o(5396),b=o(983),$=(o(23121),o(7722),o(83649),o(58696),o(5e3));o(22313),o(89734),o(93464),o(69616),o(3),o(76611),o(90927),o(12341),o(86614),o(27244);const J=[d.vY,v.N,g.UserItemSharedModule,n.$M,a.SharedUserModule,t.D,b.N];let N=(()=>{class Z{}return Z.\u0275fac=function(G){return new(G||Z)},Z.\u0275mod=$.oAB({type:Z}),Z.\u0275inj=$.cJS({imports:[J,d.vY,v.N,g.UserItemSharedModule,n.$M,a.SharedUserModule,t.D,b.N]}),Z})()},69616:(st,k,o)=>{o.d(k,{X:()=>Y});var t=o(5e3),n=o(23600),a=o(38042),d=o(69808),v=o(77093),g=o(31495),b=o(96298),Q=o(47423),s=o(89847),i=o(35357),K=o(3004);function $(c,T){1&c&&t.GkF(0)}const u=function(c){return{$implicit:c}};function _(c,T){if(1&c&&(t.ynx(0),t.TgZ(1,"div",5),t.SDv(2,6),t.qZA(),t.TgZ(3,"div",7),t.TgZ(4,"div",8),t._UZ(5,"cw-icon",9),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"p"),t.SDv(8,11),t.qZA(),t.YNc(9,$,1,0,"ng-container",12),t.qZA(),t.qZA(),t.BQk()),2&c){const p=t.oxw(),y=t.MAs(9);t.xp6(9),t.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",t.VKq(2,u,p.transaction))}}function w(c,T){1&c&&t.GkF(0)}function B(c,T){1&c&&t.GkF(0)}function F(c,T){if(1&c&&(t.ynx(0),t.TgZ(1,"div",5),t.SDv(2,13),t.qZA(),t.TgZ(3,"div",7),t.TgZ(4,"div",8),t._UZ(5,"cw-icon",14),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"p"),t.SDv(8,15),t.qZA(),t.YNc(9,w,1,0,"ng-container",12),t.TgZ(10,"div",16),t.YNc(11,B,1,0,"ng-container",17),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&c){const p=t.oxw(),y=t.MAs(9),j=t.MAs(11);t.xp6(9),t.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",t.VKq(3,u,p.transaction)),t.xp6(2),t.Q6J("ngTemplateOutlet",j)}}function O(c,T){1&c&&t.GkF(0)}function e(c,T){if(1&c){const p=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.SDv(2,18),t.qZA(),t.TgZ(3,"div",7),t.TgZ(4,"div",8),t._UZ(5,"cw-icon",19),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"p"),t.SDv(8,20),t.qZA(),t.YNc(9,O,1,0,"ng-container",12),t.TgZ(10,"div",16),t.TgZ(11,"button",21),t.NdJ("click",function(){return t.CHM(p),t.oxw().retry.next()}),t.SDv(12,22),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&c){const p=t.oxw(),y=t.MAs(9);t.xp6(9),t.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",t.VKq(2,u,p.transaction))}}function A(c,T){1&c&&t.GkF(0)}function m(c,T){if(1&c){const p=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.SDv(2,23),t.qZA(),t.TgZ(3,"div",7),t.TgZ(4,"div",8),t._UZ(5,"cw-icon",19),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"p"),t.SDv(8,24),t.qZA(),t.YNc(9,A,1,0,"ng-container",12),t.TgZ(10,"div",16),t.TgZ(11,"button",21),t.NdJ("click",function(){return t.CHM(p),t.oxw().retry.next()}),t.SDv(12,25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&c){const p=t.oxw(),y=t.MAs(9);t.xp6(9),t.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",t.VKq(2,u,p.transaction))}}function P(c,T){1&c&&t.GkF(0)}function D(c,T){1&c&&t.GkF(0)}function J(c,T){if(1&c&&(t.ynx(0),t.TgZ(1,"div",5),t.SDv(2,26),t.qZA(),t.TgZ(3,"div",7),t.TgZ(4,"div",8),t._UZ(5,"cw-icon",27),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"p"),t.SDv(8,28),t.qZA(),t.YNc(9,P,1,0,"ng-container",12),t.TgZ(10,"div",16),t.YNc(11,D,1,0,"ng-container",17),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&c){const p=t.oxw(),y=t.MAs(9),j=t.MAs(11);t.xp6(9),t.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",t.VKq(3,u,p.transaction)),t.xp6(2),t.Q6J("ngTemplateOutlet",j)}}function h(c,T){1&c&&t.GkF(0)}function N(c,T){1&c&&t.GkF(0)}function Z(c,T){if(1&c&&(t.ynx(0),t.TgZ(1,"div",5),t.SDv(2,29),t.qZA(),t.TgZ(3,"div",7),t.TgZ(4,"div",8),t._UZ(5,"cw-icon",14),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"p"),t.tHW(8,30),t._UZ(9,"br"),t._UZ(10,"a",31),t.N_p(),t.qZA(),t.YNc(11,h,1,0,"ng-container",12),t.TgZ(12,"div",16),t.YNc(13,N,1,0,"ng-container",17),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&c){const p=t.oxw(),y=t.MAs(9),j=t.MAs(11);t.xp6(11),t.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",t.VKq(3,u,p.transaction)),t.xp6(2),t.Q6J("ngTemplateOutlet",j)}}function V(c,T){1&c&&(t.TgZ(0,"p",41),t.SDv(1,42),t.qZA())}function G(c,T){1&c&&(t.ynx(0),t._UZ(1,"div",43),t.BQk())}function it(c,T){1&c&&(t.TgZ(0,"div",45),t.tHW(1,46),t._UZ(2,"a",47),t.N_p(),t.qZA())}const ct=function(){return["COMPLETED","STARTED"]};function pt(c,T){if(1&c&&(t.ynx(0),t.YNc(1,it,3,0,"div",44),t.BQk()),2&c){const p=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!t.DdM(1,ct).includes(p.status))}}function Tt(c,T){if(1&c&&(t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"div",34),t.SDv(3,35),t.qZA(),t.TgZ(4,"div",36),t._UZ(5,"div"),t.ALo(6,"lowercase"),t.ALo(7,"slugify"),t.ALo(8,"lowercase"),t.ALo(9,"slugify"),t.qZA(),t.qZA(),t.TgZ(10,"div",33),t.TgZ(11,"div",37),t.SDv(12,38),t.qZA(),t._UZ(13,"cw-pretty-balance",39),t.qZA(),t.YNc(14,V,2,0,"p",40),t.qZA(),t.ynx(15,1),t.YNc(16,G,2,0,"ng-container",2),t.YNc(17,pt,2,2,"ng-container",2),t.BQk()),2&c){const p=T.$implicit,y=t.oxw();t.xp6(5),t.MT6("payment-icon ",t.lcZ(6,10,t.lcZ(7,12,p.provider))," ",t.lcZ(8,14,t.lcZ(9,16,p.method)),""),t.xp6(8),t.Q6J("balance",p.amount)("currency",p.currency),t.xp6(1),t.Q6J("ngIf",y.hasRedirect&&"STARTED"===p.status),t.xp6(1),t.Q6J("ngSwitch",p.provider),t.xp6(1),t.Q6J("ngSwitchCase","AMAZONPAY"),t.xp6(1),t.Q6J("ngSwitchCase","IPS")}}const ft=function(){return["/boxes/list"]};function x(c,T){1&c&&(t.ynx(0),t.TgZ(1,"button",50),t.SDv(2,51),t.qZA(),t.BQk()),2&c&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,ft)))}const H=function(){return["/"]};function f(c,T){1&c&&(t.TgZ(0,"button",50),t.SDv(1,52),t.qZA()),2&c&&t.Q6J("routerLink",t.DdM(1,H))}function R(c,T){if(1&c&&(t.YNc(0,x,3,2,"ng-container",48),t.YNc(1,f,2,2,"ng-template",null,49,t.W1O)),2&c){const p=t.MAs(2),y=t.oxw();t.Q6J("ngIf","ECOMMERCE"===y.appConfig.siteType)("ngIfElse",p)}}let Y=(()=>{class c{constructor(p,y){this.appConfig=p,this.paymentService=y,this.retry=new t.vpe}get hasRedirect(){return this.paymentService.hasRedirect(this.transaction.provider)}}return c.\u0275fac=function(p){return new(p||c)(t.Y36(n.qBz),t.Y36(a.t))},c.\u0275cmp=t.Xpm({type:c,selectors:[["cw-payment-transaction"]],inputs:{transaction:"transaction"},outputs:{retry:"retry"},decls:12,vars:7,consts:function(){let T,p,y,j,at,lt,ot,At,et,U,L,S,_t,ut,Mt,Ot,St,Nt,Pt,ht;return T=$localize`:␟1402dd90ba54af24c55d5d4a1655df556bf20ec1␟8304730631503549406:Transaction started`,p=$localize`:␟7a9230dd4811e1cf0c7f40ab1ea9fda1ae77d6c2␟6918386869370484933:Transaction has been created. Please follow the instructions below to complete the transaction.`,y=$localize`:␟5e139d9858f67c1741c5731cc3eb5f86d1f64cef␟4728414228335768110:Transaction pending`,j=$localize`:␟be3f95d4077398f61d19e6c3e67ed35c23d444be␟8230037656149216666:Transaction is pending. Please follow the instructions below to complete the transaction.`,at=$localize`:␟dbd8e05451125fa6f88818b4fa0a454735419ca2␟821467309343618786:Transaction canceled`,lt=$localize`:␟07f5ed8220ec755091a4c1e19b8156bf53b6cb0e␟505240119516182420:Transaction was cancelled and no funds have been added to your account.`,ot=$localize`:␟38e0956efb7c78e758d638c8f1e5c99859b82836␟7934833136974560675:Retry`,At=$localize`:␟567aa6031981280e23b814cf4c2ad7683cc554a7␟7426265815730242119:Transaction failed`,et=$localize`:␟26f4ae3f2c3beb7edfb289870f3c6b1a6de0bf24␟4861253767999929008:Transaction was cancelled or has failed and no funds have been added to your account.`,U=$localize`:␟38e0956efb7c78e758d638c8f1e5c99859b82836␟7934833136974560675:Retry`,L=$localize`:␟234a764993398e1982e4fa07e16b2ffb82fc9844␟4080011448658121991:Transaction completed`,S=$localize`:␟1756b1ef3d452e07dbf94801317450de4af1c20b␟1339007562521455679:Transaction is complete. Your account has been credited with additional funds.`,_t=$localize`:␟12a369e1b1c370acdca20800d9ebde915c2a350e␟6946428126055948804:Transaction pending approval`,ut=$localize`:␟1edde2b7a4b33dcacd51c299b5e09b5db58bd6a0␟44685432567978745: Transaction is pending approval. Your account will be soon credited with additional funds.${"\ufffd#9\ufffd\ufffd/#9\ufffd"}:LINE_BREAK: If transaction is not approved after 24 hours, please contact our ${"\ufffd#10\ufffd"}:START_LINK:support${"\ufffd/#10\ufffd"}:CLOSE_LINK:`,Mt=$localize`:␟a0c7e8516852d2b5888c8a00894acd60aad61317␟8864288285279476751:Method`,Ot=$localize`:␟dfc2fb58e2a04ed944a4bd80f0a2087775134068␟6533918067030990396:Amount`,St=$localize`:␟7211fdc5ce23742dd3197f6b61cdaa1d960d715d␟4525412664555251662: Please wait while you're being redirected to provider for payment. `,Nt=$localize`:␟adf01432a52f9cccaf04bada375158e69b9556b4␟7267468746413841128: Transaction declined. Your payment will be automatically cancelled/erased by your bank within 7 business days, if you have any questions please contact the acquirer at ${"\ufffd#2\ufffd"}:START_LINK:hello@ips-payment.com${"\ufffd/#2\ufffd"}:CLOSE_LINK:`,Pt=$localize`:␟7b78c72cfe4f51989cb09a09728ee8f9a05c9bd8␟385958250954032052: Continue Shopping `,ht=$localize`:␟af3d6504272a2ae570b6ab1e76d91c1279af0a1d␟1369326571438987910:Continue Playing`,[[1,"card","pb-3"],[3,"ngSwitch"],[4,"ngSwitchCase"],["transactionInfo",""],["endButtonSuccess",""],[1,"card-header"],T,["fxLayout","row wrap","fxLayoutAlign","start start",1,"mt-3"],["fxFlex","8rem","fxFlex.lt-sm","100%",1,"shield","text-center"],["inlineSVG","assets/icons/shield.svg",1,"nav-item-icon"],["fxFlex","25rem","fxFlex.lt-sm","0 0 100%",1,"content"],p,[4,"ngTemplateOutlet","ngTemplateOutletContext"],y,["inlineSVG","assets/icons/clock-outline.svg",1,"nav-item-icon"],j,[1,"text-center"],[4,"ngTemplateOutlet"],at,["inlineSVG","assets/icons/cancel.svg",1,"nav-item-icon"],lt,["type","button","mat-flat-button","","color","primary",1,"w-50",3,"click"],ot,At,et,U,L,["inlineSVG","assets/icons/checked.svg",1,"nav-item-icon"],S,_t,ut,["href","/support","target","_blank",1,"text-weight-bold"],["fxLayout","row wrap",1,"common"],[1,"w-50"],[1,"font-weight-bold","mb-1","label"],Mt,[1,"provider"],[1,"font-weight-bold","mb-2","label"],Ot,[3,"balance","currency"],["class","alert alert-info",4,"ngIf"],[1,"alert","alert-info"],St,["id","amazon-pay-button"],["class","alert alert-warning payment-info",4,"ngIf"],[1,"alert","alert-warning","payment-info"],Nt,["href","mailto:hello@ips-payment.com","rel","noreferrer"],[4,"ngIf","ngIfElse"],["gaming",""],["type","button","mat-flat-button","","color","primary",1,"w-50",3,"routerLink"],Pt,ht]},template:function(p,y){1&p&&(t.TgZ(0,"div",0),t.ynx(1,1),t.YNc(2,_,10,4,"ng-container",2),t.YNc(3,F,12,5,"ng-container",2),t.YNc(4,e,13,4,"ng-container",2),t.YNc(5,m,13,4,"ng-container",2),t.YNc(6,J,12,5,"ng-container",2),t.YNc(7,Z,14,5,"ng-container",2),t.BQk(),t.qZA(),t.YNc(8,Tt,18,18,"ng-template",null,3,t.W1O),t.YNc(10,R,3,2,"ng-template",null,4,t.W1O)),2&p&&(t.xp6(1),t.Q6J("ngSwitch",y.transaction.status),t.xp6(1),t.Q6J("ngSwitchCase","STARTED"),t.xp6(1),t.Q6J("ngSwitchCase","PENDING"),t.xp6(1),t.Q6J("ngSwitchCase","CANCELED"),t.xp6(1),t.Q6J("ngSwitchCase","FAILED"),t.xp6(1),t.Q6J("ngSwitchCase","COMPLETED"),t.xp6(1),t.Q6J("ngSwitchCase","PENDING_APPROVAL"))},directives:[d.RF,d.n9,v.xw,v.Wh,v.yH,g.o,b.d$,d.tP,Q.lW,s.q,d.O5,i.rH],pipes:[d.i8,K.N],styles:[".provider[_ngcontent-%COMP%]{display:inline-block;border-radius:.5rem}.nav-item-icon[_ngcontent-%COMP%]{width:6rem;margin-bottom:1rem}.payment-icon[_ngcontent-%COMP%]{display:block;width:9rem;height:4rem}cw-pretty-balance[_ngcontent-%COMP%]{font-size:2.5rem;color:#fff}.label[_ngcontent-%COMP%]{text-transform:uppercase}.amount-container[_ngcontent-%COMP%]{min-width:12rem}@media (max-width: 767.98px){.amount-container[_ngcontent-%COMP%]{min-width:100%}.amount-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%!important}}.common[_ngcontent-%COMP%]{width:25rem}@media (max-width: 767.98px){.common[_ngcontent-%COMP%]{width:100%}}.content[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),c})()},3:(st,k,o)=>{o.d(k,{p:()=>Et});var t=o(70655),n=o(35357),a=o(23600),d=o(44987),v=o(13302),g=o(61135),b=o(54004),Q=o(39841),s=o(95698),i=o(39300),K=o(63900),$=o(57165),u=o(60508),_=o(92758),w=o(38042),B=o(23121);const O=o(39478).Ps`
  query PreviousTransaction($id: ID!) {
    transaction(id: $id) {
      ...Transaction
    }
  }

  ${u.d6},
`;var e=o(5e3),A=o(69808),m=o(20820),P=o(20975),D=o(77093),J=o(15147),h=o(47423),N=o(79586),Z=o(57465),V=o(69616),G=o(7722),it=o(31495),ct=o(96298),pt=o(58696),Tt=o(10217),ft=o(93464),x=o(43343),H=o(3004);const f=["createTransactionForm"];function R(E,I){if(1&E&&(e.TgZ(0,"cw-alert",11),e.TgZ(1,"p"),e.SDv(2,12),e.qZA(),e.qZA()),2&E){const C=I.ngIf;e.Q6J("dismissable",!1),e.xp6(2),e.pQV(C),e.QtT(2)}}function Y(E,I){1&E&&(e.ynx(0),e._uU(1,"OSRS"),e.BQk())}function c(E,I){if(1&E&&(e.TgZ(0,"small",13),e._uU(1),e.qZA()),2&E){const C=I.ngIf;e.xp6(1),e.Oqu(C)}}function T(E,I){if(1&E){const C=e.EpF();e.TgZ(0,"div",14),e.TgZ(1,"button",15),e.NdJ("click",function(){return e.CHM(C),e.oxw(5).goBack()}),e.SDv(2,16),e.qZA(),e.qZA()}}function p(E,I){if(1&E&&(e.TgZ(0,"p",24),e._uU(1),e.qZA()),2&E){const C=e.oxw(6);e.xp6(1),e.hij(" You will receive balance after sending ",C.providerMethod," to the address displayed below ")}}function y(E,I){1&E&&(e.TgZ(0,"p"),e._uU(1,"Please enter the amount of balance you would like to be credited."),e.qZA())}function j(E,I){if(1&E){const C=e.EpF();e.TgZ(0,"cw-promo-code-redeem-form",29),e.NdJ("message",function(q){return e.CHM(C),e.oxw(7).promoMessage(q)}),e.qZA()}2&E&&e.Q6J("depositPage",!0)}function at(E,I){if(1&E){const C=e.EpF();e.TgZ(0,"div",25),e.TgZ(1,"cw-create-transaction-form",26,27),e.NdJ("createdTransaction",function(q){return e.CHM(C),e.oxw(6).onCreate(q)})("createdCryptoAddress",function(q){return e.CHM(C),e.oxw(6).onCreateCryptoAddress(q)}),e.qZA(),e.YNc(3,j,1,1,"cw-promo-code-redeem-form",28),e.ALo(4,"push"),e.qZA()}if(2&E){const C=e.oxw(4).$implicit,X=e.oxw(2);e.xp6(1),e.ekj("d-none",X.createOnSelect(C)),e.Q6J("selectedOption",C),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(4,4,X.isMaintenancePromoCodeRefereeEnabled$)&&!X.createOnSelect(C))}}function lt(E,I){if(1&E){const C=e.EpF();e.TgZ(0,"cw-payment-transaction",30),e.NdJ("retry",function(){return e.CHM(C),e.oxw(6).onRetry()}),e.qZA()}if(2&E){const C=e.oxw(3).$implicit;e.Q6J("transaction",C)}}function ot(E,I){if(1&E&&e._UZ(0,"cw-crypto-address-details",31),2&E){const C=e.oxw(2).$implicit;e.Q6J("cryptoAddress",C)}}function At(E,I){if(1&E&&(e.TgZ(0,"section",17),e.YNc(1,p,2,1,"p",18),e.YNc(2,y,2,0,"ng-template",null,19,e.W1O),e.YNc(4,at,5,6,"div",20),e.YNc(5,lt,1,1,"cw-payment-transaction",21),e.YNc(6,ot,1,1,"cw-crypto-address-details",22),e._UZ(7,"cw-loader",23),e.qZA()),2&E){const C=e.MAs(3),X=e.oxw().$implicit,q=e.oxw().$implicit,rt=e.oxw().$implicit,gt=e.oxw(2);e.xp6(1),e.Q6J("ngIf",gt.createOnSelect(rt))("ngIfElse",C),e.xp6(3),e.Q6J("ngIf",rt&&!q&&!X),e.xp6(1),e.Q6J("ngIf",q),e.xp6(1),e.Q6J("ngIf",X),e.xp6(1),e.Q6J("loading",!q&&!X&&gt.createOnSelect(rt))("type","view")}}function et(E,I){1&E&&(e.TgZ(0,"p",32),e._uU(1," Please enter the amount of OSRS gold you would like to be credited. "),e.TgZ(2,"b",33),e._uU(3,"1M OSRS = 1000"),e.qZA(),e._UZ(4,"cw-icon",34),e.qZA(),e._UZ(5,"cw-payment-form-to-zendesk"))}function U(E,I){if(1&E){const C=e.EpF();e.TgZ(0,"cw-payment-option-card",41),e.NdJ("click",function(){const rt=e.CHM(C).$implicit;return e.oxw(6).onSelect(rt)}),e.ALo(1,"lowercase"),e.ALo(2,"slugify"),e.ALo(3,"lowercase"),e.ALo(4,"slugify"),e.qZA()}if(2&E){const C=I.$implicit,X=e.oxw(4).$implicit,q=e.oxw(2);e.hYB("iconClass","",e.lcZ(1,7,e.lcZ(2,9,C.providerName))," ",e.lcZ(3,11,e.lcZ(4,13,C.methodName)),""),e.Q6J("active",X===C)("label",C.methodName)("enabled",C.visible)("isNew",q.isNew(C))("bonusPercent",C.bonusPercent)}}const L=function(){return["/top-up/steam/csgo"]};function S(E,I){1&E&&e._UZ(0,"cw-payment-option-card",45),2&E&&e.Q6J("link",e.DdM(2,L))("enabled",!0)}const _t=function(){return["/top-up/steam/dota2"]};function ut(E,I){1&E&&e._UZ(0,"cw-payment-option-card",46),2&E&&e.Q6J("link",e.DdM(2,_t))("enabled",!0)}function Mt(E,I){if(1&E&&(e.ynx(0),e.YNc(1,S,1,3,"cw-payment-option-card",43),e.YNc(2,ut,1,3,"cw-payment-option-card",44),e.BQk()),2&E){const C=e.oxw().ngIf;e.xp6(1),e.Q6J("ngIf",C.includes("CSGO")),e.xp6(1),e.Q6J("ngIf",C.includes("DOTA2"))}}function Ot(E,I){if(1&E){const C=e.EpF();e.TgZ(0,"cw-payment-option-card",47),e.NdJ("click",function(){return e.CHM(C),e.oxw(7).selectedOption$.next("OSRS")}),e.qZA()}if(2&E){const C=e.oxw(5).$implicit;e.Q6J("active","OSRS"===C)}}function St(E,I){if(1&E&&(e.ynx(0),e.YNc(1,Mt,3,2,"ng-container",6),e.YNc(2,Ot,1,1,"cw-payment-option-card",42),e.BQk()),2&E){const C=I.ngIf,X=e.oxw(6);e.xp6(1),e.Q6J("ngIf",X.tradesEnabled),e.xp6(1),e.Q6J("ngIf",X.appConfig.OSRSDeposit&&C.includes("OSRS"))}}const Nt=function(){return["/top-up/gift-cards"]};function Pt(E,I){if(1&E&&(e.ynx(0),e._UZ(1,"cw-payment-option-card",48),e.BQk()),2&E){const C=e.oxw(6);e.xp6(1),e.Q6J("link",e.DdM(3,Nt))("label",(null==C.appConfig.payments?null:C.appConfig.payments.giftCardsLabel)||"Gift Cards (PayPal)")("enabled",!0)}}function ht(E,I){if(1&E){const C=e.EpF();e.ynx(0),e.TgZ(1,"cw-payment-option-card",49),e.NdJ("click",function(){const rt=e.CHM(C).$implicit;return e.oxw(6).onSelect(rt)}),e.ALo(2,"lowercase"),e.ALo(3,"slugify"),e.ALo(4,"lowercase"),e.ALo(5,"slugify"),e.qZA(),e.BQk()}if(2&E){const C=I.$implicit,X=e.oxw(4).$implicit,q=e.oxw(2);e.xp6(1),e.hYB("iconClass","",e.lcZ(2,8,e.lcZ(3,10,C.providerName))," ",e.lcZ(4,12,e.lcZ(5,14,C.methodName)),""),e.Q6J("active",X===C)("label",C.methodName)("enabled",C.visible)("isNew",q.isNew(C))("bonusPercent",C.bonusPercent)("disabled",!C.enabled)}}function nt(E,I){if(1&E&&(e.ynx(0),e.TgZ(1,"div",35),e.TgZ(2,"h3",36),e.SDv(3,37),e.qZA(),e.TgZ(4,"section",38),e.YNc(5,U,5,15,"cw-payment-option-card",39),e.ALo(6,"slice"),e.YNc(7,St,3,2,"ng-container",6),e.ALo(8,"push"),e.YNc(9,Pt,2,4,"ng-container",6),e.ALo(10,"push"),e.YNc(11,ht,6,16,"ng-container",40),e.ALo(12,"slice"),e.qZA(),e.qZA(),e.BQk()),2&E){const C=I.ngIf,X=e.oxw(5);e.xp6(5),e.Q6J("ngForOf",e.Dn7(6,4,C,0,1)),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,8,X.tradeAllowedItemTypes$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,10,X.hasGiftCards$)),e.xp6(2),e.Q6J("ngForOf",e.xi3(12,12,C,1))}}function xt(E,I){if(1&E&&(e.ynx(0),e.YNc(1,R,3,2,"cw-alert",3),e.ALo(2,"push"),e.TgZ(3,"h3",4),e.TgZ(4,"div",5),e._uU(5),e.ALo(6,"appConfig"),e.YNc(7,Y,2,0,"ng-container",6),e.YNc(8,c,2,1,"small",7),e.ALo(9,"push"),e.qZA(),e.YNc(10,T,3,0,"div",8),e.qZA(),e.YNc(11,At,8,7,"section",9),e.YNc(12,et,6,0,"ng-template",null,10,e.W1O),e.YNc(14,nt,13,15,"ng-container",6),e.ALo(15,"push"),e.BQk()),2&E){const C=I.$implicit,X=e.MAs(13),q=e.oxw().$implicit,rt=e.oxw().$implicit,gt=e.oxw(2);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,9,gt.alertMessage$)),e.xp6(4),e.AsE(" ",e.lcZ(6,11,"DEPOSIT_TEXT")," with ",gt.providerMethod," "),e.xp6(2),e.Q6J("ngIf","OSRS"===rt),e.xp6(1),e.Q6J("ngIf",e.lcZ(9,13,gt.promoCodeText$)),e.xp6(2),e.Q6J("ngIf",gt.createOnSelect(rt)),e.xp6(1),e.Q6J("ngIf","OSRS"!==rt)("ngIfElse",X),e.xp6(3),e.Q6J("ngIf",!q&&!C&&!gt.createOnSelect(rt)&&e.lcZ(15,15,gt.paymentOptions$))}}function Ct(E,I){if(1&E&&(e.ynx(0),e.YNc(1,xt,16,17,"ng-container",2),e.BQk()),2&E){const C=e.oxw(3);e.xp6(1),e.Q6J("rxLet",C.cryptoAddress$)}}function It(E,I){if(1&E&&(e.ynx(0),e.YNc(1,Ct,2,1,"ng-container",2),e.BQk()),2&E){const C=e.oxw(2);e.xp6(1),e.Q6J("rxLet",C.transaction$)}}function vt(E,I){if(1&E&&(e.ynx(0),e.YNc(1,It,2,1,"ng-container",2),e.BQk()),2&E){const C=e.oxw();e.xp6(1),e.Q6J("rxLet",C.selectedOption$)}}function Dt(E,I){1&E&&(e.TgZ(0,"p",50),e._UZ(1,"cw-icon",51),e.TgZ(2,"span"),e.SDv(3,52),e.qZA(),e.qZA())}let Et=class{constructor(I,C,X,q,rt,gt,Rt){this.appConfig=I,this.apollo=C,this.paymentService=X,this.userService=q,this.route=rt,this.paymentTransactionService=gt,this.settingService=Rt,this.type=$.iU.DEPOSIT,this.selectedOption$=new g.X(null),this.transaction$=new g.X(null),this.cryptoAddress$=new g.X(null),this.tradeAllowedItemTypes$=this.settingService.getSetting("trade:allowed_item_types").pipe((0,b.U)(({value:tt})=>tt)),this.isMaintenancePromoCodeRefereeEnabled$=(0,Q.a)([this.settingService.getSetting("maintenance:promo_code_referee_deposit_bonus"),this.settingService.getSetting("maintenance:promo_code")]).pipe((0,d.t)(this),(0,s.q)(1),(0,b.U)(([tt,l])=>tt.value||l.value)),this.currency$=this.userService.currency$,this.isMarketAllowedToShip$=this.userService.isMarketAllowedToShip$,this.alertMessage$=new g.X(null),this.promoCodeText$=q.promoCodeText$,(0,Q.a)([this.paymentService.getOptions(),this.route.paramMap]).pipe((0,d.t)(this)).subscribe(([tt,l])=>{const M=(0,a.lV9)(l.get("provider")||""),r=(0,a.lV9)(l.get("method")||"");let W;M&&r?W=tt.find(z=>(0,a.lV9)(z.provider)===M&&(0,a.lV9)(z.method)===r):M&&(W=tt.find(z=>(0,a.lV9)(z.provider)===M)),this.selectedOption$.next(W||tt[0])}),this.route.queryParamMap.pipe((0,b.U)(tt=>tt.get("id")),(0,i.h)(tt=>!!tt),(0,K.w)(tt=>this.apollo.watchQuery({query:O,variables:{id:tt}}).valueChanges),(0,d.t)(this)).subscribe(({data:tt})=>{var l;this.transaction$.next(tt.transaction),(null===(l=tt.transaction)||void 0===l?void 0:l.status)===$.LN.COMPLETED&&this.paymentTransactionService.onComplete(this.transaction)}),this.apollo.subscribe({query:u.Kt}).pipe((0,d.t)(this)).subscribe(({data:tt})=>{const{transaction:l}=tt.updateTransaction;l.id===this.transaction.id&&this.transaction$.next(Object.assign(Object.assign({},this.transaction),l)),l.status===$.LN.COMPLETED&&this.paymentTransactionService.onComplete(this.transaction)}),this.promoCodeText$=this.userService.promoCodeText$,this.tradesEnabled=I.products.trades,this.hasGiftCards$=this.paymentService.getGiftCardMethods().pipe((0,b.U)(tt=>!!tt.length)),this.paymentOptions$=this.paymentService.getOptions()}get providerMethod(){return this.selectedOption$.getValue()?this.paymentService.getProviderMethod(this.selectedOption$.getValue()):""}get transaction(){return this.transaction$.getValue()}isNew(I){const C=new Date;return C.setDate(C.getDate()-14),new Date(I.createdAt).getTime()>C.getTime()}goBack(){this.transaction$.next(null),this.cryptoAddress$.next(null),this.paymentOptions$.pipe((0,s.q)(1)).subscribe(I=>{this.selectedOption$.next(I[0])})}onRetry(){this.transaction$.next(null),this.cryptoAddress$.next(null),this.createOnSelect(this.selectedOption$.getValue())&&this.paymentOptions$.pipe((0,s.q)(1),(0,d.t)(this)).subscribe(I=>{this.selectedOption$.next(null)})}onCreate(I){this.transaction$.next(I),this.paymentTransactionService.onCreateTransaction(I)}onCreateCryptoAddress(I){this.cryptoAddress$.next(I)}promoMessage(I){this.alertMessage$.next(I)}onSelect(I){!I.enabled||(this.selectedOption$.next(I),this.createOnSelect(I)&&setTimeout(()=>{this.createTransactionForm.onSubmit($.vk.CRYPTO_ADDRESS)}))}createOnSelect(I){return!!I&&this.paymentService.isCryptoOption(I)&&I.transactionType===$.vk.CRYPTO_ADDRESS}};Et.\u0275fac=function(I){return new(I||Et)(e.Y36(a.qBz),e.Y36(v._M),e.Y36(w.t),e.Y36(a.KDu),e.Y36(n.gz),e.Y36(_.U),e.Y36(a.RCL))},Et.\u0275cmp=e.Xpm({type:Et,selectors:[["cw-payment"]],viewQuery:function(I,C){if(1&I&&e.Gf(f,5),2&I){let X;e.iGM(X=e.CRH())&&(C.createTransactionForm=X.first)}},inputs:{type:"type"},decls:4,vars:4,consts:function(){let E,I,C,X;return E=$localize`:␟1cebb55620ae3114e8249d20e65ee55adb37096e␟7958490656984145368:${"\ufffd0\ufffd"}:INTERPOLATION:`,I=$localize`:␟a35ba727aee9a37b13a5fb11d9f4214ef694b120␟4303422921277701928:Back to Deposit Options`,C=$localize`:␟0229ac87cd33cf58b4f1734a6d962a73af4699a5␟4031883176075823970:Selected method`,X=$localize`:␟eb34641a830d606b88049b2a80921a06b5f1266d␟3060663717973037447:We cannot accept deposits from this region`,[[4,"ngIf","ngIfElse"],["noShippingAllowed",""],[4,"rxLet"],["color","success",3,"dismissable",4,"ngIf"],["fxLayout","row",1,"mb-4","mt-2"],["fxFlex","50%",1,"w-50"],[4,"ngIf"],["class","text-success ml-1",4,"ngIf"],["class","w-50 mb-4 mt-2 text-right","fxFlex","50%",4,"ngIf"],["class","mb-3 position-relative",4,"ngIf","ngIfElse"],["osrsForm",""],["color","success",3,"dismissable"],E,[1,"text-success","ml-1"],["fxFlex","50%",1,"w-50","mb-4","mt-2","text-right"],["mat-stroked-button","",1,"paymentBackButtonClass",3,"click"],I,[1,"mb-3","position-relative"],["class","text-center",4,"ngIf","ngIfElse"],["others",""],["class","position-relative pb-3","fxLayout","row","fxLayout.xs","column",4,"ngIf"],[3,"transaction","retry",4,"ngIf"],[3,"cryptoAddress",4,"ngIf"],[3,"loading","type"],[1,"text-center"],["fxLayout","row","fxLayout.xs","column",1,"position-relative","pb-3"],[3,"selectedOption","createdTransaction","createdCryptoAddress"],["createTransactionForm",""],["placeholder","Enter code",3,"depositPage","message",4,"ngIf"],["placeholder","Enter code",3,"depositPage","message"],[3,"transaction","retry"],[3,"cryptoAddress"],["fxLayout","","fxLayoutAlign","start center"],[1,"ml-1"],["inlineSVG","assets/icons/coins.svg",1,"ml-1"],[1,"mb-4"],[1,"mb-2","mat-h3"],C,["gdGap","1rem","gdColumns","repeat(auto-fill, minmax(10rem, 0.5fr))","gdColumns.xs","repeat(auto-fill, minmax(8rem, 0.5fr))"],[3,"active","label","enabled","isNew","bonusPercent","iconClass","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"active","label","enabled","isNew","bonusPercent","iconClass","click"],["label","OSRS","iconClass","osrs",3,"active","click",4,"ngIf"],["label","CS:GO","iconClass","csgo",3,"link","enabled",4,"ngIf"],["label","DOTA2","iconClass","dota2",3,"link","enabled",4,"ngIf"],["label","CS:GO","iconClass","csgo",3,"link","enabled"],["label","DOTA2","iconClass","dota2",3,"link","enabled"],["label","OSRS","iconClass","osrs",3,"active","click"],["iconClass","paypal",3,"link","label","enabled"],[3,"active","label","enabled","isNew","bonusPercent","disabled","iconClass","click"],[1,"text-soft","text-center"],["inlineSVG","assets/icons/danger.svg",1,"align-text-bottom"],X]},template:function(I,C){if(1&I&&(e.YNc(0,vt,2,1,"ng-container",0),e.ALo(1,"push"),e.YNc(2,Dt,4,0,"ng-template",null,1,e.W1O)),2&I){const X=e.MAs(3);e.Q6J("ngIf",e.lcZ(1,2,C.isMarketAllowedToShip$))("ngIfElse",X)}},directives:[A.O5,m.e,D.xw,D.yH,J.w,h.lW,N.R,B.k,Z.K,V.X,G.T,D.Wh,it.o,ct.d$,pt.E,Tt.Gx,Tt.A0,A.sg,ft.H],pipes:[P.f,x.O,A.OU,A.i8,H.N],styles:["@media only screen and (max-width: 768px){[class*=paymentBackButtonClass][_ngcontent-%COMP%]{width:100%;white-space:normal}}"],changeDetection:0}),Et=(0,t.gn)([(0,d.c)(),(0,t.w6)("design:paramtypes",[Object,v._M,w.t,a.KDu,n.gz,_.U,a.RCL])],Et)},76611:(st,k,o)=>{o.d(k,{o:()=>B});var t=o(23600),n=o(38042),a=o(5e3),d=o(47423),v=o(35357),g=o(57465),b=o(69808),Q=o(10217),s=o(93464),i=o(99848);function K(F,O){if(1&F){const e=a.EpF();a.TgZ(0,"cw-payment-option-card",16),a.NdJ("click",function(){const P=a.CHM(e).$implicit;return a.oxw(4).onClickGiftCard(P)}),a.ALo(1,"async"),a.ALo(2,"exchangedValue"),a.qZA()}if(2&F){const e=O.$implicit,A=a.oxw().$implicit,m=a.oxw(2).ngIf,P=a.oxw();a.Q6J("enabled",!0)("balance",a.lcZ(1,4,a.Dn7(2,6,e.amount,A.currency,m.currency)))("currency",m.currency)("iconClass",P.getIconClass(A,e))}}function $(F,O){if(1&F&&(a.TgZ(0,"section",14),a.YNc(1,K,3,10,"cw-payment-option-card",15),a.qZA()),2&F){const e=O.$implicit;a.xp6(1),a.Q6J("ngForOf",e.options)}}function u(F,O){if(1&F&&(a.ynx(0),a.YNc(1,$,2,1,"section",13),a.BQk()),2&F){const e=O.ngIf;a.xp6(1),a.Q6J("ngForOf",e)}}function _(F,O){if(1&F&&(a.TgZ(0,"div",9),a.TgZ(1,"h3",10),a.SDv(2,11),a.qZA(),a.YNc(3,u,2,1,"ng-container",12),a.ALo(4,"async"),a.qZA()),2&F){const e=a.oxw();a.xp6(3),a.Q6J("ngIf",a.lcZ(4,1,e.giftCardMethods$))}}const w=function(){return["/top-up"]};let B=(()=>{class F{constructor(e,A,m){this.paymentService=A,this.platformService=m,this.user$=e.user$,this.giftCardMethods$=this.paymentService.getGiftCardMethods()}getIconClass(e,A){return[`provider-${e.name.toLowerCase()}-fallback`,`provider-${e.name.toLowerCase()}-value-${A.amount}`,e.currency.toLowerCase()].join(" ")}onClickGiftCard(e){this.platformService.window.open(e.link,"_blank")}}return F.\u0275fac=function(e){return new(e||F)(a.Y36(t.KDu),a.Y36(n.t),a.Y36(t.mix))},F.\u0275cmp=a.Xpm({type:F,selectors:[["cw-promo-deposit"]],decls:12,vars:5,consts:function(){let O,e,A;return O=$localize`:␟059a90e13b5474176b0882bdd81abcc9ebbc74bf␟6624296009311066993:Gift Cards`,e=$localize`:␟a35ba727aee9a37b13a5fb11d9f4214ef694b120␟4303422921277701928:Back to Deposit Options`,A=$localize`:␟449324c9753db75719f193f3d04df3d749a58e5b␟8822937579366345755:Select one of the options below`,[[1,"mb-4"],[1,"d-inline-block","w-50"],O,[1,"d-inline-block","w-50","text-right"],["mat-stroked-button","",1,"paymentBackButtonClass",3,"routerLink"],e,[1,"redeem-form","mb-3"],["placeholder","Redeem code"],["class","mb-3",4,"ngIf"],[1,"mb-3"],[1,"mb-2","mat-h3"],A,[4,"ngIf"],["class","mb-3","gdGap","1rem","gdColumns","repeat(auto-fill, minmax(10rem, 1fr))",4,"ngFor","ngForOf"],["gdGap","1rem","gdColumns","repeat(auto-fill, minmax(10rem, 1fr))",1,"mb-3"],[3,"enabled","balance","currency","iconClass","click",4,"ngFor","ngForOf"],[3,"enabled","balance","currency","iconClass","click"]]},template:function(e,A){1&e&&(a.TgZ(0,"h3",0),a.TgZ(1,"div",1),a.SDv(2,2),a.qZA(),a.TgZ(3,"div",3),a.TgZ(4,"button",4),a.SDv(5,5),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"div",6),a.TgZ(7,"p"),a._uU(8,"Already have a code?"),a.qZA(),a._UZ(9,"cw-promo-code-redeem-form",7),a.qZA(),a.YNc(10,_,5,3,"div",8),a.ALo(11,"async")),2&e&&(a.xp6(4),a.Q6J("routerLink",a.DdM(4,w)),a.xp6(6),a.Q6J("ngIf",a.lcZ(11,2,A.user$)))},directives:[d.lW,v.rH,g.K,b.O5,b.sg,Q.Gx,Q.A0,s.H],pipes:[b.Ov,i.q],styles:[".option[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;padding:1rem;border-radius:.5rem;border:2px solid rgba(49,53,61,.6);background:#262a30;cursor:pointer}.option.selected[_ngcontent-%COMP%]{border-color:#00e258;background-color:#21252b}.option.disabled[_ngcontent-%COMP%]{opacity:.15;cursor:initial}.option[_ngcontent-%COMP%]:hover{border-color:#00e258;background-color:#21252b}.option[_ngcontent-%COMP%]   cw-pretty-balance[_ngcontent-%COMP%]{color:inherit;font-size:1rem}.payment-icon[_ngcontent-%COMP%]{display:block;width:9rem;height:4rem}.gift-card-image[_ngcontent-%COMP%]{display:block;padding-bottom:52%;width:100%;border-radius:.5rem;margin-bottom:.5rem}.redeem-form[_ngcontent-%COMP%]{max-width:20rem}@media only screen and (max-width: 768px){[class*=paymentBackButtonClass][_ngcontent-%COMP%]{width:100%;white-space:normal}}"],changeDetection:0}),F})()},90927:(st,k,o)=>{o.d(k,{q:()=>H});var t=o(70655),n=o(23600),a=o(44987),d=o(57994),g=o(61135),b=o(95698),Q=o(11365),s=o(63900),i=o(68675),K=o(54004),$=o(99849),u=o(38042),_=o(5e3),w=o(69808),B=o(77093),F=o(67322),O=o(31495),e=o(96298),A=o(98833),m=o(36544),P=o(983),D=o(4312),J=o(83649),h=o(88634),N=o(34308);function Z(f,R){1&f&&(_.TgZ(0,"div",2),_.SDv(1,3),_.qZA())}function V(f,R){if(1&f&&(_.TgZ(0,"div",14),_._UZ(1,"qrcode",15),_.qZA()),2&f){const Y=R.ngIf;_.xp6(1),_.Q6J("qrdata",Y)("size",158)("errorCorrectionLevel","M")}}function G(f,R){if(1&f){const Y=_.EpF();_.TgZ(0,"cw-exchange-currency-calculator",20),_.NdJ("amountEmitter",function(T){const y=_.CHM(Y).ngIf;return _.oxw(4).convertAmount(T,y)}),_.ALo(1,"asyncInner"),_.ALo(2,"asyncInner"),_.qZA()}if(2&f){const Y=R.ngIf,c=_.oxw(4);_.Q6J("amount",_.lcZ(1,6,c.userCurrencyInitialAmount$))("currencyFrom",Y)("currencyTo",c.transaction.method)("currencyFromDecimals",c.getDecimals(Y))("currencyToDecimals",c.getDecimals(c.transaction.method))("exchangeRate",_.lcZ(2,8,c.userCurrencyExchangeRate$))}}function it(f,R){if(1&f&&(_.TgZ(0,"div",16),_.TgZ(1,"h5",17),_.SDv(2,18),_.ALo(3,"currencyName"),_.ALo(4,"async"),_.ALo(5,"currencyName"),_.qZA(),_.YNc(6,G,3,10,"cw-exchange-currency-calculator",19),_.ALo(7,"asyncInner"),_.qZA()),2&f){const Y=_.oxw(3);_.xp6(5),_.pQV(_.lcZ(3,3,_.lcZ(4,5,Y.userCurrency$)))(_.lcZ(5,7,Y.transaction.method)),_.QtT(2),_.xp6(1),_.Q6J("ngIf",_.lcZ(7,9,Y.userCurrency$))}}function ct(f,R){if(1&f&&(_.TgZ(0,"div",21),_._UZ(1,"cw-crypto-explorer-btn",22),_.qZA()),2&f){const Y=_.oxw(3);_.xp6(1),_.Q6J("method",Y.transaction.method)("cryptoAddress",Y.transaction.cryptoAddress)}}function pt(f,R){1&f&&(_.TgZ(0,"p",23),_.tHW(1,24),_._UZ(2,"strong"),_.N_p(),_.qZA())}function Tt(f,R){if(1&f&&(_.TgZ(0,"section",6),_.TgZ(1,"mat-form-field",7),_.TgZ(2,"mat-label"),_._UZ(3,"cw-icon",8),_._uU(4," \xa0 Click to copy address "),_.qZA(),_._UZ(5,"input",9),_.qZA(),_.YNc(6,V,2,3,"div",10),_.ALo(7,"asyncInner"),_.YNc(8,it,8,11,"div",11),_.YNc(9,ct,2,2,"div",12),_.YNc(10,pt,3,0,"p",13),_.qZA()),2&f){const Y=_.oxw(2);_.xp6(5),_.Q6J("value",Y.transaction.cryptoAddress),_.xp6(1),_.Q6J("ngIf",_.lcZ(7,5,Y.qrCodeAddress$)),_.xp6(2),_.Q6J("ngIf","COINS_PAID"===Y.transaction.provider),_.xp6(1),_.Q6J("ngIf",Y.transaction.cryptoAddress),_.xp6(1),_.Q6J("ngIf",Y.transaction)}}function ft(f,R){if(1&f&&(_.TgZ(0,"div",4),_.YNc(1,Tt,11,7,"section",5),_.qZA()),2&f){const Y=_.oxw();_.xp6(1),_.Q6J("ngIf",Y.transaction)}}const x=function(){return["STARTED","PENDING"]};let H=class{constructor(R,Y,c){this.exchangeRateService=R,this.paymentService=Y,this.userService=c,this.amountChange=new g.X(0),this.firstAmountChangeWithUserCurrency$=this.amountChange.asObservable().pipe((0,b.q)(2),(0,Q.M)(this.userService.currency$)),this.expired=!1,this.userCurrency$=this.userService.currency$,this.userCurrencyInitialAmount$=this.firstAmountChangeWithUserCurrency$.pipe((0,s.w)(([T,p])=>this.exchangeRateService.convert(p,this.transactionAmount,this.transactionCurrency,this.getDecimals(p)))),this.userCurrencyExchangeRate$=this.firstAmountChangeWithUserCurrency$.pipe((0,s.w)(([T,p])=>{var y;return this.exchangeRateService.convert(this.transactionCurrency,this.transactionExchangeRate,p,this.getDecimals((null===(y=this.transaction)||void 0===y?void 0:y.method)||""))})),this.qrCodeAddress$=this.amountChange.asObservable().pipe((0,i.O)(this.transactionAmount),(0,K.U)(T=>this.getQrCodeAddress(T||0)))}get transactionAmount(){var R;return(null===(R=this.transaction)||void 0===R?void 0:R.amount)||0}get transactionExchangeRate(){var R;return(null===(R=this.transaction)||void 0===R?void 0:R.exchangeRate)||0}get transactionCurrency(){var R;return(null===(R=this.transaction)||void 0===R?void 0:R.currency)||""}set transaction(R){R&&(this._transaction=R,this.amountChange.next(R.amount))}get transaction(){return this._transaction}convertAmount(R,Y){this.exchangeRateService.convert(this.transactionCurrency,R,Y).pipe((0,a.t)(this),(0,b.q)(1)).subscribe(c=>{this.amountChange.next(c)})}getDecimals(R){return this.paymentService.getDecimals(R)}getQrCodeAddress(R=this.transactionAmount){if(!this.transaction)return"";const{method:Y,cryptoAddress:c}=this.transaction;return this.paymentService.getQRCodeAddress(Y,c,this.getCryptoAmount(R)||"0")}getCryptoAmount(R=this.transactionAmount){return this.transaction.provider===$.O.COINS_PAID?(0,d.Big)(R).mul(this.transactionExchangeRate).toFixed(8):this.transaction.exchangedAmount?(0,d.Big)(this.transaction.exchangedAmount).toFixed(8):(0,d.Big)(R).mul(this.transaction.exchangeRate).toFixed(8)}};H.\u0275fac=function(R){return new(R||H)(_.Y36(n.UsA),_.Y36(u.t),_.Y36(n.KDu))},H.\u0275cmp=_.Xpm({type:H,selectors:[["cw-transaction-crypto-details"]],inputs:{transaction:"transaction"},decls:2,vars:4,consts:function(){let f,R,Y;return f=$localize`:␟62ba47dc5894ff490f520a97a058b2117f3cf0b2␟466301779861921233: Transaction address has expired. Funds sent will be added after confirmation.
`,R=$localize`:␟997e49e94aa0fba9267525c1bc81627feb3be516␟3580386476728234036: ${"\ufffd0\ufffd"}:INTERPOLATION: To ${"\ufffd1\ufffd"}:INTERPOLATION_1: Calculator `,Y=$localize`:␟fff16fd7aff117e6ed05f281a97d03e5f3f885fe␟3471862307872246761:${"\ufffd#2\ufffd"}:START_TAG_STRONG:Note: Amount to send is approximate${"\ufffd/#2\ufffd"}:CLOSE_TAG_STRONG:, if you send a different amount or the exchange rate changes, the amount you receive will change `,[["class","alert alert-warning payment-info",4,"ngIf"],["class","d-flex flex-row justify-content-center position-relative",4,"ngIf"],[1,"alert","alert-warning","payment-info"],f,[1,"d-flex","flex-row","justify-content-center","position-relative"],["class","transaction","fxLayout","column","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","column","fxLayoutAlign","start center",1,"transaction"],[1,"w-100"],["inlineSVG","assets/icons/content-copy.svg"],["matInput","","readonly","","cwCopyToClipboard","",1,"copy","text-warning",3,"value"],["fxFlex","nogrow","class","qr-container",4,"ngIf"],["class","mt-3",4,"ngIf"],["fxFlex","1 0 100%",4,"ngIf"],["class","mt-3 mb-0 text-center",4,"ngIf"],["fxFlex","nogrow",1,"qr-container"],[3,"qrdata","size","errorCorrectionLevel"],[1,"mt-3"],[1,"text-uppercase","text-center"],R,[3,"amount","currencyFrom","currencyTo","currencyFromDecimals","currencyToDecimals","exchangeRate","amountEmitter",4,"ngIf"],[3,"amount","currencyFrom","currencyTo","currencyFromDecimals","currencyToDecimals","exchangeRate","amountEmitter"],["fxFlex","1 0 100%"],[1,"text-center",3,"method","cryptoAddress"],[1,"mt-3","mb-0","text-center"],Y]},template:function(R,Y){1&R&&(_.YNc(0,Z,2,0,"div",0),_.YNc(1,ft,2,1,"div",1)),2&R&&(_.Q6J("ngIf",Y.transaction&&Y.expired&&_.DdM(2,x).includes(Y.transaction.status)),_.xp6(1),_.Q6J("ngIf",!Y.expired&&(!Y.transaction||_.DdM(3,x).includes(Y.transaction.status))))},directives:[w.O5,B.xw,B.Wh,F.KE,F.hX,O.o,e.d$,A.Nt,m.e,B.yH,P.V,D.v,J.m],pipes:[h.d,N.l,w.Ov],styles:[".transaction[_ngcontent-%COMP%]{width:28rem}@media (max-width: 991.98px){.transaction[_ngcontent-%COMP%]{width:100%}}.copy[_ngcontent-%COMP%]{cursor:copy}.qr-container[_ngcontent-%COMP%]{min-width:176px}@media (max-width: 767.98px){.qr-container[_ngcontent-%COMP%]{width:100%!important}}cw-crypto-explorer-btn[_ngcontent-%COMP%]{margin-left:8rem}"],changeDetection:0}),H=(0,t.gn)([(0,a.c)(),(0,t.w6)("design:paramtypes",[n.UsA,u.t,n.KDu])],H)},12341:(st,k,o)=>{o.d(k,{r:()=>F});var t=o(54004),n=o(75424),a=o(39478),d=o(60508);const v=a.Ps`
  query ViewTransaction($id: ID, $externalId: ID) {
    transaction(id: $id, externalId: $externalId) {
      ...UserTransaction
    }
  }

  ${d.d6}
  ${d.Oz}
  ${d.Ob}
  ${n.userBadgeFragment}
`;var g=o(5e3),b=o(13302),Q=o(48966),s=o(20820),i=o(69808),K=o(27244),$=o(20773);function u(O,e){if(1&O){const A=g.EpF();g.TgZ(0,"cw-transaction",6),g.NdJ("retry",function(){return g.CHM(A),g.oxw(2).onClose()}),g.qZA()}if(2&O){const A=g.oxw().$implicit;g.Q6J("transaction",A)}}function _(O,e){1&O&&(g.TgZ(0,"span",7),g._uU(1,"Transaction not found"),g.qZA())}function w(O,e){if(1&O&&(g.TgZ(0,"mat-dialog-content"),g.YNc(1,u,1,1,"cw-transaction",4),g.YNc(2,_,2,0,"ng-template",null,5,g.W1O),g.qZA()),2&O){const A=e.$implicit,m=g.MAs(3);g.xp6(1),g.Q6J("ngIf",A)("ngIfElse",m)}}function B(O,e){1&O&&g._UZ(0,"mat-spinner",8),2&O&&g.Q6J("diameter",18)}let F=(()=>{class O{constructor(A,m){this.apollo=A,this.dialogRef=m}ngOnInit(){this.transaction$=this.apollo.watchQuery({query:v,variables:{id:this.id,externalId:this.externalId}}).valueChanges.pipe((0,t.U)(({data:m})=>m.transaction))}onClose(){this.dialogRef.close()}}return O.\u0275fac=function(A){return new(A||O)(g.Y36(b._M),g.Y36(Q.so))},O.\u0275cmp=g.Xpm({type:O,selectors:[["cw-transaction-modal"]],inputs:{id:"id",externalId:"externalId"},decls:5,vars:2,consts:function(){let e;return e=$localize`:␟8908fa93e778daa36801717c1a497c5878b23b48␟5120871002914089328:TRANSACTION`,[["mat-dialog-title",""],e,[4,"rxLet","rxLetRxSuspense"],["suspense",""],[3,"transaction","retry",4,"ngIf","ngIfElse"],["emptyTpl",""],[3,"transaction","retry"],[1,"text-danger"],[1,"mx-auto",3,"diameter"]]},template:function(A,m){if(1&A&&(g.TgZ(0,"h5",0),g.SDv(1,1),g.qZA(),g.YNc(2,w,4,2,"mat-dialog-content",2),g.YNc(3,B,1,1,"ng-template",null,3,g.W1O)),2&A){const P=g.MAs(4);g.xp6(2),g.Q6J("rxLet",m.transaction$)("rxLetRxSuspense",P)}},directives:[Q.uh,s.e,Q.xY,i.O5,K.A,$.$g],styles:[".modal-body[_ngcontent-%COMP%]{text-align:center}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem}"],changeDetection:0}),O})()},86614:(st,k,o)=>{o.d(k,{Z:()=>tt});var t=o(70655),n=o(5e3),a=o(48966),d=o(23600),v=o(97443),g=o(45990),b=o(77468),Q=o(44987),s=o(13302),i=o(61135),K=o(13099),$=o(95698),u=o(28746),_=o(11365),w=o(99849),B=o(38042),F=o(51697),O=o(63816),e=o(92628),A=o(85551),m=o(12341),P=o(94861),D=o(88279),J=o(35826),h=o(4807),N=o(78644),Z=o(6908),V=o(77093),G=o(69808),it=o(1094),ct=o(89847),pt=o(20820),Tt=o(20975),ft=o(47423),x=o(52624),H=o(79586),f=o(17150),R=o(81929),Y=o(29016);function c(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"ID"),n.qZA())}function T(l,M){if(1&l&&(n.TgZ(0,"td",34),n._UZ(1,"cw-id-field",35),n.qZA()),2&l){const r=M.$implicit;n.xp6(1),n.Q6J("id",r.id)}}function p(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"External ID"),n.qZA())}function y(l,M){if(1&l&&(n.TgZ(0,"td",36),n._uU(1),n.qZA()),2&l){const r=M.$implicit;n.xp6(1),n.Oqu(r.externalId)}}function j(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"IP Address"),n.qZA())}function at(l,M){if(1&l&&(n.TgZ(0,"td",37),n._uU(1),n.qZA()),2&l){const r=M.$implicit;n.xp6(1),n.Oqu(r.ipAddress)}}function lt(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"User"),n.qZA())}function ot(l,M){if(1&l&&(n.TgZ(0,"td",38),n._UZ(1,"cw-username-row-view",39),n.qZA()),2&l){const r=M.$implicit;n.xp6(1),n.Q6J("user",r.user)("link",!0)}}function At(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"Created"),n.qZA())}function et(l,M){if(1&l&&(n.TgZ(0,"td",40),n.TgZ(1,"div",41),n.TgZ(2,"div"),n._uU(3),n.ALo(4,"date"),n.qZA(),n.TgZ(5,"small"),n._uU(6),n.ALo(7,"date"),n.qZA(),n.qZA(),n.qZA()),2&l){const r=M.$implicit;n.xp6(3),n.Oqu(n.xi3(4,2,r.createdAt,"mediumDate")),n.xp6(3),n.Oqu(n.xi3(7,5,r.createdAt,"mediumTime"))}}function U(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"Updated"),n.qZA())}function L(l,M){if(1&l&&(n.TgZ(0,"td",42),n.TgZ(1,"div",41),n.TgZ(2,"div"),n._uU(3),n.ALo(4,"date"),n.qZA(),n.TgZ(5,"small"),n._uU(6),n.ALo(7,"date"),n.qZA(),n.qZA(),n.qZA()),2&l){const r=M.$implicit;n.xp6(3),n.Oqu(n.xi3(4,2,r.updatedAt,"mediumDate")),n.xp6(3),n.Oqu(n.xi3(7,5,r.updatedAt,"mediumTime"))}}function S(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"Provider"),n.qZA())}function _t(l,M){if(1&l&&(n.ynx(0),n._uU(1),n.BQk()),2&l){const r=n.oxw().$implicit;n.xp6(1),n.Oqu(r.method)}}function ut(l,M){if(1&l&&(n.ynx(0),n._uU(1),n.ALo(2,"enumTitlecase"),n.BQk()),2&l){const r=n.oxw().$implicit;n.xp6(1),n.hij(" (",n.lcZ(2,1,r.provider),")")}}function Mt(l,M){if(1&l&&(n.TgZ(0,"td",43),n.TgZ(1,"span"),n._uU(2),n.YNc(3,_t,2,1,"ng-container",44),n.YNc(4,ut,3,3,"ng-container",45),n.qZA(),n.qZA()),2&l){const r=M.$implicit,W=n.oxw();n.xp6(2),n.hij(" ",r.provider," "),n.xp6(1),n.Q6J("ngIf",r.method),n.xp6(1),n.Q6J("cwRoleIf",W.UserRole.MANAGER)}}function Ot(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"Amount"),n.qZA())}function St(l,M){if(1&l&&(n.ynx(0),n._uU(1," + "),n._UZ(2,"cw-pretty-balance",47),n.BQk()),2&l){const r=n.oxw().$implicit;n.xp6(2),n.Q6J("balance",r.bonusAmount)("currency",r.currency)}}function Nt(l,M){if(1&l&&(n.TgZ(0,"td",46),n._UZ(1,"cw-pretty-balance",47),n.YNc(2,St,3,2,"ng-container",44),n.qZA()),2&l){const r=M.$implicit;n.xp6(1),n.Q6J("balance",r.amount)("currency",r.currency),n.xp6(1),n.Q6J("ngIf",r.bonusAmount>0)}}function Pt(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"Type"),n.qZA())}function ht(l,M){if(1&l&&(n.TgZ(0,"td",48),n.TgZ(1,"span"),n._uU(2),n.ALo(3,"enumTitlecase"),n.qZA(),n.qZA()),2&l){const r=M.$implicit;n.ekj("text-success","DEPOSIT"==r.type)("text-danger","WITHDRAWAL"==r.type),n.xp6(2),n.Oqu(n.lcZ(3,5,r.type))}}function nt(l,M){1&l&&(n.TgZ(0,"th",33),n._uU(1,"Status"),n.qZA())}function xt(l,M){if(1&l&&(n.TgZ(0,"td",49),n.TgZ(1,"span"),n._uU(2),n.ALo(3,"enumTitlecase"),n.qZA(),n.qZA()),2&l){const r=M.$implicit,W=n.oxw();n.ekj("text-success","COMPLETED"==r.status)("text-warning",r.status==W.TransactionStatus.PRE_APPROVAL)("text-danger","FAILED"==r.status),n.xp6(2),n.Oqu(n.lcZ(3,7,r.status))}}function Ct(l,M){1&l&&(n.TgZ(0,"th",50),n.SDv(1,51),n.qZA())}function It(l,M){if(1&l){const r=n.EpF();n.TgZ(0,"button",59),n.NdJ("cwConfirmClick",function(z){n.CHM(r);const dt=n.oxw(4).$implicit,mt=n.oxw();return z&&mt.setStatus(dt,mt.TransactionStatus.FAILED)}),n.tHW(1,60),n._UZ(2,"cw-loader",61),n.N_p(),n.qZA()}if(2&l){const r=n.oxw(3).$implicit,W=n.oxw().$implicit,z=n.oxw();n.Q6J("disabled",!!r[0]),n.xp6(2),n.Q6J("loading",r[0]===W&&r[1]===z.TransactionStatus.FAILED)}}function vt(l,M){if(1&l){const r=n.EpF();n.TgZ(0,"button",62),n.NdJ("cwConfirmClick",function(z){n.CHM(r);const dt=n.oxw(4).$implicit,mt=n.oxw();return z&&mt.setStatus(dt,mt.TransactionStatus.COMPLETED)}),n.tHW(1,63),n._UZ(2,"cw-loader",61),n.N_p(),n.qZA()}if(2&l){const r=n.oxw(3).$implicit,W=n.oxw().$implicit,z=n.oxw();n.Q6J("disabled",!!r[0]),n.xp6(2),n.Q6J("loading",r[0]===W&&r[1]===z.TransactionStatus.COMPLETED)}}const Dt=function(l,M){return[l,M]};function Et(l,M){if(1&l&&(n.ynx(0),n.YNc(1,It,3,2,"button",57),n.YNc(2,vt,3,2,"button",58),n.BQk()),2&l){const r=n.oxw(3).$implicit,W=n.oxw();n.xp6(1),n.Q6J("ngIf",!n.WLB(2,Dt,W.TransactionStatus.FAILED,W.TransactionStatus.PRE_APPROVAL).includes(r.status)),n.xp6(1),n.Q6J("ngIf",!n.WLB(5,Dt,W.TransactionStatus.COMPLETED,W.TransactionStatus.PRE_APPROVAL).includes(r.status))}}function E(l,M){if(1&l&&(n.ynx(0),n.YNc(1,Et,3,8,"ng-container",44),n.BQk()),2&l){const r=n.oxw(2).$implicit,W=n.oxw();n.xp6(1),n.Q6J("ngIf",W.canUpdateTransaction(r))}}function I(l,M){if(1&l){const r=n.EpF();n.TgZ(0,"button",62),n.NdJ("cwConfirmClick",function(z){n.CHM(r);const dt=n.oxw(3).$implicit,mt=n.oxw();return z&&mt.preApprove(dt,!0)}),n.tHW(1,64),n._UZ(2,"cw-loader",61),n.N_p(),n.qZA()}if(2&l){const r=n.oxw(2).$implicit,W=n.oxw().$implicit,z=n.oxw();n.Q6J("disabled",!!r[0]),n.xp6(2),n.Q6J("loading",r[0]===W&&r[1]===z.TransactionStatus.PRE_APPROVAL&&r[2])}}function C(l,M){if(1&l){const r=n.EpF();n.TgZ(0,"button",59),n.NdJ("cwConfirmClick",function(z){n.CHM(r);const dt=n.oxw(3).$implicit,mt=n.oxw();return z&&mt.preApprove(dt,!1)}),n.tHW(1,65),n._UZ(2,"cw-loader",61),n.N_p(),n.qZA()}if(2&l){const r=n.oxw(2).$implicit,W=n.oxw().$implicit,z=n.oxw();n.Q6J("disabled",!!r[0]),n.xp6(2),n.Q6J("loading",r[0]===W&&r[1]===z.TransactionStatus.PRE_APPROVAL&&!r[2])}}function X(l,M){if(1&l&&(n.ynx(0),n.YNc(1,I,3,2,"button",58),n.YNc(2,C,3,2,"button",57),n.BQk()),2&l){const r=n.oxw(2).$implicit,W=n.oxw();n.xp6(1),n.Q6J("ngIf",r.status===W.TransactionStatus.PRE_APPROVAL),n.xp6(1),n.Q6J("ngIf",r.status===W.TransactionStatus.PRE_APPROVAL)}}function q(l,M){if(1&l){const r=n.EpF();n.TgZ(0,"div",54),n.TgZ(1,"button",55),n.NdJ("click",function(){n.CHM(r);const z=n.oxw().$implicit;return n.oxw().openTransactionModal(z.id)}),n.SDv(2,56),n.qZA(),n.YNc(3,E,2,1,"ng-container",45),n.YNc(4,X,3,2,"ng-container",45),n.qZA()}if(2&l){const r=n.oxw(2);n.xp6(3),n.Q6J("cwRoleIf",r.UserRole.RISK_FRAUD),n.xp6(1),n.Q6J("cwRoleIf",r.UserRole.SUPPORT_PLUS)}}function rt(l,M){if(1&l&&(n.TgZ(0,"td",52),n.YNc(1,q,5,2,"div",53),n.qZA()),2&l){const r=n.oxw();n.xp6(1),n.Q6J("rxLet",r.updatingStatus$)}}function gt(l,M){1&l&&n._UZ(0,"tr",66)}function Rt(l,M){1&l&&n._UZ(0,"tr",67)}let tt=class extends b.p{constructor(M,r,W,z,dt,mt){super(M,r),this.apollo=W,this.dialog=z,this.userService=dt,this.paymentService=mt,this.userId="",this.managerRoles=["MANAGER"],this.availableColumns=["id","createdAt","provider","amount","status","actions","type","updatedAt","settings"],this.initialFilters={orderBy:O.S.CREATED_AT_DESC,minDate:(0,d.I98)()[4].value.minDate},this.filters=this.initialFilters,this.today=new Date,this.updatingStatus=new i.X([null,null]),this.updatingStatus$=this.updatingStatus.asObservable(),this.settingStatus=[null,null],this.isManagerRole=!1,this.TransactionStatus=e.L,this.UserRole=v.i;const yt=()=>!!this.userId||!this.isManagerRole;this.fields=[{key:"transactionId",type:"input",hideExpression:yt,templateOptions:{label:"Transaction ID"}},{key:"externalId",type:"input",hideExpression:yt,templateOptions:{label:"External ID"}},{key:"userId",type:"input",hideExpression:yt,templateOptions:{label:"User ID"}},{key:"orderBy",type:"select",hideExpression:yt,templateOptions:{label:"Order By",options:(0,g.XJ)(Object.values(O.S))}},{key:"statuses",type:"select",hideExpression:yt,templateOptions:{label:"Statuses",options:(0,g.XJ)(Object.values(e.L))}},{key:"types",type:"select",templateOptions:{label:"Types",options:(0,g.XJ)(Object.values(A.i))}},{key:"provider",type:"select",hideExpression:yt,templateOptions:{label:"Provider",options:(0,g.XJ)(Object.values(w.O))}},{key:"minDate",type:"datepicker",templateOptions:{label:"Min Date"}},{key:"maxDate",type:"datepicker",templateOptions:{label:"Max Date"}}]}ngOnInit(){super.ngOnInit(),this.dataSource=new d.g3E(this.apollo,{query:F.A,field:"transactions",variables:Object.assign(Object.assign({},this.getVariables()),this.initialFilters)}),this.data$=this.dataSource.connect().pipe((0,K.B)()),this.userService.user$.pipe((0,$.q)(1)).subscribe(({roles:M})=>{this.isManagerRole=!!M.some(r=>this.managerRoles.includes(r)),this.userId||this.availableColumns.splice(1,0,"user"),M.includes(v.i.RISK_FRAUD)&&this.availableColumns.splice(1,0,"externalId","ipAddress"),this.setupColumns(this.availableColumns)})}filter(){const{transactionId:M,externalId:r}=this.form.value;M||r?this.openTransactionModal(M,r):this.dataSource.filter(this.getVariables())}openTransactionModal(M,r){const W=this.dialog.open(m.r);W.componentInstance.id=M||null,W.componentInstance.externalId=r||null}setStatus(M,r){this.updatingStatus.next([M,r]),this.paymentService.updateTransaction({transactionId:M.id,status:r}).pipe((0,Q.t)(this),(0,u.x)(()=>{this.updatingStatus.next([null,null])})).subscribe()}canUpdateTransaction(M){const r=new Date;return r.setDate(r.getDate()-14),new Date(M.createdAt)>=r}preApprove(M,r){this.updatingStatus.next([M,e.L.PRE_APPROVAL,r]),this.paymentService.preApproveTransaction({approved:r,transactionId:M.id}).pipe((0,Q.t)(this),(0,u.x)(()=>this.updatingStatus.next([null,null])),(0,_.M)(this.dataSource.queryRef.valueChanges)).subscribe(([W,z])=>{this.apollo.client.writeQuery({data:Object.assign(Object.assign({},z.data),{transactions:Object.assign(Object.assign({},z.data.transactions),{edges:z.data.transactions.edges.map(({node:dt})=>dt.id!==W.id?dt:Object.assign(Object.assign({},dt),{status:W.status}))})}),query:F.A,variables:this.getVariables()})})}getVariables(){var M;const r=this.form.value;return Object.assign(Object.assign(Object.assign({first:d.UZ,includeUser:!this.userId,userId:this.userId},r),(0,d.sic)(r)),{statuses:(null===(M=r.statuses)||void 0===M?void 0:M.length)?r.statuses:void 0})}};tt.\u0275fac=function(M){return new(M||tt)(n.Y36(n.SBq),n.Y36(d.mix),n.Y36(s._M),n.Y36(a.uw),n.Y36(d.KDu),n.Y36(B.t))},tt.\u0275cmp=n.Xpm({type:tt,selectors:[["cw-transaction-table"]],inputs:{userId:"userId"},features:[n.qOj],decls:51,vars:35,consts:function(){let l,M,r,W,z,dt;return l=$localize`:␟030b4423b92167200e39519599f9b863b4f7c62c␟3193976279273491157:Actions`,M=$localize`:␟6829218544e108e152f5fa72cb79c4ccb82e0d06␟2509141182388535183:View`,r=$localize`:␟04a8a9e5e003f74c5dfb4d160dfbe58be8738847␟5518596991493514814:${"\ufffd#2\ufffd"}:START_TAG_CW_LOADER:Fail ${"\ufffd/#2\ufffd"}:CLOSE_TAG_CW_LOADER:`,W=$localize`:␟a61004093ef4f007e3827073ea38b6e9c83932f4␟5328685431123978547:${"\ufffd#2\ufffd"}:START_TAG_CW_LOADER:Complete ${"\ufffd/#2\ufffd"}:CLOSE_TAG_CW_LOADER:`,z=$localize`:␟a4dc5d59b3d5682d032bf27ad4c7f2afb8fe36a4␟5712924647132251725:${"\ufffd#2\ufffd"}:START_TAG_CW_LOADER:Approve ${"\ufffd/#2\ufffd"}:CLOSE_TAG_CW_LOADER:`,dt=$localize`:␟e42d7a32d473a4da45ba2af9f2fb787e8eb21f1c␟8205868972835557224:${"\ufffd#2\ufffd"}:START_TAG_CW_LOADER:Unapprove (Fail) ${"\ufffd/#2\ufffd"}:CLOSE_TAG_CW_LOADER:`,[[1,"card"],[1,"card-body"],[3,"showFilters","identity","form","fields","model","loading","canSaveRoles","modelChange","toggleFilters"],[1,"scrollable-table-wrapper"],["mat-table","",1,"w-100","table-horizontal-mobile",3,"dataSource","trackBy"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","data-label","ID",4,"matCellDef"],["matColumnDef","externalId"],["mat-cell","","data-label","External ID",4,"matCellDef"],["matColumnDef","ipAddress"],["mat-cell","","data-label","ID Address",4,"matCellDef"],["matColumnDef","user"],["mat-cell","","data-label","User",4,"matCellDef"],["matColumnDef","createdAt"],["mat-cell","","data-label","Created",4,"matCellDef"],["matColumnDef","updatedAt"],["mat-cell","","data-label","Updated",4,"matCellDef"],["matColumnDef","provider"],["mat-cell","","data-label","Provider",4,"matCellDef"],["matColumnDef","amount"],["mat-cell","","data-label","Amount",4,"matCellDef"],["matColumnDef","type"],["mat-cell","","data-label","Type",3,"text-success","text-danger",4,"matCellDef"],["matColumnDef","status"],["mat-cell","","data-label","Status",3,"text-success","text-warning","text-danger",4,"matCellDef"],["matColumnDef","actions"],["class","actions","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","data-label","Actions",4,"matCellDef"],[3,"columns","columnsChange"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"dataSource","loading","data"],["mat-header-cell",""],["mat-cell","","data-label","ID"],[3,"id"],["mat-cell","","data-label","External ID"],["mat-cell","","data-label","ID Address"],["mat-cell","","data-label","User"],[1,"username-row-view",3,"user","link"],["mat-cell","","data-label","Created"],["fxLayout.lt-sm","","fxLayoutAlign.lt-sm","center","fxLayoutGap.lt-sm","0.5rem"],["mat-cell","","data-label","Updated"],["mat-cell","","data-label","Provider"],[4,"ngIf"],[4,"cwRoleIf"],["mat-cell","","data-label","Amount"],[3,"balance","currency"],["mat-cell","","data-label","Type"],["mat-cell","","data-label","Status"],["mat-header-cell","",1,"actions"],l,["mat-cell","","data-label","Actions"],["fxLayout","","fxLayoutAlign.lt-md","center","fxLayoutGap","0.5rem",4,"rxLet"],["fxLayout","","fxLayoutAlign.lt-md","center","fxLayoutGap","0.5rem"],["type","button","mat-flat-button","","color","primary",3,"click"],M,["type","button","mat-flat-button","","color","warn",3,"disabled","cwConfirmClick",4,"ngIf"],["type","button","mat-flat-button","","color","accent",3,"disabled","cwConfirmClick",4,"ngIf"],["type","button","mat-flat-button","","color","warn",3,"disabled","cwConfirmClick"],r,[3,"loading"],["type","button","mat-flat-button","","color","accent",3,"disabled","cwConfirmClick"],W,z,dt,["mat-header-row",""],["mat-row",""]]},template:function(M,r){1&M&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"cw-table-filters",2),n.NdJ("modelChange",function(z){return r.filters=z})("toggleFilters",function(){return r.toggleFilters()}),n.ALo(3,"push"),n.qZA(),n.TgZ(4,"div",3),n.TgZ(5,"table",4),n.ALo(6,"push"),n.ynx(7,5),n.YNc(8,c,2,0,"th",6),n.YNc(9,T,2,1,"td",7),n.BQk(),n.ynx(10,8),n.YNc(11,p,2,0,"th",6),n.YNc(12,y,2,1,"td",9),n.BQk(),n.ynx(13,10),n.ynx(14),n.YNc(15,j,2,0,"th",6),n.YNc(16,at,2,1,"td",11),n.BQk(),n.BQk(),n.ynx(17,12),n.YNc(18,lt,2,0,"th",6),n.YNc(19,ot,2,2,"td",13),n.BQk(),n.ynx(20,14),n.YNc(21,At,2,0,"th",6),n.YNc(22,et,8,8,"td",15),n.BQk(),n.ynx(23,16),n.YNc(24,U,2,0,"th",6),n.YNc(25,L,8,8,"td",17),n.BQk(),n.ynx(26,18),n.YNc(27,S,2,0,"th",6),n.YNc(28,Mt,5,3,"td",19),n.BQk(),n.ynx(29,20),n.YNc(30,Ot,2,0,"th",6),n.YNc(31,Nt,3,3,"td",21),n.BQk(),n.ynx(32,22),n.YNc(33,Pt,2,0,"th",6),n.YNc(34,ht,4,7,"td",23),n.BQk(),n.ynx(35,24),n.YNc(36,nt,2,0,"th",6),n.YNc(37,xt,4,9,"td",25),n.BQk(),n.ynx(38,26),n.YNc(39,Ct,2,0,"th",27),n.YNc(40,rt,2,1,"td",28),n.BQk(),n.TgZ(41,"cw-table-settings",29),n.NdJ("columnsChange",function(z){return r.updateColumns(z)}),n.qZA(),n.YNc(42,gt,1,0,"tr",30),n.ALo(43,"pluck"),n.ALo(44,"truthy"),n.YNc(45,Rt,1,0,"tr",31),n.ALo(46,"pluck"),n.ALo(47,"truthy"),n.qZA(),n.qZA(),n._UZ(48,"cw-table-footer",32),n.ALo(49,"push"),n.ALo(50,"push"),n.qZA(),n.qZA()),2&M&&(n.xp6(2),n.Q6J("showFilters",r.showFilters)("identity",r.tableName)("form",r.form)("fields",r.fields)("model",r.filters)("loading",n.lcZ(3,15,r.dataSource.loading$))("canSaveRoles",r.managerRoles),n.xp6(3),n.Q6J("dataSource",n.lcZ(6,17,r.data$))("trackBy",r.trackById),n.xp6(36),n.Q6J("columns",r.visibleColumns),n.xp6(1),n.Q6J("matHeaderRowDef",n.xi3(43,19,n.xi3(44,22,r.visibleColumns,"enabled"),"key")),n.xp6(3),n.Q6J("matRowDefColumns",n.xi3(46,25,n.xi3(47,28,r.visibleColumns,"enabled"),"key")),n.xp6(3),n.Q6J("dataSource",r.dataSource)("loading",n.lcZ(49,31,r.dataSource.loading$))("data",n.lcZ(50,33,r.data$)))},directives:[P.$,D.BZ,D.w1,D.fO,D.Dz,J.R,D.as,D.nj,h.G,D.ge,D.ev,N.m,Z.M,V.xw,V.Wh,V.SQ,G.O5,it.P,ct.q,pt.e,ft.lW,x.R,H.R,D.XQ,D.Gk],pipes:[Tt.f,f.F,R.R,G.uU,Y.X],styles:[".cdk-column-externalId[_ngcontent-%COMP%], .cdk-column-ipAddress[_ngcontent-%COMP%]{max-width:200px}.card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{padding-bottom:1.34375em}.card-body[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.transactions-filter-btn[_ngcontent-%COMP%]{margin-top:0}.actions[_ngcontent-%COMP%]{width:384px}"],changeDetection:0}),tt=(0,t.gn)([(0,Q.c)(),(0,t.w6)("design:paramtypes",[n.SBq,d.mix,s._M,a.uw,d.KDu,B.t])],tt)},27244:(st,k,o)=>{o.d(k,{A:()=>ft});var t=o(5e3),n=o(97443),a=o(69808),d=o(77093),v=o(31495),g=o(96298),b=o(89847),Q=o(1094),s=o(90927),i=o(35357),K=o(34875),$=o(3004);function u(x,H){if(1&x&&(t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t._UZ(3,"cw-icon",7),t.qZA(),t.TgZ(4,"div",8),t._UZ(5,"cw-pretty-balance",9),t.TgZ(6,"p",10),t.SDv(7,11),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&x){const f=t.oxw(2);t.xp6(5),t.Q6J("balance",f.transaction.amount)("currency",f.transaction.currency)}}function _(x,H){if(1&x&&(t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t._UZ(3,"cw-icon",12),t.qZA(),t.TgZ(4,"div",8),t._UZ(5,"cw-pretty-balance",9),t.TgZ(6,"p",10),t.SDv(7,13),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&x){const f=t.oxw(2);t.xp6(5),t.Q6J("balance",f.transaction.amount)("currency",f.transaction.currency)}}function w(x,H){if(1&x&&(t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t._UZ(3,"cw-icon",14),t.qZA(),t.TgZ(4,"div",8),t._UZ(5,"cw-pretty-balance",9),t.TgZ(6,"p",10),t.SDv(7,15),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&x){const f=t.oxw(2);t.xp6(5),t.Q6J("balance",f.transaction.amount)("currency",f.transaction.currency)}}function B(x,H){if(1&x&&(t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t._UZ(3,"cw-icon",14),t.qZA(),t.TgZ(4,"div",8),t._UZ(5,"cw-pretty-balance",9),t.TgZ(6,"p",10),t.SDv(7,16),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&x){const f=t.oxw(2);t.xp6(5),t.Q6J("balance",f.transaction.amount)("currency",f.transaction.currency)}}function F(x,H){if(1&x&&(t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t._UZ(3,"cw-icon",17),t.qZA(),t.TgZ(4,"div",8),t._UZ(5,"cw-pretty-balance",9),t.TgZ(6,"p",10),t.SDv(7,18),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&x){const f=t.oxw(2);t.xp6(5),t.Q6J("balance",f.transaction.amount)("currency",f.transaction.currency)}}function O(x,H){if(1&x&&(t.ynx(0),t.TgZ(1,"div",5),t.TgZ(2,"div",6),t._UZ(3,"cw-icon",12),t.qZA(),t.TgZ(4,"div",8),t._UZ(5,"cw-pretty-balance",9),t.TgZ(6,"p",10),t.tHW(7,19),t._UZ(8,"br"),t._UZ(9,"a",20),t.N_p(),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&x){const f=t.oxw(2);t.xp6(5),t.Q6J("balance",f.transaction.amount)("currency",f.transaction.currency)}}function e(x,H){1&x&&t.GkF(0)}const A=function(x){return{$implicit:x}};function m(x,H){if(1&x&&(t.ynx(0),t.ynx(1,2),t.YNc(2,u,8,2,"ng-container",3),t.YNc(3,_,8,2,"ng-container",3),t.YNc(4,w,8,2,"ng-container",3),t.YNc(5,B,8,2,"ng-container",3),t.YNc(6,F,8,2,"ng-container",3),t.YNc(7,O,10,2,"ng-container",3),t.BQk(),t.YNc(8,e,1,0,"ng-container",4),t.BQk()),2&x){const f=t.oxw(),R=t.MAs(2);t.xp6(1),t.Q6J("ngSwitch",f.transaction.status),t.xp6(1),t.Q6J("ngSwitchCase","STARTED"),t.xp6(1),t.Q6J("ngSwitchCase","PENDING"),t.xp6(1),t.Q6J("ngSwitchCase","CANCELED"),t.xp6(1),t.Q6J("ngSwitchCase","FAILED"),t.xp6(1),t.Q6J("ngSwitchCase","COMPLETED"),t.xp6(1),t.Q6J("ngSwitchCase","PENDING_APPROVAL"),t.xp6(1),t.Q6J("ngTemplateOutlet",R)("ngTemplateOutletContext",t.VKq(9,A,f.transaction))}}function P(x,H){if(1&x&&(t.ynx(0),t.TgZ(1,"div",31),t.TgZ(2,"b",32),t._uU(3,"External ID:"),t.qZA(),t.TgZ(4,"pre"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",31),t.TgZ(7,"b",32),t._uU(8,"IP Address:"),t.qZA(),t.TgZ(9,"pre"),t._uU(10),t.qZA(),t.qZA(),t.BQk()),2&x){const f=t.oxw().$implicit;t.xp6(5),t.Oqu(f.externalId),t.xp6(5),t.Oqu(f.ipAddress)}}function D(x,H){if(1&x&&(t.ynx(0),t._UZ(1,"cw-transaction-crypto-details",33),t.BQk()),2&x){const f=t.oxw().$implicit;t.xp6(1),t.Q6J("transaction",f)}}const J=function(){return["/top-up"]};function h(x,H){if(1&x){const f=t.EpF();t.TgZ(0,"div",35),t.tHW(1,36),t.TgZ(2,"a",37),t.NdJ("click",function(){return t.CHM(f),t.oxw(3).retry.next()}),t.qZA(),t.N_p(),t.qZA()}2&x&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,J)))}const N=function(){return["STARTED","PENDING"]};function Z(x,H){if(1&x&&(t.ynx(0),t.YNc(1,h,3,2,"div",34),t.BQk()),2&x){const f=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",t.DdM(1,N).includes(f.status))}}function V(x,H){1&x&&t.GkF(0)}function G(x,H){1&x&&(t.TgZ(0,"div",35),t.tHW(1,38),t._UZ(2,"a",39),t.N_p(),t.qZA())}const it=function(){return["COMPLETED","STARTED"]};function ct(x,H){if(1&x&&(t.ynx(0),t.YNc(1,G,3,0,"div",34),t.BQk()),2&x){const f=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",!t.DdM(1,it).includes(f.status))}}function pt(x,H){if(1&x&&(t.ynx(0),t._UZ(1,"hr"),t._UZ(2,"cw-user-badge",40),t.BQk()),2&x){const f=t.oxw().$implicit;t.xp6(2),t.Q6J("user",f.user)("showLevel",!1)}}function Tt(x,H){if(1&x&&(t.TgZ(0,"div"),t.YNc(1,P,11,2,"ng-container",21),t.TgZ(2,"div",22),t.SDv(3,23),t.qZA(),t.TgZ(4,"div",24),t._UZ(5,"div"),t.ALo(6,"lowercase"),t.ALo(7,"slugify"),t.ALo(8,"lowercase"),t.ALo(9,"slugify"),t.qZA(),t.qZA(),t.ynx(10,25),t.YNc(11,D,2,1,"ng-container",3),t.YNc(12,Z,2,2,"ng-container",3),t.YNc(13,V,1,0,"ng-container",3),t.YNc(14,ct,2,2,"ng-container",3),t.BQk(),t.TgZ(15,"div",26),t.TgZ(16,"section",27),t.TgZ(17,"div",28),t.SDv(18,29),t.qZA(),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"section",27),t.TgZ(22,"div",28),t.SDv(23,30),t.qZA(),t._uU(24),t.ALo(25,"date"),t.qZA(),t.qZA(),t.YNc(26,pt,3,2,"ng-container",21)),2&x){const f=H.$implicit,R=t.oxw();t.xp6(1),t.Q6J("cwRoleIf",R.UserRole.MANAGER),t.xp6(4),t.MT6("payment-icon ",t.lcZ(6,13,t.lcZ(7,15,f.provider))," ",t.lcZ(8,17,t.lcZ(9,19,f.method)),""),t.xp6(5),t.Q6J("ngSwitch",f.provider),t.xp6(1),t.Q6J("ngSwitchCase","COINS_PAID"),t.xp6(1),t.Q6J("ngSwitchCase","WONDERLAND_PAY"),t.xp6(1),t.Q6J("ngSwitchCase","COIN_GATE"),t.xp6(1),t.Q6J("ngSwitchCase","IPS"),t.xp6(5),t.hij(" ",t.xi3(20,21,f.createdAt,"medium")," "),t.xp6(5),t.hij(" ",t.xi3(25,24,f.updatedAt,"medium")," "),t.xp6(2),t.Q6J("cwRoleIf",R.UserRole.MODERATOR)}}let ft=(()=>{class x{constructor(){this.UserRole=n.i,this.retry=new t.vpe}}return x.\u0275fac=function(f){return new(f||x)},x.\u0275cmp=t.Xpm({type:x,selectors:[["cw-transaction"]],inputs:{transaction:"transaction"},outputs:{retry:"retry"},decls:3,vars:1,consts:function(){let H,f,R,Y,c,T,p,y,j,at,lt;return H=$localize`:␟62f5354f7c755451a9c05ccbe080512f0b9b9dea␟5269785629931394513:Transaction has been created. You may need to provide additional steps.`,f=$localize`:␟ea3b8bd15e9d8a743d5c86cc8ae427cb27a245e0␟7002916206232209494:Transaction is pending. You may need to provide additional steps.`,R=$localize`:␟07f5ed8220ec755091a4c1e19b8156bf53b6cb0e␟505240119516182420:Transaction was cancelled and no funds have been added to your account.`,Y=$localize`:␟26f4ae3f2c3beb7edfb289870f3c6b1a6de0bf24␟4861253767999929008:Transaction was cancelled or has failed and no funds have been added to your account.`,c=$localize`:␟1756b1ef3d452e07dbf94801317450de4af1c20b␟1339007562521455679:Transaction is complete. Your account has been credited with additional funds.`,T=$localize`:␟1edde2b7a4b33dcacd51c299b5e09b5db58bd6a0␟44685432567978745: Transaction is pending approval. Your account will be soon credited with additional funds.${"\ufffd#8\ufffd\ufffd/#8\ufffd"}:LINE_BREAK: If transaction is not approved after 24 hours, please contact our ${"\ufffd#9\ufffd"}:START_LINK:support${"\ufffd/#9\ufffd"}:CLOSE_LINK:`,p=$localize`:␟a0c7e8516852d2b5888c8a00894acd60aad61317␟8864288285279476751:Method`,y=$localize`:␟1b051734b0ee9021991c91b3ed4e81c244322462␟4207916966377787111:Created`,j=$localize`:␟6916001fc405d2efe294dd6d8848be2748bf3c55␟4031190280739566335:Last updated`,at=$localize`:␟63e8b1834f1126839b902ee9494c01b4c8ed7064␟7323530331009228381: Transaction failed, please try again ${"\ufffd#2\ufffd"}:START_LINK:here${"\ufffd/#2\ufffd"}:CLOSE_LINK:`,lt=$localize`:␟adf01432a52f9cccaf04bada375158e69b9556b4␟7267468746413841128: Transaction declined. Your payment will be automatically cancelled/erased by your bank within 7 business days, if you have any questions please contact the acquirer at ${"\ufffd#2\ufffd"}:START_LINK:hello@ips-payment.com${"\ufffd/#2\ufffd"}:CLOSE_LINK:`,[[4,"ngIf"],["transactionInfo",""],[1,"transaction-info",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fxLayout","row","fxLayoutAlign","center start"],["fxFlex","6rem"],["inlineSVG","assets/icons/shield.svg",1,"nav-item-icon"],["fxFlex","100%"],[3,"balance","currency"],[1,"info-message"],H,["inlineSVG","assets/icons/clock-outline.svg",1,"nav-item-icon"],f,["inlineSVG","assets/icons/cancel.svg",1,"nav-item-icon"],R,Y,["inlineSVG","assets/icons/checked.svg",1,"nav-item-icon"],c,T,["href","/support","target","_blank",1,"text-weight-bold"],[4,"cwRoleIf"],[1,"font-weight-bold","mb-2","label"],p,[1,"provider"],[3,"ngSwitch"],["fxLayout","row",1,"dates"],["fxFlex","50%"],[1,"font-weight-bold","label"],y,j,[1,"mb-2"],[1,"label"],[3,"transaction"],["class","alert alert-warning payment-info",4,"ngIf"],[1,"alert","alert-warning","payment-info"],at,["routerLinkActive","active",1,"font-weight-bold",3,"routerLink","click"],lt,["href","mailto:hello@ips-payment.com","rel","noreferrer"],[3,"user","showLevel"]]},template:function(f,R){1&f&&(t.YNc(0,m,9,11,"ng-container",0),t.YNc(1,Tt,27,27,"ng-template",null,1,t.W1O)),2&f&&t.Q6J("ngIf",R.transaction)},directives:[a.O5,a.RF,a.n9,a.tP,d.xw,d.Wh,d.yH,v.o,g.d$,b.q,Q.P,s.q,i.yS,i.Od,K.f],pipes:[a.i8,$.N,a.uU],styles:[".provider[_ngcontent-%COMP%]{display:inline-block;border-radius:.5rem}cw-pretty-balance[_ngcontent-%COMP%]{font-size:1.5rem}.label[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--transaction-modal-label-color, var(--soft))}.info-message[_ngcontent-%COMP%]{font-size:.85rem;margin:.8rem 0}.nav-item-icon[_ngcontent-%COMP%]{width:4rem}.dates[_ngcontent-%COMP%]{background:var(--main-color-02);padding:.8rem}.payment-icon[_ngcontent-%COMP%]{width:8rem;height:3rem;display:block}.payment-info[_ngcontent-%COMP%]{margin-bottom:1rem}"],changeDetection:0}),x})()},77468:(st,k,o)=>{o.d(k,{p:()=>B,N:()=>b});var t=o(45990),v=(o(80924),o(94861),o(35826),o(5e3));let b=(()=>{class F{}return F.\u0275fac=function(e){return new(e||F)},F.\u0275mod=v.oAB({type:F}),F.\u0275inj=v.cJS({imports:[[t.vY]]}),F})();var Q=o(70655),s=o(93075),i=o(23600),K=o(93114),$=o(44987),u=o(35684),_=o(78372),w=o(71884);let B=class extends K.t{constructor(O,e){super(),this.platformService=e,this.showFilters=!0,this.form=new s.cw({}),this.fields=[],this.visibleColumns=[],this._columnsBlacklisted=[],this.tableName=O.nativeElement.tagName}get columnsBlacklisted(){return this._columnsBlacklisted}set columnsBlacklisted(O){this._columnsBlacklisted=O,this.updateColumns(this.visibleColumns.filter(e=>!O.includes(e.key)))}ngOnInit(){this.fields.length>0&&this.form.valueChanges.pipe((0,u.T)(1),(0,_.b)(275),(0,w.x)(),(0,$.t)(this)).subscribe(()=>this.updateFilters())}updateFilters(O=this.filters){this.platformService.localStorage.setItem(this.filterStorageKey,JSON.stringify(O)),this.filters=Object.assign({},O),this.filter()}filter(){}toggleFilters(){this.showFilters=!this.showFilters,this.platformService.localStorage.setItem(this.filtersExpandedStorageKey,`${this.showFilters}`)}setupColumns(O){const e=this.platformService.localStorage.getItem(this.columnsStorageKey),A=e?JSON.parse(e):[];this.visibleColumns=O.map(m=>{var P,D;const J=null===(D=null===(P=A.find(h=>h.key===m))||void 0===P?void 0:P.enabled)||void 0===D||D;return{key:m,enabled:J}}).filter(m=>!this.columnsBlacklisted.includes(m.key))}updateColumns(O){this.visibleColumns=O,this.platformService.localStorage.setItem(this.columnsStorageKey,JSON.stringify(O));const e=this.platformService.localStorage.getItem(this.filtersExpandedStorageKey);e&&(this.showFilters=JSON.parse(e));const A=this.platformService.localStorage.getItem(this.filterStorageKey);A&&(this.filters=JSON.parse(A))}get identity(){const O=this.visibleColumns.map(({key:e})=>e).join("");return`${this.tableName}:${(0,i.xY1)(O)}`}get columnsStorageKey(){return`${this.tableName}:columns`}get filtersExpandedStorageKey(){return`${this.identity}:filtersExpanded`}get filterStorageKey(){return`${this.identity}:filters`}};B.\u0275fac=function(O){return new(O||B)(v.Y36(v.SBq),v.Y36(i.mix))},B.\u0275cmp=v.Xpm({type:B,selectors:[["cw-filtered-table"]],inputs:{showFilters:"showFilters",columnsBlacklisted:"columnsBlacklisted"},features:[v.qOj],decls:0,vars:0,template:function(O,e){},encapsulation:2,changeDetection:0}),B=(0,Q.gn)([(0,$.c)(),(0,Q.w6)("design:paramtypes",[v.SBq,i.mix])],B)},80924:(st,k,o)=>{o.d(k,{E:()=>$});var t=o(5e3),n=o(93075),a=o(48966),d=o(69808),v=o(84946),g=o(47423),b=o(79586),Q=o(20975);function s(u,_){if(1&u&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&u){const w=t.oxw();t.xp6(1),t.Oqu(w.description)}}function i(u,_){if(1&u){const w=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){return t.CHM(w),t.oxw().secondaryActionEmit()}),t.ALo(1,"push"),t._uU(2),t.qZA()}if(2&u){const w=t.oxw();t.Q6J("disabled",t.lcZ(1,2,w.secondaryActionConfig.disabled$)),t.xp6(2),t.hij(" ",w.secondaryActionConfig.labelText," ")}}function K(u,_){if(1&u){const w=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(w),t.oxw().reset()}),t._uU(1,"Reset"),t.qZA()}}let $=(()=>{class u{constructor(w){this.dialogRef=w,this.form=new n.cw({}),this.submitText="Submit",this.fields=[],this.model={},this.submitting=!1,this.resetButtonEnabled=!1,this.submit=new t.vpe,this.secondaryAction=new t.vpe}ngOnDestroy(){this.submit.complete()}secondaryActionEmit(){this.secondaryAction.next()}onSubmit(){this.form.invalid||this.submit.next()}reset(){this.form.reset()}}return u.\u0275fac=function(w){return new(w||u)(t.Y36(a.so))},u.\u0275cmp=t.Xpm({type:u,selectors:[["cw-form-dialog"]],inputs:{title:"title",description:"description",form:"form",submitText:"submitText",fields:"fields",model:"model",submitting:"submitting",secondaryActionConfig:"secondaryActionConfig",resetButtonEnabled:"resetButtonEnabled"},outputs:{submit:"submit",secondaryAction:"secondaryAction"},decls:12,vars:11,consts:[["mat-dialog-title",""],["novalidate","",3,"formGroup","ngSubmit"],[1,"mat-typography"],[4,"ngIf"],[3,"form","fields","model"],[1,"justify-content-between"],["class","flex-1","type","button","mat-button","","color","primary",3,"disabled","click",4,"ngIf"],["class","flex-1","type","button","mat-button","","color","primary",3,"click",4,"ngIf"],["type","submit","mat-raised-button","","color","primary",1,"flex-1",3,"disabled"],[3,"loading"],["type","button","mat-button","","color","primary",1,"flex-1",3,"disabled","click"],["type","button","mat-button","","color","primary",1,"flex-1",3,"click"]],template:function(w,B){1&w&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return B.onSubmit()}),t.TgZ(3,"mat-dialog-content",2),t.YNc(4,s,2,1,"p",3),t._UZ(5,"formly-form",4),t.qZA(),t.TgZ(6,"mat-dialog-actions",5),t.YNc(7,i,3,4,"button",6),t.YNc(8,K,2,0,"button",7),t.TgZ(9,"button",8),t.TgZ(10,"cw-loader",9),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&w&&(t.xp6(1),t.Oqu(B.title),t.xp6(1),t.Q6J("formGroup",B.form),t.xp6(2),t.Q6J("ngIf",B.description),t.xp6(1),t.Q6J("form",B.form)("fields",B.fields)("model",B.model),t.xp6(2),t.Q6J("ngIf",B.secondaryActionConfig),t.xp6(1),t.Q6J("ngIf",B.resetButtonEnabled),t.xp6(1),t.Q6J("disabled",B.form.invalid),t.xp6(1),t.Q6J("loading",B.submitting),t.xp6(1),t.Oqu(B.submitText))},directives:[a.uh,n._Y,n.JL,n.sg,a.xY,d.O5,v.T7,a.H8,g.lW,b.R],pipes:[Q.f],styles:[""],changeDetection:0}),u})()},94861:(st,k,o)=>{o.d(k,{$:()=>D});var t=o(70655),n=o(5e3),a=o(48966),d=o(23600),v=o(93114),g=o(97443),b=o(44987),Q=o(80924),s=o(31495),i=o(96298),K=o(93075),$=o(1094),u=o(84946),_=o(69808),w=o(20773),B=o(26688),F=o(47423);function O(J,h){if(1&J){const N=n.EpF();n.TgZ(0,"mat-chip",12),n.NdJ("click",function(){const G=n.CHM(N).$implicit;return n.oxw(3).useSetting(G)})("removed",function(){const G=n.CHM(N).$implicit;return n.oxw(3).removeSetting(G)}),n.TgZ(1,"span"),n._uU(2),n.qZA(),n._UZ(3,"cw-icon",13),n.qZA()}if(2&J){const N=h.$implicit;n.Udp("background",N.background),n.Q6J("selectable",!1)("removable",!0),n.xp6(2),n.Oqu(N.name)}}function e(J,h){if(1&J&&(n.TgZ(0,"mat-chip-list",10),n.YNc(1,O,4,5,"mat-chip",11),n.qZA()),2&J){const N=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",N.filterSettings)("ngForTrackBy",N.trackByIndex)}}function A(J,h){if(1&J&&(n.ynx(0),n.YNc(1,e,2,2,"mat-chip-list",9),n.BQk()),2&J){const N=n.oxw();n.xp6(1),n.Q6J("ngIf",N.filterSettings.length)}}function m(J,h){if(1&J){const N=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){return n.CHM(N),n.oxw(2).openSaveModal()}),n._UZ(1,"cw-icon",17),n._uU(2," Save "),n.qZA()}}function P(J,h){if(1&J){const N=n.EpF();n.ynx(0),n.YNc(1,m,3,0,"button",14),n.TgZ(2,"button",15),n.NdJ("click",function(){return n.CHM(N),n.oxw().clear()}),n._uU(3,"Clear"),n.qZA(),n.BQk()}if(2&J){const N=n.oxw();n.xp6(1),n.Q6J("cwRoleIf",N.canSaveRoles)}}let D=class extends((0,v.A)(v.t)){constructor(h,N,Z){super(),this.platformService=h,this.cd=N,this.dialog=Z,this.canSaveRoles=[g.i],this.modelChange=new n.vpe,this.toggleFilters=new n.vpe,this.submit=new n.vpe,this.filterSettings=[]}get canClear(){const h=(0,d.ABR)(this.model);return h&&Object.keys(h).length>0}get filterSettingsStorageKey(){return`${this.identity}:filters`}ngOnInit(){const h=this.platformService.localStorage.getItem(this.filterSettingsStorageKey);h&&(this.filterSettings=JSON.parse(h))}clear(){this.updateModel({})}updateFilterSettings(h){this.filterSettings=h,this.platformService.localStorage.setItem(this.filterSettingsStorageKey,JSON.stringify(h))}openSaveModal(){const h=this.dialog.open(Q.E,{width:"500px"}),N={model:Object.assign({},this.model)};return h.componentInstance.title="Save current filters",h.componentInstance.model=N,h.componentInstance.fields=[{key:"name",type:"input",templateOptions:{label:"Name",required:!0}},{key:"background",type:"input",templateOptions:{type:"color",label:"Background color (optional)"}}],h.componentInstance.submit.subscribe(()=>{var Z;N.background=null!==(Z=N.background)&&void 0!==Z?Z:(0,d.pag)((0,d.Iyf)(0,500)),N.updatedAt=Date.now(),this.saveSetting(N),h.componentInstance.dialogRef.close(),this.cd.detectChanges()}),h}useSetting(h){this.updateModel(h.model)}saveSetting(h){this.updateFilterSettings([...this.filterSettings,h])}removeSetting(h){this.updateFilterSettings(this.filterSettings.filter(N=>N!==h))}updateModel(h=this.model){!h||this.modelChange.next(h)}};D.\u0275fac=function(h){return new(h||D)(n.Y36(d.mix),n.Y36(n.sBO),n.Y36(a.uw))},D.\u0275cmp=n.Xpm({type:D,selectors:[["cw-table-filters"]],inputs:{identity:"identity",model:"model",fields:"fields",showFilters:"showFilters",loading:"loading",form:"form",canSaveRoles:"canSaveRoles"},outputs:{modelChange:"modelChange",toggleFilters:"toggleFilters",submit:"submit"},features:[n.qOj],decls:10,vars:13,consts:[[1,"pointer","float-right","mb-2",3,"click"],["inlineSVG","assets/icons/chevron-down.svg",1,"transition-transform-05"],[3,"formGroup","hidden","ngSubmit"],[4,"cwRoleIf"],[3,"form","fields","model"],[1,"d-flex","align-items-center"],[4,"ngIf"],[1,"loading-spinner"],[3,"diameter"],["class","d-flex mb-3",4,"ngIf"],[1,"d-flex","mb-3"],[3,"background","selectable","removable","click","removed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"selectable","removable","click","removed"],["inlineSVG","assets/icons/close.svg","matChipRemove",""],["mat-flat-button","","type","button","color","primary","class","ml-2","title","Save",3,"click",4,"cwRoleIf"],["mat-button","","type","button","title","Clear filters",1,"ml-2",3,"click"],["mat-flat-button","","type","button","color","primary","title","Save",1,"ml-2",3,"click"],["inlineSVG","assets/icons/save-outline.svg",1,"mr-2"]],template:function(h,N){1&h&&(n.TgZ(0,"div",0),n.NdJ("click",function(){return N.toggleFilters.emit()}),n._UZ(1,"cw-icon",1),n._uU(2),n.qZA(),n.TgZ(3,"form",2),n.NdJ("ngSubmit",function(){return N.submit.next()}),n.YNc(4,A,2,1,"ng-container",3),n._UZ(5,"formly-form",4),n.TgZ(6,"div",5),n.YNc(7,P,4,1,"ng-container",6),n.TgZ(8,"span",7),n._UZ(9,"mat-spinner",8),n.qZA(),n.qZA(),n.qZA()),2&h&&(n.xp6(1),n.ekj("transform-rotate-x-180",N.showFilters),n.xp6(1),n.hij(" ",N.showFilters?"Hide":"Show"," Filters\n"),n.xp6(1),n.Q6J("formGroup",N.form)("hidden",!N.showFilters),n.xp6(1),n.Q6J("cwRoleIf",N.canSaveRoles),n.xp6(1),n.Q6J("form",N.form)("fields",N.fields)("model",N.model),n.xp6(2),n.Q6J("ngIf",N.canClear),n.xp6(2),n.ekj("invisible",!N.loading),n.Q6J("diameter",24))},directives:[s.o,i.d$,K._Y,K.JL,K.sg,$.P,u.T7,_.O5,w.$g,B.qn,_.sg,B.HS,B.qH,F.lW],styles:["[_nghost-%COMP%]{display:block;padding:1rem 0 1.5rem}@media (min-width: 576px){[_nghost-%COMP%]     .mat-form-field{max-width:calc(16.666% - .5rem);margin-right:.5rem}[_nghost-%COMP%]     .mat-form-field-wrapper{padding-bottom:.25rem}[_nghost-%COMP%]     .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{margin-left:-2.5em}}mat-chip[_ngcontent-%COMP%]{line-height:1.125;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal;font-weight:400;cursor:pointer}mat-chip[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]{width:.75rem}formly-form[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;clear:both}.loading-spinner[_ngcontent-%COMP%]{margin-left:.5rem;height:2.25rem;display:flex;align-items:center}"],changeDetection:0}),D=(0,t.gn)([(0,b.c)(),(0,t.w6)("design:paramtypes",[d.mix,n.sBO,a.uw])],D)},35826:(st,k,o)=>{o.d(k,{R:()=>e});var t=o(70655),n=o(47796),a=o(5e3),d=o(48966),v=o(88279),g=o(45990),b=o(44987),Q=o(54004),s=o(68675),i=o(80924),K=o(31495),$=o(96298),u=o(69808);function _(A,m){if(1&A){const P=a.EpF();a.TgZ(0,"th",3),a.TgZ(1,"cw-icon",4),a.NdJ("click",function(){return a.CHM(P),a.oxw().openSettings()}),a.qZA(),a.qZA()}if(2&A){const P=a.oxw();a.xp6(1),a.ekj("active",P.columnCount!==P.enabledColumnCount)}}function w(A,m){1&A&&a.Hsn(0,0,["*ngTemplateOutlet","templateRef; context: { row: row }"])}const B=function(A){return{row:A}};function F(A,m){if(1&A&&(a.TgZ(0,"td",5),a.YNc(1,w,1,0,"ng-content",6),a.qZA()),2&A){const P=m.$implicit,D=a.oxw();a.xp6(1),a.Q6J("ngTemplateOutlet",D.templateRef)("ngTemplateOutletContext",a.VKq(2,B,P))}}let e=class{constructor(m,P,D){this.table=m,this.dialog=P,this.humanizePipe=D,this.columns=[],this.columnsChange=new a.vpe}ngOnInit(){this.table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this.table.addColumnDef(this.columnDef))}ngOnDestroy(){this.table&&this.table.removeColumnDef(this.columnDef)}get columnCount(){return this.columns.length}get enabledColumnCount(){return this.columns.filter(m=>m.enabled).length}openSettings(){const{componentInstance:m}=this.dialog.open(i.E);m.model={columns:this.columns.filter(P=>P.enabled).map(({key:P})=>P)},m.title="Table settings",m.fields=[{key:"columns",type:"select",templateOptions:{label:"Columns",multiple:!0,options:this.columns.map(P=>({value:P.key,label:this.humanizePipe.transform(P.key),disabled:["settings"].includes(P.key)}))}}],m.secondaryActionConfig={labelText:"Enable All",disabled$:m.form.valueChanges.pipe((0,Q.U)(()=>m.form.pristine),(0,s.O)(this.columns.length===m.model.columns.length))},m.submit.pipe((0,b.t)(this)).subscribe(()=>{const P=this.columns.map(D=>Object.assign(Object.assign({},D),{enabled:m.model.columns.includes(D.key)}));this.columnsChange.next(P),m.dialogRef.close()}),m.secondaryAction.pipe((0,b.t)(this)).subscribe(()=>{m.model={columns:this.columns.map(D=>Object.assign(Object.assign({},D),{enabled:!0}))};const P={columns:m.model.columns.map(({key:D})=>D)};m.model=P,m.form.setValue(P)})}};e.\u0275fac=function(m){return new(m||e)(a.Y36(v.BZ,8),a.Y36(d.uw),a.Y36(g.nW))},e.\u0275cmp=a.Xpm({type:e,selectors:[["cw-table-settings"]],contentQueries:function(m,P,D){if(1&m&&a.Suo(D,a.Rgc,5),2&m){let J;a.iGM(J=a.CRH())&&(P.templateRef=J.first)}},viewQuery:function(m,P){if(1&m&&(a.Gf(v.w1,7),a.Gf(n.D5,7),a.Gf(n.O_,7)),2&m){let D;a.iGM(D=a.CRH())&&(P.columnDef=D.first),a.iGM(D=a.CRH())&&(P.headerCell=D.first),a.iGM(D=a.CRH())&&(P.cell=D.first)}},inputs:{columns:"columns"},outputs:{columnsChange:"columnsChange"},features:[a._Bn([g.nW])],ngContentSelectors:["*"],decls:3,vars:0,consts:[["matColumnDef","settings"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["inlineSVG","assets/icons/settings.svg",3,"click"],["mat-cell",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(m,P){1&m&&(a.F$t(),a.ynx(0,0),a.YNc(1,_,2,2,"th",1),a.YNc(2,F,2,4,"td",2),a.BQk())},directives:[v.w1,v.fO,v.Dz,v.ge,K.o,$.d$,v.ev,u.tP],styles:[".mat-column-settings[_ngcontent-%COMP%]{text-align:center;width:4rem}cw-icon[_ngcontent-%COMP%]{cursor:pointer;opacity:.75;width:1.1rem}cw-icon[_ngcontent-%COMP%]:hover{opacity:1}"],changeDetection:0}),e=(0,t.gn)([(0,b.c)(),(0,t.w6)("design:paramtypes",[v.BZ,d.uw,g.nW])],e)}}]);