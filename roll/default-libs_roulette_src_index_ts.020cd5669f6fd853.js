"use strict";(self.webpackChunkcsgoroll=self.webpackChunkcsgoroll||[]).push([["default-libs_roulette_src_index_ts"],{79123:(k,x,l)=>{l.d(x,{Q:()=>f});var f=(()=>{return(e=f||(f={})).BAIT="BAIT",e.BLACK="BLACK",e.GREEN="GREEN",e.RED="RED",f;var e})()},51199:(k,x,l)=>{l.r(x),l.d(x,{RouletteJackpotWinComponent:()=>N,RouletteModule:()=>Yn,RouletteService:()=>y.b,RouletteSharedModule:()=>et});var f=l(70655),e=l(5e3),p=l(23600),C=l(23693),m=l(44987),_=l(17445),d=l(70029),c=l(54004),A=l(39300),Q=l(95698),T=l(69808),b=l(77093),q=l(31495),a=l(96298),P=l(59864);function le(n,o){1&n&&(e._UZ(0,"cw-icon",4),e.ALo(1,"seasonalBranding")),2&n&&e.Q6J("inlineSVG",e.lcZ(1,1,"/assets/roulette/wheel-slice-green.svg"))}function D(n,o){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,le,2,3,"cw-icon",3),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.ekj("active",t<=i.consecutiveCount),e.xp6(1),e.Q6J("ngIf",i.useIcon)}}const Te=function(){return[1,2,3]};let W=(()=>{class n{constructor(t){this.appConfig=t,this.useIcon=this.appConfig.roulette.iconMode}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.qBz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-triple-jackpot-result"]],inputs:{consecutiveCount:"consecutiveCount"},decls:2,vars:2,consts:[["fxLayout","row",1,"jackpot-result-wrapper"],["class","jackpot-result",3,"active",4,"ngFor","ngForOf"],[1,"jackpot-result"],[3,"inlineSVG",4,"ngIf"],[3,"inlineSVG"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,D,2,3,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,Te)))},directives:[b.xw,T.sg,T.O5,q.o,a.d$],pipes:[P.A],styles:[".jackpot-result-wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:not(:first-child){margin-left:10px}.jackpot-result-wrapper[_ngcontent-%COMP%]   .jackpot-result[_ngcontent-%COMP%]{min-width:auto!important;width:50px;height:50px;padding:4px;border-radius:8px}.jackpot-result-wrapper[_ngcontent-%COMP%]   .jackpot-result[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]{height:100%}.jackpot-result-wrapper[_ngcontent-%COMP%]   .jackpot-result.active[_ngcontent-%COMP%]{box-shadow:#00ff0c1a 0 10px 27px,#00913c 0 -3px inset,#35d87b 0 2px inset;background-color:#00c74d}.jackpot-result-wrapper[_ngcontent-%COMP%]   .jackpot-result.active[_ngcontent-%COMP%]   cw-icon[_ngcontent-%COMP%]{color:#fff}.jackpot-result-wrapper[_ngcontent-%COMP%]   .jackpot-result[_ngcontent-%COMP%]:not(.active){background-color:#000;opacity:.18}.jackpot-result-wrapper[_ngcontent-%COMP%]   .jackpot-result[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:0;width:100%;height:100%}"],changeDetection:0}),n})();var J=l(89847),X=l(1475),_e=l(27737),$=l(20975);function fe(n,o){if(1&n&&(e.TgZ(0,"div",12),e._UZ(1,"cw-progress",13),e.ALo(2,"push"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("now",e.lcZ(2,2,t.countdown$))("total",t.jackpotWinGracePeriodMs)}}function Ce(n,o){if(1&n&&(e.TgZ(0,"div",14),e.TgZ(1,"div",15),e.TgZ(2,"div",16),e._uU(3),e.qZA(),e._UZ(4,"cw-user-avatar-badge",17),e.TgZ(5,"div",18),e._uU(6),e.qZA(),e.qZA(),e._UZ(7,"cw-pretty-balance",19),e.qZA()),2&n){const t=o.index,i=o.$implicit;e.xp6(2),e.Tol("pos-"+(t+1)),e.xp6(1),e.Oqu(t+1),e.xp6(1),e.Q6J("showFullBorder",!0)("user",i.node.user)("small",!0),e.xp6(2),e.Oqu(i.node.user.name),e.xp6(1),e.Q6J("balance",i.node.amount)("currency",i.node.currency)}}function z(n,o){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,fe,3,4,"div",3),e.TgZ(2,"div",4),e.TgZ(3,"h2",5),e._uU(4,"Triple Green Jackpot"),e.qZA(),e._UZ(5,"cw-triple-jackpot-result",6),e._UZ(6,"cw-pretty-balance",7),e.TgZ(7,"div",8),e.TgZ(8,"p",9),e._uU(9,"Top Winners"),e.qZA(),e.TgZ(10,"div",10),e.YNc(11,Ce,8,9,"div",11),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.showCountdown),e.xp6(4),e.Q6J("consecutiveCount",3),e.xp6(1),e.Q6J("balance",t.gameJackpot.value)("currency",t.gameJackpot.currency),e.xp6(5),e.Q6J("ngForOf",t.gameJackpot.winners.edges)}}let N=class{constructor(o,t){this.appConfig=o,this.fireworksService=t,this.showCountdown=!1,this.showFireworks=!1,this.countdownComplete=new e.vpe,this.then=null}ngOnInit(){if(this.showCountdown&&(this.jackpotWinGracePeriodMs=this.appConfig.roulette.jackpotWinGracePeriodMs,this.then=Date.now()+this.jackpotWinGracePeriodMs,this.countdown$=(0,_.F)(0,d.Z).pipe((0,c.U)(()=>this.then-Date.now())),this.countdown$.pipe((0,A.h)(o=>o<=0),(0,Q.q)(1),(0,m.t)(this)).subscribe(()=>this.countdownComplete.emit())),this.showFireworks){const o=80;this.fireworksService.makeFireworks(o,(this.appConfig.roulette.jackpotWinGracePeriodMs-3e3)/o)}}ngOnDestroy(){this.fireworksService.cleanup()}};N.\u0275fac=function(o){return new(o||N)(e.Y36(p.qBz),e.Y36(C.u6))},N.\u0275cmp=e.Xpm({type:N,selectors:[["cw-roulette-jackpot-win"]],inputs:{gameJackpot:"gameJackpot",showCountdown:"showCountdown",showFireworks:"showFireworks"},outputs:{countdownComplete:"countdownComplete"},decls:2,vars:1,consts:[[1,"blurred-bg"],["class","jackpot-win-container",4,"ngIf"],[1,"jackpot-win-container"],["class","top-border-progress",4,"ngIf"],[1,"jackpot-win-content"],[1,"title"],[3,"consecutiveCount"],[1,"jackpot-amount",3,"balance","currency"],[1,"winners-container"],[1,"winners-label"],[1,"winners-list"],["class","winner-row",4,"ngFor","ngForOf"],[1,"top-border-progress"],["successClass","green-gradient","dangerClass","green-gradient","warningClass","green-gradient",3,"now","total"],[1,"winner-row"],[1,"winner-position"],[1,"position"],[3,"showFullBorder","user","small"],[1,"user-name"],[3,"balance","currency"]],template:function(o,t){1&o&&(e._UZ(0,"div",0),e.YNc(1,z,12,5,"div",1)),2&o&&(e.xp6(1),e.Q6J("ngIf",t.gameJackpot))},directives:[T.O5,W,J.q,T.sg,X.t,_e.i],pipes:[$.f],styles:["[_nghost-%COMP%]   .blurred-bg[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0;z-index:-1;background:url(/assets/roulette/fire-particles-bg.png) center;background-size:cover;transform:scaleX(-1);opacity:.6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .top-border-progress[_ngcontent-%COMP%]   cw-progress[_ngcontent-%COMP%]{height:3px}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .top-border-progress[_ngcontent-%COMP%]   cw-progress[_ngcontent-%COMP%]     .progress{background-color:transparent}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .top-border-progress[_ngcontent-%COMP%]   cw-progress[_ngcontent-%COMP%]     .progress .progress-bar.green-gradient{background:linear-gradient(to right,#00c74d,#ffffff)}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:24px}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]     cw-pretty-balance.jackpot-amount .currency-value{font-size:1.1rem}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#00c74d;text-transform:uppercase;font-size:1.2rem;margin-bottom:0}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   cw-triple-jackpot-result[_ngcontent-%COMP%]{margin:1.3rem 0}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]{width:100%;margin-top:1.25rem}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]   .winners-label[_ngcontent-%COMP%]{font-size:.7rem}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]   .winner-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3rem 0}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]   .winner-row[_ngcontent-%COMP%]   cw-user-avatar-badge[_ngcontent-%COMP%]{margin:0 .7rem}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]   .winner-row[_ngcontent-%COMP%]   .winner-position[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]   .winner-row[_ngcontent-%COMP%]   .winner-position[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#00c74d}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]   .winner-row[_ngcontent-%COMP%]   .winner-position[_ngcontent-%COMP%]   .position.pos-1[_ngcontent-%COMP%]{color:#ecce75}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]   .winner-row[_ngcontent-%COMP%]   .winner-position[_ngcontent-%COMP%]   .position.pos-2[_ngcontent-%COMP%]{color:#b4bcc8}[_nghost-%COMP%]   div.jackpot-win-container[_ngcontent-%COMP%]   .jackpot-win-content[_ngcontent-%COMP%]   .winners-container[_ngcontent-%COMP%]   .winner-row[_ngcontent-%COMP%]   .winner-position[_ngcontent-%COMP%]   .position.pos-3[_ngcontent-%COMP%]{color:#d6a06a}"],changeDetection:0}),N=(0,f.gn)([(0,m.c)(),(0,f.w6)("design:paramtypes",[Object,C.u6])],N);var re=l(36822),I=(l(8694),l(87922),l(79123));let O=(()=>{class n{transform(t){switch(t){case I.Q.BAIT:return"bait";case I.Q.BLACK:return"black";case I.Q.GREEN:return"green";case I.Q.RED:return"red"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"gameSelectionTypeColor",type:n,pure:!0}),n})();var L=l(72934);let V=(()=>{class n{constructor(t){this.rouletteWheelService=t}transform(t){switch(t){case I.Q.GREEN:return this.rouletteWheelService.icons.green;case I.Q.RED:return this.rouletteWheelService.icons.red;case I.Q.BLACK:return this.rouletteWheelService.icons.black;case I.Q.BAIT:return this.rouletteWheelService.icons.bait}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.h,16))},n.\u0275pipe=e.Yjl({name:"gameSelectionTypeIcon",type:n,pure:!0}),n})();var v=l(41777),E=l(68675),y=l(9317);let se=(()=>{class n{constructor(t){this.countdown$=t.countdown$,this.visible$=t.spinning$.pipe((0,c.U)(i=>!i),(0,E.O)(!0))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-next-roll"]],decls:8,vars:9,consts:function(){let o;return o=$localize`:␟4015f7ad719709423e2792e666cf2db1717536df␟6650972403871940473:Rolling in`,[["fxLayout","","fxLayoutAlign","center baseline","fxLayoutGap",".5rem",1,"next-roll"],[1,"label"],o,[1,"value"]]},template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.ALo(1,"push"),e.TgZ(2,"div",1),e.SDv(3,2),e.qZA(),e.TgZ(4,"div",3),e._uU(5),e.ALo(6,"number"),e.ALo(7,"push"),e.qZA(),e.qZA()),2&t&&(e.Q6J("@reveal",e.lcZ(1,2,i.visible$)),e.xp6(5),e.Oqu(e.xi3(6,4,e.lcZ(7,7,i.countdown$),"1.2-2")))},directives:[b.xw,b.Wh,b.SQ],pipes:[$.f,T.JJ],styles:["[_nghost-%COMP%]{display:block;position:relative;text-align:center;margin:0 auto .25rem;font-family:var(--font-crash);font-size:1.5em;line-height:1.5rem}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:900;text-transform:uppercase}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:900;color:#ffe063;width:3rem}"],data:{animation:[(0,v.X$)("reveal",[(0,v.SB)("false",(0,v.oB)({opacity:0,transform:"translateY(25%)"})),(0,v.eR)("true => false",(0,v.jt)(100)),(0,v.eR)("false => true",(0,v.jt)(100))])]},changeDetection:0}),n})();var Oe=l(60468),Se=l(24750),ce=l(62650),K=(()=>{return(n=K||(K={})).NORMAL="NORMAL",n.CRAZY="CRAZY",K;var n})(),ue=l(45990),de=l(13302),ee=l(61135),me=l(63900),Me=l(18505),Le=l(4326),xe=l(28746),H=l(39478);const ye=H.Ps`
  mutation CreateBet($input: CreateBetInput!) {
    createBet(input: $input) {
      bet {
        id
      }
    }
  }
`;var te=l(23322),s=l(47423),F=l(79586);function g(n,o){if(1&n&&(e._UZ(0,"img",9),e.ALo(1,"seasonalBranding")),2&n){const t=e.oxw().index,i=e.oxw(2);e.Q6J("src",e.lcZ(1,1,i.rollIcons[t]),e.LSH)}}function R(n,o){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,g,2,3,"img",8),e.qZA()),2&n){const t=o.$implicit,i=o.index,r=e.oxw(2);e.Q6J("ngClass","bg-"+t),e.xp6(1),e.Q6J("ngIf",r.rollIcons[i])}}function ne(n,o){if(1&n&&(e.ynx(0),e.YNc(1,R,2,2,"div",6),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.rollColors)}}let B=class{constructor(o,t,i,r,u,h,S,M,w){this.apollo=o,this.userService=t,this.soundService=i,this.authDialogService=r,this.localStorageService=u,this.rouletteService=h,this.rouletteWheelService=S,this.trackingService=M,this.dynamicLoader=w,this.rollColors=[],this.rollIcons=[],this.isLoading$=new ee.X(!1),this.isDisabled$=new ee.X(!1)}set _disabled(o){this.isDisabled$.next(!!o)}get payout(){return this.rouletteWheelService.getPayoutMultiplierFromGameSelectionType(this.selectionType)}createBet(){if(this.isLoading$.getValue()||!this.ctrlAmount.valid)return;const o=this.ctrlAmount.value;this.isLoading$.next(!0),this.userService.user$.pipe((0,Q.q)(1),(0,me.w)(t=>{if(!t)return this.authDialogService.openAuthModal().afterClosed();if(this.userService.getBalance(t)<o)return this.dynamicLoader.openDialog(Promise.all([l.e("default-libs_new-payment_src_index_ts"),l.e("default-libs_wallet_src_index_ts")]).then(l.bind(l,60766)).then(u=>[u.WalletModule,u.NoBalanceModalComponent])).pipe((0,me.w)(u=>u.afterClosed()));this.soundService.playSound("ROULETTE_BET");const r={gameId:this.gameId,amount:o,mode:this.rouletteService.crazy$.getValue()?K.CRAZY:K.NORMAL,selections:this.rouletteWheelService.getSelectionsFromGameSelectionType(this.selectionType)};return this.apollo.mutate({mutation:ye,variables:{input:r}}).pipe((0,Me.b)(({data:u})=>{this.trackingService.trackAffiliateCommission("roulette",o),u&&this.localStorageService.set(ce.F.ROULETTE_LAST_BET_AMOUNT,o)}))}),(0,Le.g)(200),(0,m.t)(this),(0,xe.x)(()=>{this.isLoading$.next(!1)})).subscribe()}};B.\u0275fac=function(o){return new(o||B)(e.Y36(de._M),e.Y36(p.KDu),e.Y36(p.yu5),e.Y36(Se.AuthDialogService),e.Y36(p.Vtq),e.Y36(y.b),e.Y36(L.h),e.Y36(p.e2C),e.Y36(ue.tC))},B.\u0275cmp=e.Xpm({type:B,selectors:[["cw-roulette-bet-button"]],inputs:{gameId:"gameId",iconMode:"iconMode",selectionType:"selectionType",ctrlAmount:"ctrlAmount",_disabled:["disabled","_disabled"],rollColors:"rollColors",rollIcons:"rollIcons"},ngContentSelectors:["*"],decls:12,vars:15,consts:function(){let n;return n=$localize`:␟3b49c486eb7ece67e839edcdb093361143b7e00c␟8635659826764869282:Win ${"\ufffd0\ufffd"}:INTERPOLATION:x`,[["fxLayout","column","fxLayoutAlign","center","fxLayoutAlign.lt-md","center stretch","fxLayout.lt-md","column","ngClass.gt-md","gt-md","ngClass.lt-sm","lt-sm",1,"wrapper"],["fxLayout","","fxLayoutAlign","center center","fxLayoutGap","1rem","fxFlex","1 1 50%","fxFlex.lt-md","1 1 100%",1,"text"],[4,"ngIf"],n,["fxFlex","1 1 50%","fxFlex.lt-md","1 1 100%","type","button","ngClass.gt-sm","gt-sm","mat-flat-button","",1,"mat-button-3d",3,"disabled","color","click"],[3,"loading"],["class","roll rounded-circle",3,"ngClass",4,"ngFor","ngForOf"],[1,"roll","rounded-circle",3,"ngClass"],["class","roll-icon",3,"src",4,"ngIf"],[1,"roll-icon",3,"src"]]},template:function(o,t){1&o&&(e.F$t(),e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,ne,2,1,"ng-container",2),e.TgZ(3,"span"),e.SDv(4,3),e.qZA(),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return t.createBet()}),e.ALo(6,"push"),e.ALo(7,"push"),e.ALo(8,"gameSelectionTypeColor"),e.TgZ(9,"cw-loader",5),e.ALo(10,"push"),e.Hsn(11),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.ekj("icon-mode",t.iconMode),e.xp6(1),e.Q6J("ngIf",t.iconMode),e.xp6(2),e.pQV(t.payout),e.QtT(4),e.xp6(1),e.Q6J("disabled",e.lcZ(6,7,t.isDisabled$)||e.lcZ(7,9,t.isLoading$))("color",e.lcZ(8,11,t.selectionType)),e.xp6(4),e.Q6J("loading",e.lcZ(10,13,t.isLoading$)))},directives:[b.xw,b.Wh,te.oO,b.SQ,b.yH,T.O5,s.lW,F.R,T.sg,T.mk],pipes:[$.f,O,P.A],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:.5rem;background:#1a1e23;box-shadow:0 1px #ffffff05,0 1px 1px #0000001a inset}.wrapper.lt-sm[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:.25rem}.text[_ngcontent-%COMP%]{font-weight:600;height:50px}.text.icon-mode[_ngcontent-%COMP%]{min-height:50px}.roll[_ngcontent-%COMP%]{height:1.875rem;width:1.875rem;min-width:30px}.roll[_ngcontent-%COMP%]   .roll-icon[_ngcontent-%COMP%]{height:100%;width:100%;padding:.25rem}button[_ngcontent-%COMP%]{min-height:50px;text-transform:unset}button.gt-sm[_ngcontent-%COMP%]{min-width:9rem}"],changeDetection:0}),B=(0,f.gn)([(0,m.c)(),(0,f.w6)("design:paramtypes",[de._M,p.KDu,p.yu5,Se.AuthDialogService,p.Vtq,y.b,L.h,p.e2C,ue.tC])],B);var ie=l(93114),Ae=l(57994),it=l(77579),we=l(39841),at=l(71884),lt=l(92116),rt=l(11520),st=l(11365),Ie=l(39646),Ze=l(13099),ct=l(4128),Ne=l(75424);const Ue=H.Ps`
  fragment Bet on Bet {
    id
    gameId
    amount
    # @deprecated(reason: "Use selections instead")
    selection
    selections
    mode
    currency
    payoutMultiplier
    user {
      ...UserBadge
    }
  }
`,ut=H.Ps`
  query cachedGameBets($gameId: ID!) {
    cachedGameBets(gameId: $gameId) {
      ...Bet
    }
  }
  ${Ue}
  ${Ne.userBadgeFragment}
`,dt=H.Ps`
  subscription OnRouletteCreateBet {
    createBet {
      bet {
        ...Bet
      }
    }
  }

  ${Ue}
  ${Ne.userBadgeFragment}
`;var gt=l(16284),pt=l(18174),Pe=l(35357);function _t(n,o){1&n&&e._UZ(0,"div",9)}function mt(n,o){1&n&&e._UZ(0,"cw-icon",10)}const ht=function(n){return["/player",n]};let Ge=(()=>{class n{constructor(){this.BetMode=K}get currentAmount(){return this.finished?this.winner?this.bet.amount*this.bet.payoutMultiplier:-1*this.bet.amount:this.bet.amount}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-bet"]],inputs:{bet:"bet",winner:"winner",finished:"finished"},decls:10,vars:13,consts:[[1,"inner-wrapper"],["class","gradient-border",4,"ngIf"],[1,"left-side","d-flex","justify-content-start","align-items-center"],[1,"avatar",3,"routerLink"],[3,"user","small","authenticBadge"],[1,"name"],[1,"right-side","amount"],["class","crazy-icon","inlineSVG","assets/icons/joker-hat.svg",4,"ngIf"],[3,"balance","currency"],[1,"gradient-border"],["inlineSVG","assets/icons/joker-hat.svg",1,"crazy-icon"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,_t,1,0,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"a",3),e._UZ(4,"cw-user-avatar-badge",4),e.qZA(),e.TgZ(5,"span",5),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.YNc(8,mt,1,0,"cw-icon",7),e._UZ(9,"cw-pretty-balance",8),e.qZA(),e.qZA()),2&t&&(e.ekj("major-bet",i.bet.amount>=10),e.xp6(1),e.Q6J("ngIf",i.bet.amount>=10),e.xp6(2),e.Q6J("routerLink",e.VKq(11,ht,i.bet.user.id)),e.xp6(1),e.Q6J("user",i.bet.user)("small",!0)("authenticBadge",!0),e.xp6(2),e.Oqu(i.bet.user.name),e.xp6(2),e.Q6J("ngIf",i.bet.mode===i.BetMode.CRAZY),e.xp6(1),e.Q6J("balance",i.currentAmount)("currency",i.bet.currency))},directives:[T.O5,Pe.yS,_e.i,J.q,q.o,a.d$],styles:['.no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{display:flex;align-items:flex-end;font-size:.875rem;border-radius:.375rem;position:relative;overflow:hidden;transition:background-color .2s}.last[_nghost-%COMP%]   .inner-wrapper[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to bottom,black,transparent);mask-image:linear-gradient(to bottom,black,transparent)}.inner-wrapper[_ngcontent-%COMP%]{width:100%;padding:.25rem .5rem;display:flex;justify-content:space-between;align-items:center;border-radius:inherit}.inner-wrapper[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{animation:rlt_bet_slide_in_right .6s;white-space:nowrap;overflow:hidden}.inner-wrapper[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{animation:rlt_bet_slide_in_left .6s;max-width:calc(70% - 20px)}.inner-wrapper.major-bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#ecce75}.gradient-border[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.gradient-border[_ngcontent-%COMP%]:before, .gradient-border[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:2px;background:linear-gradient(to bottom,rgba(236,206,117,.25),#ecce75,rgba(236,206,117,.25))}.gradient-border[_ngcontent-%COMP%]:before{left:0}.gradient-border[_ngcontent-%COMP%]:after{right:0}.avatar[_ngcontent-%COMP%]{transform:scale(.75);margin-right:.5rem}.name[_ngcontent-%COMP%]{display:inline-block;max-width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;color:#fff9;font-weight:500;margin-left:.25rem}.amount[_ngcontent-%COMP%]{color:#fff}@keyframes rlt_bet_appear{0%{opacity:0}to{opacity:1}}@keyframes rlt_bet_slide_in_right{0%{opacity:0;transform:translate(25px)}to{opacity:1;transform:translate(0)}}@keyframes rlt_bet_slide_in_left{0%{opacity:0;transform:translate(-25px)}to{opacity:1;transform:translate(0)}}.crazy-icon[_ngcontent-%COMP%]{margin-right:.5rem;width:1.2rem;opacity:.5}'],changeDetection:0}),n})();var ke=l(65124);function Tt(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=o.ngIf;e.xp6(1),e.AsE(" ",t.count," ",1===t.count?"Bet":"Bets"," ")}}const ft=function(n){return{last:n}};function Ct(n,o){if(1&n&&e._UZ(0,"cw-roulette-bet",11),2&n){const t=o.$implicit,i=o.index,r=e.oxw().$implicit,u=e.oxw();e.Q6J("finished","FINISHED"===u.game.status)("winner",u.isTeamAWinner(r))("bet",t)("ngClass",e.VKq(5,ft,i+1===u.visibleBetsLimit))("@betInAnim",void 0)}}const Ft=function(n,o){return{rolling:n,loser:o}},Ot=function(n){return{count:n}},Et=function(n,o){return{won:n,lost:o}};function Rt(n,o){if(1&n&&(e.TgZ(0,"section",2),e.TgZ(1,"header",3),e.TgZ(2,"div",4),e.YNc(3,Tt,2,2,"span",5),e.ALo(4,"push"),e.qZA(),e.TgZ(5,"div",6),e._UZ(6,"cw-pretty-balance",7),e.ALo(7,"push"),e.ALo(8,"push"),e.ALo(9,"ticker"),e.ALo(10,"push"),e.qZA(),e.qZA(),e.TgZ(11,"div",8),e.YNc(12,Ct,1,7,"cw-roulette-bet",9),e.ALo(13,"slice"),e.ALo(14,"push"),e.qZA(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("ngClass",e.WLB(26,Ft,"STARTED"===i.game.status,"FINISHED"===i.game.status&&!i.isTeamAWinner(t))),e.xp6(3),e.Q6J("ngIf",e.VKq(29,Ot,e.lcZ(4,9,i[t.toLowerCase()].count$))),e.xp6(3),e.Q6J("ngClass",e.WLB(31,Et,"FINISHED"===i.game.status&&i.isTeamAWinner(t),"FINISHED"===i.game.status&&!i.isTeamAWinner(t)))("cwTemporalClass","updated")("cwTemporalClassTrigger",e.lcZ(7,11,i[t.toLowerCase()].wager$))("cwTemporalClassTimeout",750)("balance",e.lcZ(8,13,e.xi3(9,15,e.lcZ(10,18,i[t.toLowerCase()].payout$),t))),e.xp6(6),e.Q6J("ngForOf",e.Dn7(13,20,e.lcZ(14,24,i[t.toLowerCase()].bets$),0,i.visibleBetsLimit))("ngForTrackBy",i.trackById)}}let ae=class extends((0,ie.A)(ie.t)){constructor(o,t,i,r){super(),this.apollo=o,this.userService=t,this.exchangeRateService=i,this.rouletteWheelService=r,this.collection=new p.Vnp,this.gameChanged=new it.x,this.gameChanged$=this.gameChanged.asObservable().pipe((0,E.O)({})),this.visibleBetsLimit=10,this.throttleTime=250,this.teams=[I.Q.RED,I.Q.GREEN,I.Q.BLACK,I.Q.BAIT],this.winners=[],this.userHasRedBet=new e.vpe,this.userHasBlackBet=new e.vpe}set game(o){!o||("FINISHED"===o.status&&null!==o.rollValue?this.winners=this.rouletteWheelService.getGameSelectionTypesFromRollValue(o.rollValue):this.winners.length&&(this.winners=[]),this._game=o,this.gameChanged.next(o),"CREATED"===o.status&&this.collection.clear())}get game(){return this._game}ngOnInit(){this.apollo.query({fetchPolicy:"network-only",query:ut,variables:{gameId:this.game.id}}).pipe((0,c.U)(({data:o})=>o.cachedGameBets),(0,m.t)(this)).subscribe(o=>this.collection.set(o)),this.apollo.subscribe({query:dt}).pipe((0,m.t)(this)).subscribe(({data:o})=>this.collection.add(o.createBet.bet)),this.red=this.createObservables(this.collection.items$,I.Q.RED),this.green=this.createObservables(this.collection.items$,I.Q.GREEN),this.black=this.createObservables(this.collection.items$,I.Q.BLACK),this.bait=this.createObservables(this.collection.items$,I.Q.BAIT),(0,we.a)([this.red.bets$,this.black.bets$,this.userService.user$.pipe((0,A.h)(p.$KD))]).pipe((0,m.t)(this)).subscribe(([o,t,i])=>{this.userHasRedBet.emit(o.filter(r=>r.user.id===i.id).length>0),this.userHasBlackBet.emit(t.filter(r=>r.user.id===i.id).length>0)})}getPayout(o){return"FINISHED"!==this.game.status?1:this.isTeamAWinner(o)?this.rouletteWheelService.getPayoutMultiplierFromGameSelectionType(o):-1}createObservables(o,t){const i=o.pipe((0,c.U)(u=>u.filter(h=>this.rouletteWheelService.doSelectionsMatchSelectionType(t,h.selections,h.selection))),(0,at.x)((u,h)=>u.length===h.length),(0,lt.J)(),(0,rt.G)(),(0,st.M)(this.userService.userId$),(0,me.w)(([[u,h],S])=>{var M;let G=0;return!(S&&(null===(M=h.value[h.value.length-1])||void 0===M?void 0:M.user.id)===S)&&!(0===u.value.length)&&u.value.length>0&&(G=h.interval>this.throttleTime?0:this.throttleTime-h.interval),(0,Ie.of)({currBetsValues:h.value,userId:S}).pipe((0,Le.g)(G))}),(0,c.U)(u=>{const h={};u.currBetsValues.forEach(M=>{const w=h[M.user.id];if(w){const U=parseFloat((0,Ae.Big)(w.amount).plus(M.amount).valueOf());w.amount=U}else h[M.user.id]=Object.assign({},M)});const S=Object.values(h).sort((M,w)=>M.amount>w.amount?-1:M.amount<w.amount||M.user.id>w.user.id?1:-1);return S.sort((M,w)=>M.user.id===u.userId?-1:w.user.id===u.userId?1:0),S}),(0,E.O)([]),(0,Ze.B)()),r=(0,we.a)([i,this.userService.currency$]).pipe((0,me.w)(([u,h])=>{if(0===u.length)return(0,Ie.of)([]);const S=u.map(M=>h===M.currency?(0,Ie.of)(M.amount):this.exchangeRateService.convert(h,M.amount,M.currency));return(0,ct.D)(S)}),(0,c.U)(u=>+u.reduce((h,S)=>h.plus(S),(0,Ae.Big)(0)).valueOf()),(0,Ze.B)());return{bets$:i,count$:i.pipe((0,c.U)(u=>u.reduce((h,S)=>h+1,0))),wager$:r,payout$:(0,we.a)([this.gameChanged$,r]).pipe((0,c.U)(([u,h])=>h*this.getPayout(t)))}}isTeamAWinner(o){return this.winners.includes(o)}};ae.\u0275fac=function(o){return new(o||ae)(e.Y36(de._M),e.Y36(p.KDu),e.Y36(p.UsA),e.Y36(L.h))},ae.\u0275cmp=e.Xpm({type:ae,selectors:[["cw-roulette-bet-list"]],inputs:{game:"game"},outputs:{userHasRedBet:"userHasRedBet",userHasBlackBet:"userHasBlackBet"},features:[e.qOj],decls:2,vars:2,consts:[["fxLayout","row","fxLayoutAlign","space-between start","fxLayoutGap.gt-sm","1.5rem","fxLayoutGap.lt-md",".75rem","fxLayout.lt-md","column","fxLayoutAlign.lt-md","space-between stretch"],["class","team | lowercase","cwToggle","cw-toggle",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["cwToggle","cw-toggle",1,"team","|","lowercase",3,"ngClass"],[1,"summary"],["fxLayoutGap","0.4rem",1,"count"],["class","total",4,"ngIf"],["fxLayoutGap","0.4rem",1,"wager"],[1,"total",3,"ngClass","cwTemporalClass","cwTemporalClassTrigger","cwTemporalClassTimeout","balance"],["ngClass.lt-sm","cw-toggle cw-toggle-default",1,"list"],[3,"finished","winner","bet","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"total"],[3,"finished","winner","bet","ngClass"]],template:function(o,t){1&o&&(e.TgZ(0,"section",0),e.YNc(1,Rt,15,34,"section",1),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngForOf",t.teams)("ngForTrackBy",t.trackByIndex))},directives:[b.xw,b.Wh,b.SQ,T.sg,gt.m,T.mk,te.oO,T.O5,J.q,pt.L,Ge],pipes:[$.f,ke.t,T.OU],styles:[".no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.team[_ngcontent-%COMP%]{position:relative;opacity:1;transition:opacity .4s cubic-bezier(.17,.67,.34,1.21);margin-right:0!important;width:calc(25% - 1.875em)}@media only screen and (max-width: 1180px){.team[_ngcontent-%COMP%]{width:calc(25% - .1875em)}}@media only screen and (max-width: 959px){.team[_ngcontent-%COMP%]{width:100%}}.team.rolling[_ngcontent-%COMP%], .team.loser[_ngcontent-%COMP%]{opacity:.3}.team.winner[_ngcontent-%COMP%]{opacity:1}.summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem .5rem}.list[_ngcontent-%COMP%]{min-height:500px;max-height:500px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.count[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.total[_ngcontent-%COMP%]{color:#fff;font-size:14px;transform:translateY(-1px);transition:color .5s}.total.won[_ngcontent-%COMP%]{color:#00c74d}.total.lost[_ngcontent-%COMP%]{color:#de4c41}.total.updated[_ngcontent-%COMP%]{transition:color .2s;color:#ecce75}@keyframes light_up{10%,50%{color:#ecce75}}"],data:{animation:[(0,v.X$)("betInAnim",[(0,v.eR)(":enter",[(0,v.oB)({opacity:0}),(0,v.jt)(".9s ease-out",(0,v.oB)({opacity:1}))])])]},changeDetection:0}),ae=(0,f.gn)([(0,m.c)(),(0,f.w6)("design:paramtypes",[de._M,p.KDu,p.UsA,L.h])],ae),l(52693);let Qe=(()=>{class n{constructor(t){this.warningClass="bg-warning",this.successClass="bg-success",this.dangerClass="bg-danger",this.countdown$=t.countdown$,this.countdownTotal$=t.countdownTotal$}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-countdown"]],inputs:{warningClass:"warningClass",successClass:"successClass",dangerClass:"dangerClass"},decls:3,vars:9,consts:[[3,"warningClass","dangerClass","successClass","total","now"]],template:function(t,i){1&t&&(e._UZ(0,"cw-progress",0),e.ALo(1,"push"),e.ALo(2,"push")),2&t&&e.Q6J("warningClass",i.warningClass)("dangerClass",i.dangerClass)("successClass",i.successClass)("total",e.lcZ(1,5,i.countdownTotal$))("now",e.lcZ(2,7,i.countdown$))},directives:[X.t],pipes:[$.f],styles:["cw-progress[_ngcontent-%COMP%]{position:relative;display:block;height:.25rem}"],changeDetection:0}),n})();var ge=l(48966),St=l(95149),Mt=l(97550);function Lt(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"div",9),e.ALo(2,"rollColor"),e._uU(3),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngClass","bg-"+e.lcZ(2,3,t.roll.value)),e.xp6(2),e.hij(" ",t.roll.value," "),e.xp6(2),e.hij("Nonce: ",t.roll.nonce,"")}}function bt(n,o){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,Lt,6,5,"ng-container",1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",t.roll)}}function xt(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"virtual-scroller",2,3),e.TgZ(3,"div",4,5),e.YNc(5,bt,2,1,"div",6),e.TgZ(6,"section",7),e.NdJ("visibilityChange",function(){return e.CHM(t),e.oxw().fetchMore()}),e.ALo(7,"push"),e._uU(8," \xa0"),e._UZ(9,"cw-loader",0),e.ALo(10,"push"),e._uU(11,"\xa0 "),e.qZA(),e.qZA(),e.qZA(),e.BQk()}if(2&n){const t=o.ngIf,i=e.MAs(2),r=e.oxw();e.xp6(1),e.Q6J("items",t)("bufferAmount",15),e.xp6(4),e.Q6J("ngForOf",i.viewPortItems)("ngForTrackBy",r.trackById),e.xp6(1),e.Q6J("intersectionSkipWhile",e.lcZ(7,8,r.dataSource.loading$))("intersectionSkipNotVisible",!0),e.xp6(3),e.Q6J("loading",e.lcZ(10,10,r.fetchingMore$))("type","view")}}let Je=(()=>{class n extends((0,ie.A)(ie.t)){constructor(){super(),this.fetchingMore$=new ee.X(!1)}ngOnInit(){this.games$=this.dataSource.connect()}toId(t){return atob(t).replace("Roll:","")}fetchMore(){this.fetchingMore$.next(!0),this.dataSource.fetchMore().finally(()=>this.fetchingMore$.next(!1))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-game-grid"]],inputs:{dataSource:"dataSource"},features:[e.qOj],decls:5,vars:9,consts:[[3,"loading","type"],[4,"ngIf"],[1,"h-100","pretty-scrollbar",3,"items","bufferAmount"],["scroll",""],[1,"grid"],["container",""],["class","roll-box",4,"ngFor","ngForOf","ngForTrackBy"],["cwIntersectionObserver","",1,"text-center","loader",3,"intersectionSkipWhile","intersectionSkipNotVisible","visibilityChange"],[1,"roll-box"],[1,"roll","text-center",3,"ngClass"],[1,"text-nowrap"]],template:function(t,i){1&t&&(e._UZ(0,"cw-loader",0),e.ALo(1,"push"),e.ALo(2,"push"),e.YNc(3,xt,12,12,"ng-container",1),e.ALo(4,"push")),2&t&&(e.Q6J("loading",e.lcZ(1,3,i.dataSource.loading$)&&!1===e.lcZ(2,5,i.fetchingMore$))("type","view"),e.xp6(3),e.Q6J("ngIf",e.lcZ(4,7,i.games$)))},directives:[F.R,T.O5,St.Vw,T.sg,Mt.Z,T.mk,te.oO],pipes:[$.f,Oe.q],styles:[".roll-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;place-content:center;border-width:.25rem;border-style:solid;padding:.5rem;border-color:#0000001a}.roll[_ngcontent-%COMP%]{width:5rem;height:5rem;line-height:5rem;margin:.25rem;border-radius:50%}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(7rem,auto));grid-gap:1rem;gap:1rem}.grid[_ngcontent-%COMP%]    >.loader{height:1rem;grid-column:1/-1}"],changeDetection:0}),n})();function yt(n,o){if(1&n&&(e.SDv(0,1,1),e.ALo(1,"date")),2&n){const t=o.$implicit;e.xp6(1),e.pQV(t[0]?e.xi3(1,1,t[0].scheduledAt,"yyyy-MM-dd"):""),e.QtT(0)}}let Ye=(()=>{class n{constructor(t,i,r){this.data=t,this.dialogRef=i,this.ngZone=r}ngOnInit(){this.dataSource=this.data.dataSource,this.games$=this.dataSource.connect()}close(){this.ngZone.run(()=>{this.dialogRef.close()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ge.WI),e.Y36(ge.so),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-game-grid-modal"]],decls:8,vars:4,consts:function(){let o;return o=$localize`:␟5ad6c5c6afdad7f3b59c379c42caafbb4d048f13␟1117781462998542859: Results for ${"\ufffd*2:1\ufffd"}:START_TAG_NG_TEMPLATE:${"\ufffd0:1\ufffd"}:INTERPOLATION:${"\ufffd/*2:1\ufffd"}:CLOSE_TAG_NG_TEMPLATE:${"\ufffd#4\ufffd"}:START_TAG_BUTTON:${"\ufffd#5\ufffd"}:START_TAG_CW_ICON:${"\ufffd/#5\ufffd"}:CLOSE_TAG_CW_ICON:${"\ufffd/#4\ufffd"}:CLOSE_TAG_BUTTON:`,[["mat-dialog-title","",1,"text-center"],o,[3,"ngIf"],["mat-icon-button","",1,"close",3,"click"],["inlineSVG","assets/icons/close.svg",1,"close-modal-icon"],[3,"dataSource"]]},template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e.tHW(1,1),e.YNc(2,yt,2,4,"ng-template",2),e.ALo(3,"push"),e.TgZ(4,"button",3),e.NdJ("click",function(){return i.close()}),e._UZ(5,"cw-icon",4),e.qZA(),e.N_p(),e.qZA(),e.TgZ(6,"mat-dialog-content"),e._UZ(7,"cw-roulette-game-grid",5),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",e.lcZ(3,2,i.games$)),e.xp6(5),e.Q6J("dataSource",i.dataSource))},directives:[ge.uh,T.O5,s.lW,q.o,a.d$,ge.xY,Je],pipes:[$.f,T.uU],styles:[".mat-dialog-content[_ngcontent-%COMP%]{height:65vh}"],changeDetection:0}),n})();l(57333),l(94629);var We=l(16890);function It(n,o){if(1&n&&(e.TgZ(0,"div",6),e._UZ(1,"span"),e.TgZ(2,"span",7),e._uU(3),e.ALo(4,"number"),e.qZA(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Gre("dot rounded-circle bg-",t,""),e.xp6(2),e.Oqu(e.xi3(4,4,i.getWinCount(t),"1.0-0"))}}function Pt(n,o){if(1&n&&(e._UZ(0,"img",11),e.ALo(1,"seasonalBranding"),e.ALo(2,"rollIcon")),2&n){const t=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,e.lcZ(2,3,t.rollValue)),e.LSH)}}function Bt(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.rollValue)}}const Dt=function(){return["./history"]};function $t(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"a",8),e.ALo(2,"rollColor"),e.YNc(3,Pt,3,5,"img",9),e.YNc(4,Bt,2,1,"ng-template",null,10,e.W1O),e.qZA(),e.BQk()),2&n){const t=o.$implicit,i=e.MAs(5),r=e.oxw();e.xp6(1),e.Q6J("routerLink",e.DdM(7,Dt))("ngClass","bg-"+e.lcZ(2,5,t.rollValue))("@appear",r.initialised?"yes":"no"),e.xp6(2),e.Q6J("ngIf",r.iconMode)("ngIfElse",i)}}let je=(()=>{class n extends((0,ie.A)(ie.t)){constructor(t){super(),this.rouletteWheelService=t,this._games=[],this.colors=["red","green","black"],this.initialised=!1,this.iconMode=!1,this.rouletteWheelService.enableBaitOption&&this.colors.push("red-bait","black-bait")}set games(t){!t||(this._games=t.filter(i=>"FINISHED"===i.status).slice(0,100),setTimeout(()=>this.initialised=!0))}get games(){return this._games}getWinCount(t){return this.games.filter(({rollValue:i})=>{const r=this.rouletteWheelService.getWheelItemFromRollValue(i);return!!r&&(r.tinyRollColor===t||r.rollColor===t)}).length}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-game-rolls"]],inputs:{iconMode:"iconMode",games:"games"},features:[e.qOj],decls:8,vars:9,consts:function(){let o;return o=$localize`:␟b4ad5d31681a666d5bf4e10cc4d7f3814b2f8c6f␟5894070366627431402:Last ${"\ufffd0\ufffd"}:INTERPOLATION:`,[[1,"last-percent","d-flex","justify-content-start","align-items-center"],[1,"label","mr-3"],o,["class","stat mr-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"rolls","d-flex","justify-content-center","mt-3"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"stat","mr-3"],[1,"percent"],[1,"roll","rounded-circle",3,"routerLink","ngClass"],["class","roll-icon",3,"src",4,"ngIf","ngIfElse"],["noIconTpl",""],[1,"roll-icon",3,"src"]]},template:function(t,i){1&t&&(e.TgZ(0,"section"),e.TgZ(1,"article",0),e.TgZ(2,"div",1),e.SDv(3,2),e.qZA(),e.YNc(4,It,5,7,"div",3),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,$t,6,8,"ng-container",5),e.ALo(7,"slice"),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.pQV(i.games.length),e.QtT(3),e.xp6(1),e.Q6J("ngForOf",i.colors)("ngForTrackBy",i.trackById),e.xp6(2),e.Q6J("ngForOf",e.Dn7(7,5,i.games,0,10))("ngForTrackBy",i.trackById))},directives:[T.sg,Pe.yS,T.mk,te.oO,T.O5],pipes:[T.OU,T.JJ,Oe.q,P.A,We.W],styles:[".rolls[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;max-width:100%}.roll[_ngcontent-%COMP%]{min-width:2rem;min-height:2rem;width:2rem;height:2rem;line-height:2rem;text-align:center;margin:.25rem;transition:transform .15s,filter .15s;transform-origin:50% 75%}.roll[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:#fff;filter:brightness(1.15)}.roll[_ngcontent-%COMP%]   .roll-icon[_ngcontent-%COMP%]{width:60%;height:60%;vertical-align:text-bottom}.last-percent[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;margin-right:.3rem;vertical-align:text-top}.last-percent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;font-size:.85em;padding-bottom:calc(1rem - .85em);text-transform:uppercase;transform:translateY(12%)}.last-percent[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:16px}"],data:{animation:[(0,v.X$)("appear",[(0,v.eR)("void => yes",[(0,v.oB)({opacity:0,transform:"rotate(-180deg)"}),(0,v.jt)("300ms ease-out")]),(0,v.eR)(":leave",[(0,v.jt)("300ms ease-out",(0,v.oB)({marginRight:"-2.25rem"}))])])]},changeDetection:0}),n})();var Be=l(60829);const Zt=H.Ps`
  fragment GameListGame on Game {
    id
    scheduledAt
    status
    roll {
      ...ProvablyRoll
    }
    totalBet
    totalPayout
    totalBetCount
    totalUserCount
  }
`,Nt=H.Ps`
  query RollHistory($first: PaginationAmount, $after: String, $orderBy: RollOrderBy, $game: GameType) {
    rollHistory(first: $first, after: $after, orderBy: $orderBy, game: $game) {
      id
      minId
      maxId
      minNonce
      maxNonce
      serverSeedId
      createdAt
      clientSeedId
      serverSeed {
        ...Seed
      }
      clientSeed {
        ...Seed
      }
    }
  }

  ${Be.QK}
`,Ut=H.Ps`
  query GameList($first: PaginationAmount, $after: String, $orderBy: [GameOrderBy], $minRollId: ID, $maxRollId: ID) {
    games(first: $first, after: $after, orderBy: $orderBy, minRollId: $minRollId, maxRollId: $maxRollId) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          ...GameListGame
        }
      }
    }
  }

  ${Zt}
  ${Be.cU}
  ${Be.QK}
`;var Gt=l(20820),Y=l(88279),Ve=l(67322),kt=l(98833),Qt=l(36544);function Jt(n,o){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Date"),e.qZA())}function Yt(n,o){if(1&n&&(e.TgZ(0,"td",14),e.TgZ(1,"div"),e.TgZ(2,"div"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(3),e.Oqu(e.xi3(4,1,t.createdAt,"mediumDate"))}}function Wt(n,o){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Server Seed"),e.qZA())}function jt(n,o){if(1&n&&(e.TgZ(0,"td",14),e.TgZ(1,"section",15),e.TgZ(2,"mat-form-field",16),e.TgZ(3,"mat-label"),e._UZ(4,"cw-icon",17),e._uU(5),e.qZA(),e._UZ(6,"input",18),e.qZA(),e.qZA(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(5),e.hij(" \xa0 Server Seed ",i.isSeedRevealed(t)?"":"(hashed)"," "),e.xp6(1),e.Q6J("value",t.serverSeed.value)("ngClass",i.isSeedRevealed(t)?"":"text-danger")}}function Vt(n,o){1&n&&(e.TgZ(0,"th",13),e._uU(1,"Public Seed"),e.qZA())}function Xt(n,o){if(1&n&&(e.TgZ(0,"td",14),e.TgZ(1,"section",15),e.TgZ(2,"mat-form-field",16),e.TgZ(3,"mat-label"),e._UZ(4,"cw-icon",17),e._uU(5," \xa0 Public Seed "),e.qZA(),e._UZ(6,"input",19),e.qZA(),e.qZA(),e.qZA()),2&n){const t=o.$implicit;e.xp6(6),e.Q6J("value",t.clientSeed.value)}}function zt(n,o){1&n&&(e.TgZ(0,"th",20),e._uU(1,"Games"),e.qZA())}function Ht(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",21),e.TgZ(1,"button",22),e.NdJ("click",function(){const u=e.CHM(t).$implicit;return e.oxw(2).openRolls(u.minId,u.maxId)}),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.AsE(" ",t.minNonce," - ",t.maxNonce," ")}}function qt(n,o){1&n&&e._UZ(0,"tr",23)}function Kt(n,o){1&n&&e._UZ(0,"tr",24)}function en(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"table",2),e.ynx(2,3),e.YNc(3,Jt,2,0,"th",4),e.YNc(4,Yt,5,4,"td",5),e.BQk(),e.ynx(5,6),e.YNc(6,Wt,2,0,"th",4),e.YNc(7,jt,7,3,"td",5),e.BQk(),e.ynx(8,7),e.YNc(9,Vt,2,0,"th",4),e.YNc(10,Xt,7,1,"td",5),e.BQk(),e.ynx(11,8),e.YNc(12,zt,2,0,"th",9),e.YNc(13,Ht,3,2,"td",10),e.BQk(),e.YNc(14,qt,1,0,"tr",11),e.YNc(15,Kt,1,0,"tr",12),e.qZA(),e.BQk()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("dataSource",t)("trackBy",i.trackById),e.xp6(13),e.Q6J("matHeaderRowDef",i.columns),e.xp6(1),e.Q6J("matRowDefColumns",i.columns)}}let Xe=(()=>{class n extends((0,ie.A)(ie.t)){constructor(t,i,r){super(),this.apollo=t,this.rouletteService=i,this.dialog=r,this.isLoading$=new ee.X(!0),this.columns=["createdAt","serverSeeds","publicSeeds","nonceRange"]}ngOnInit(){this.data$=this.apollo.query({query:Nt,variables:this.getRollHistoryVariables()}).pipe((0,c.U)(t=>t.data.rollHistory),(0,Me.b)(()=>{this.isLoading$.next(!1)}))}openRolls(t,i){this.dataSource?this.dataSource.queryRef.refetch(this.getGamesVariables(t,i)):this.dataSource=new p.g3E(this.apollo,{query:Ut,field:"games",variables:this.getGamesVariables(t,i)}),this.dialog.open(Ye,{width:"1140px",data:{dataSource:this.dataSource}})}isSeedRevealed(t){return this.rouletteService.isSeedRevealed(t)}getRollHistoryVariables(){return{first:14}}getGamesVariables(t,i){return{first:p.UZ,orderBy:"ID_DESC",minRollId:t,maxRollId:i}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(de._M),e.Y36(y.b),e.Y36(ge.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-game-table"]],features:[e.qOj],decls:3,vars:4,consts:[[4,"rxLet"],[3,"loading"],["mat-table","",1,"w-100",3,"dataSource","trackBy"],["matColumnDef","createdAt"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","serverSeeds"],["matColumnDef","publicSeeds"],["matColumnDef","nonceRange"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["fxLayout",""],["fxFlex","",1,"mr-2"],["inlineSVG","assets/icons/key-variant.svg"],["matInput","","readonly","","cwCopyToClipboard","",1,"seed",3,"value","ngClass"],["matInput","","readonly","","cwCopyToClipboard","",1,"seed",3,"value"],["mat-header-cell","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-stroked-button","","color","green",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.YNc(0,en,16,4,"ng-container",0),e._UZ(1,"cw-loader",1),e.ALo(2,"push")),2&t&&(e.Q6J("rxLet",i.data$),e.xp6(1),e.Q6J("loading",e.lcZ(2,2,i.isLoading$)))},directives:[Gt.e,F.R,Y.BZ,Y.w1,Y.fO,Y.Dz,Y.as,Y.nj,Y.ge,Y.ev,b.xw,Ve.KE,b.yH,Ve.hX,q.o,a.d$,kt.Nt,Qt.e,T.mk,te.oO,s.lW,Y.XQ,Y.Gk],pipes:[$.f,T.uU],styles:[".roll[_ngcontent-%COMP%]{width:2rem;height:2rem;line-height:2rem;text-align:center}mat-form-field[_ngcontent-%COMP%]{margin-bottom:-1rem}input.seed[_ngcontent-%COMP%]{cursor:copy}"],changeDetection:0}),n})();var Ee=l(81125);let ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-provably-fair"]],decls:94,vars:0,consts:function(){let o,t,i,r,u,h,S,M,w,U,G,ve;return o=$localize`:␟88dbbfccb1d8bc6bec97c72127bb42af90d1ed13␟7825774667285797207:Roll Game - Provably Fair`,t=$localize`:␟255163bc0b1920fe46e0f760c16e60b98b575d84␟1510788903016354343:Technical Details`,i=$localize`:␟1c4b64c0040e66ec3d6c33e3f55760637d1751ee␟8217445178354294878: Each section of the Roll wheel is assigned a number - and there are 15 potential numbers to land on. The resulting number from each spin is determined by a combination of three individual elements, which are fed into an algorithm:
`,r=$localize`:␟3cea312e6affdba80a20c4ae50d586924268fb47␟568795834594291640: What is it exactly? Well, technically speaking, it's a 32-bit stream of cryptographically strong pseudo-random data, which is converted to a hexadecimal string. ${"\ufffd#15\ufffd"}:START_EMPHASISED_TEXT:Well... you asked.${"\ufffd/#15\ufffd"}:CLOSE_EMPHASISED_TEXT:`,u=$localize`:␟0962aeb764b14165da2c4b0874b73ac5d6c1bac9␟5544603707104212889: Just like the public seed above, the Server Seed is generated daily, but while it's being used, we’ll only show you the encrypted version ${"\ufffd#42\ufffd"}:START_EMPHASISED_TEXT:(hash)${"\ufffd/#42\ufffd"}:CLOSE_EMPHASISED_TEXT:. Showing you the hashed version allows us to prove to you that the game outcomes are predetermined and have not been tampered with, without actually enabling you to work out the outcomes beforehand. It's about keeping it fair for everyone, right? `,h=$localize`:␟42b90b017ce5f985da3ac049c82367037e15afc2␟4115309389308840786: A new Server Seed is generated each day. After the day is over, we will reveal the ${"\ufffd#45\ufffd"}:START_EMPHASISED_TEXT:(unhashed)${"\ufffd/#45\ufffd"}:CLOSE_EMPHASISED_TEXT: Server Seed which was used for that day.${"\ufffd#46\ufffd\ufffd/#46\ufffd"}:LINE_BREAK:${"\ufffd#47\ufffd"}:START_TAG_STRONG:Once the seed for a certain day is revealed, you can use that day's revealed seed to verify two things:${"\ufffd/#47\ufffd"}:CLOSE_TAG_STRONG:`,S=$localize`:␟27c7bfba7033cc8dbf4caf42b40b6b3c87197838␟8913794084097958305:Verify`,M=$localize`:␟2b4c2c4f9c61cb10e2ff08c5ecb1ed0bc7f0cdae␟7546937598057458206: Since each roll, or outcome, is generated using cryptographically-secure randomness, the probability of a particular outcome will never change - even if you play 100,000,000 times. There’s no pattern or method used to determine which number will hit next - it’s sheer randomness.
`,w=$localize`:␟ec486e1f40f14fc01afe1955bcd337e8e7fde29a␟6373519010279714437: Today's Server Seed is currently in-use, therefore it is a secret and only the encrypted seed ${"[\ufffd#73\ufffd|\ufffd#74\ufffd]"}:START_EMPHASISED_TEXT:(hash)${"[\ufffd/#73\ufffd|\ufffd/#74\ufffd]"}:CLOSE_EMPHASISED_TEXT: is visible to you. You can not verify today's results until the day is over and the ${"[\ufffd#73\ufffd|\ufffd#74\ufffd]"}:START_EMPHASISED_TEXT:(unhashed)${"[\ufffd/#73\ufffd|\ufffd/#74\ufffd]"}:CLOSE_EMPHASISED_TEXT: Server Seed has been revealed.
`,w=e.Zx4(w),U=$localize`:␟bb00cc8b02f7b5bd6063700e2b1c35e8c32f99b8␟2359514063537574301: To verify the spins from a previous day, you can do so using the  "Independent Verification" code ${"\ufffd#77\ufffd"}:START_LINK:found here${"[\ufffd/#77\ufffd|\ufffd/#80\ufffd]"}:CLOSE_LINK:.${"[\ufffd#78\ufffd\ufffd/#78\ufffd|\ufffd#79\ufffd\ufffd/#79\ufffd]"}:LINE_BREAK: You can find the Public Seed (Client Seed), Server Seed and Game ID (Nonce) of all previous games in the table below.${"[\ufffd#78\ufffd\ufffd/#78\ufffd|\ufffd#79\ufffd\ufffd/#79\ufffd]"}:LINE_BREAK: For further information, please visit the ${"\ufffd#80\ufffd"}:START_LINK_1:Provably Fair page${"[\ufffd/#77\ufffd|\ufffd/#80\ufffd]"}:CLOSE_LINK: and read the details under the "Roll Game" section.
`,U=e.Zx4(U),G=$localize`:␟f9eefdfde840874affa6aed6db0e0b934b679edc␟7325713568851581930:${"\ufffd#83\ufffd"}:START_EMPHASISED_TEXT:${"\ufffd#84\ufffd"}:START_TAG_STRONG:Note:${"\ufffd/#84\ufffd"}:CLOSE_TAG_STRONG: Our Random Number Generator code was updated on 26th Feb 2020.${"\ufffd#85\ufffd\ufffd/#85\ufffd"}:LINE_BREAK: For all games played before Nonce 58,960 on 26th Feb 2020, please use ${"\ufffd#86\ufffd"}:START_LINK:this code${"\ufffd/#86\ufffd"}:CLOSE_LINK: for independent verification instead.${"\ufffd/#83\ufffd"}:CLOSE_EMPHASISED_TEXT:`,ve=$localize`:␟b27e079ff13586eef0ae02e153b9bc096d681005␟7808373128751871149:${"\ufffd#89\ufffd"}:START_EMPHASISED_TEXT:${"\ufffd#90\ufffd"}:START_TAG_STRONG:Note:${"\ufffd/#90\ufffd"}:CLOSE_TAG_STRONG: Our Random Number Generator code was updated on 9th May 2020.${"\ufffd#91\ufffd\ufffd/#91\ufffd"}:LINE_BREAK: For all games played between Nonce 58,960 and Nonce 330,105, please use ${"\ufffd#92\ufffd"}:START_LINK:this code${"\ufffd/#92\ufffd"}:CLOSE_LINK: for independent verification instead.${"\ufffd/#89\ufffd"}:CLOSE_EMPHASISED_TEXT:`,[[1,"h3"],o,[1,"h5"],t,i,["collapsedHeight","auto"],r,u,h,S,M,w,U,["target","_blank","href","https://repl.it/@QuentinRoll/csgoroll-roll-provably-fair"],["href","/info/provably-fair"],G,["href","https://repl.it/@QuentinRoll/csgoroll-roll-provably-fair-old","target","_blank"],ve,["href","https://repl.it/@QuentinRoll/csgoroll-roll-provably-fair-previous","target","_blank"]]},template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e.SDv(1,1),e.qZA(),e.TgZ(2,"h2",2),e.SDv(3,3),e.qZA(),e.TgZ(4,"p"),e.SDv(5,4),e.qZA(),e.TgZ(6,"mat-accordion"),e.TgZ(7,"mat-expansion-panel"),e.TgZ(8,"mat-expansion-panel-header",5),e.TgZ(9,"mat-panel-title"),e._uU(10," 1. Public Seed "),e.qZA(),e.TgZ(11,"mat-panel-description"),e._uU(12," This is a long piece of text that we generate daily, we show it to you the moment it's generated. "),e.qZA(),e.qZA(),e.TgZ(13,"p"),e.tHW(14,6),e._UZ(15,"em"),e.N_p(),e.qZA(),e.TgZ(16,"p"),e._uU(17," This Public Seed, along with the Server Seed and Nonce, make up the three-part combination needed to generate a fair and random game result."),e._UZ(18,"br"),e._uU(19," These three inputs are then fed into our algorithm, generating a cryptographically strong random result."),e._UZ(20,"br"),e.qZA(),e.TgZ(21,"p"),e._uU(22," When fed the same three inputs, our algorithm will "),e.TgZ(23,"em"),e._uU(24,"always"),e.qZA(),e._uU(25," generate the same result."),e._UZ(26,"br"),e._uU(27," This means that the results are entirely reproducible, you can use the same algorithm that we use to verify that the result we showed you was fair and not tampered with. "),e.qZA(),e.qZA(),e.TgZ(28,"mat-expansion-panel"),e.TgZ(29,"mat-expansion-panel-header",5),e.TgZ(30,"mat-panel-title"),e._uU(31," 2. Server Seed "),e.qZA(),e.TgZ(32,"mat-panel-description"),e._uU(33," This is a really long and secret passphrase that we generate daily. We show you the encrypted version while it's in use. "),e.qZA(),e.qZA(),e.TgZ(34,"p"),e._uU(35," This is the "),e.TgZ(36,"strong"),e.TgZ(37,"em"),e._uU(38,"secret"),e.qZA(),e.qZA(),e._uU(39," piece of the puzzle that we feed into the algorithm to generate a game's result. We keep it secret just so that you can't figure out the result of a game before the game has happened. "),e.qZA(),e.TgZ(40,"p"),e.tHW(41,7),e._UZ(42,"em"),e.N_p(),e.qZA(),e.TgZ(43,"p"),e.tHW(44,8),e._UZ(45,"em"),e._UZ(46,"br"),e._UZ(47,"strong"),e.N_p(),e.qZA(),e.TgZ(48,"ol"),e.TgZ(49,"li"),e._uU(50," Verify that the encrypted Server Seed we previously had shown you was in fact the hash of the now revealed "),e.TgZ(51,"em"),e._uU(52,"(unhashed)"),e.qZA(),e._uU(53," seed "),e.qZA(),e.TgZ(54,"li"),e._uU(55," Verify that the outcomes shown to you for all past Roll rounds during that day were generated using this revealed Server Seed, in combination with the Public Seed and Nonce "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(56,"mat-expansion-panel"),e.TgZ(57,"mat-expansion-panel-header",5),e.TgZ(58,"mat-panel-title"),e._uU(59," 3. Nonce "),e.qZA(),e.TgZ(60,"mat-panel-description"),e._uU(61," This one\u2019s pretty simple - it's the ID of the current Roll round. "),e.qZA(),e.qZA(),e._uU(62,' The first Roll round ever played would have an ID (or "nonce") of 1. This number increases by 1 for each new round. The nonce\'s job in generating outcomes is to ensure that, even when the same Public Seed and Server Seed combination are used, the outcome generated in the next game would still be different, since the seed combination is paired with a unique "nonce", the nonce for each game is always different, since the Round ID would have increased by one for every new game played. '),e.qZA(),e.qZA(),e._UZ(63,"br"),e.TgZ(64,"p"),e._uU(65,"When any of these three individual elements change, the randomly generated spin will also change."),e.qZA(),e._UZ(66,"hr"),e.TgZ(67,"h2",2),e.SDv(68,9),e.qZA(),e.TgZ(69,"p"),e.SDv(70,10),e.qZA(),e.TgZ(71,"p"),e.tHW(72,11),e._UZ(73,"em"),e._UZ(74,"em"),e.N_p(),e.qZA(),e.TgZ(75,"p"),e.tHW(76,12),e._UZ(77,"a",13),e._UZ(78,"br"),e._UZ(79,"br"),e._UZ(80,"a",14),e.N_p(),e.qZA(),e.TgZ(81,"p"),e.tHW(82,15),e.TgZ(83,"em"),e._UZ(84,"strong"),e._UZ(85,"br"),e._UZ(86,"a",16),e.qZA(),e.N_p(),e.qZA(),e.TgZ(87,"p"),e.tHW(88,17),e.TgZ(89,"em"),e._UZ(90,"strong"),e._UZ(91,"br"),e._UZ(92,"a",18),e.qZA(),e.N_p(),e.qZA(),e._UZ(93,"hr"))},directives:[Ee.pp,Ee.ib,Ee.yz,Ee.yK,Ee.u4],styles:[".mat-expansion-panel-header[_ngcontent-%COMP%]{padding-top:.625rem;padding-bottom:.625rem}"],changeDetection:0}),n})(),He=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-history"]],decls:2,vars:0,template:function(t,i){1&t&&(e._UZ(0,"cw-roulette-provably-fair"),e._UZ(1,"cw-roulette-game-table"))},directives:[ze,Xe],styles:[""],changeDetection:0}),n})();var tn=l(71345),nn=l.n(tn),on=l(75704);const an=["ballContainer"],ln=["wheel"],rn=["ripple"],sn=["number"];function cn(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.rollValue)}}function un(n,o){if(1&n&&(e._UZ(0,"img",18),e.ALo(1,"seasonalBranding")),2&n){const t=e.oxw().$implicit;e.Q6J("src",e.lcZ(1,1,t.rollIcon),e.LSH)}}function dn(n,o){if(1&n&&(e.TgZ(0,"div",14,15),e.YNc(2,cn,2,1,"span",16),e.YNc(3,un,2,3,"img",17),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.iconMode),e.xp6(1),e.Q6J("ngIf",t.iconMode)}}let qe=(()=>{class n{constructor(t,i,r,u){this.builder=t,this.wheelService=i,this.hostEl=r,this.rouletteWheelService=u,this.rotations=8,this.durationMs=6e3,this.iconMode=!0,this.delayMs=250,this.timeSincePreviousResult=0,this.crazy=!1,this.spinEnd=new e.vpe,this.slots=this.rouletteWheelService.slots,this.colors=this.rouletteWheelService.slots.map(h=>h.rollColor)}get previous(){return this._previous}set previous(t){if(!t||this._previous)return;this._previous=t;const i=this.getNumberPos(this._previous);this.wheel.nativeElement.style.transform=`rotate(${i}deg)`}get next(){return this._next}set next(t){if(t&&null!==this.timeSincePreviousResult){this._next=t;const i=this.timeSincePreviousResult>this.durationMs,r=i?0:this.durationMs-this.timeSincePreviousResult,u=r/this.durationMs,h=i?0:Math.floor(this.rotations*u);this.animate(t.seed,r,h)}}ngAfterViewInit(){}getNumberPos(t){return 360/this.slots.length*(t?t.index:0)*-1}animate(t,i=this.durationMs,r=this.rotations){(!(i-=150)||i<0)&&(i=0);const u=this.wheelService.getRandomEase(t),h=this.wheelService.getRandomEase(t+u),S=[.27,.74,.3+.4*u,1.02],G=[S,[0,1,.1+.4*u,.7+.25*h],[.27,.74,.3+.6*u,1+h/2],[.27,.74,.3+.6*u,-h]],ve=this.crazy?G[Math.floor(u*G.length)]:S;this.pie&&this.pie.pieSectors&&this.pie.pieSectors.length&&!p.WEn.isMobile()?(this.enhancedAnimation=!0,this.hostEl.nativeElement.classList.add("enhanced-animation")):(this.enhancedAnimation=!1,this.hostEl.nativeElement.classList.remove("enhanced-animation"));const Z=this.getNumberPos(this.previous),ot=360*r+this.getNumberPos(this.next),De=this.builder.build([(0,v.jt)(`${i}ms cubic-bezier(${ve.join(",")})`,(0,v.F4)([(0,v.oB)({transform:`rotate(${Z}deg)`,offset:0}),(0,v.oB)({transform:`rotate(${ot}deg)`,offset:1})]))]).create(this.wheel.nativeElement);De.onStart(()=>{this.tweener&&this.tweener.finish(!0),this.tweener=new p.IC3({duration:i,from:{deg:Z,progress:0},to:{deg:ot,progress:1},step:($e,qn)=>{if(!this.ballContainer)return;const Xn=(0,p.t7z)(20,50,1-$e.progress),zn=-Math.sin($e.progress*Math.PI*6)*Xn;if(this.enhancedAnimation){const he=this.focusedItem;this.focusedItem=this.findFocusedItem(-$e.deg+zn,this.pie.pieSectors,this.numbers),(!he||this.focusedItem.index!==he.index)&&(he&&(he.sector.nativeElement.classList.remove("focused"),he.number.nativeElement.classList.remove("focused"),this.ripple.nativeElement.classList.remove(`bg-${this.colors[he.index]}`)),this.focusedItem&&(this.focusedItem.sector.nativeElement.classList.add("focused"),this.focusedItem.number.nativeElement.classList.add("focused"),this.ripple.nativeElement.classList.add(`bg-${this.colors[this.focusedItem.index]}`)))}},complete:()=>{},easingFn:nn().apply(this,ve)})}),De.onDone(()=>this.spinEnd.next(this.next)),De.play()}findFocusedItem(t,i,r){if(!i||!r)return{};const u=360/i.length;t+=u/2,(t%=360)<0&&(t+=360);const h=Math.floor(t/u);return{sector:i._results[h],number:r._results[h],index:h}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v._j),e.Y36(re.$3),e.Y36(e.SBq),e.Y36(L.h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-wheel"]],viewQuery:function(t,i){if(1&t&&(e.Gf(an,5),e.Gf(ln,7),e.Gf(rn,5),e.Gf(ue.Rn,5),e.Gf(sn,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.ballContainer=r.first),e.iGM(r=e.CRH())&&(i.wheel=r.first),e.iGM(r=e.CRH())&&(i.ripple=r.first),e.iGM(r=e.CRH())&&(i.pie=r.first),e.iGM(r=e.CRH())&&(i.numbers=r)}},inputs:{rotations:"rotations",durationMs:"durationMs",iconMode:"iconMode",delayMs:"delayMs",timeSincePreviousResult:"timeSincePreviousResult",crazy:"crazy",trackBy:"trackBy",previous:"previous",next:"next"},outputs:{spinEnd:"spinEnd"},decls:14,vars:5,consts:[[1,"wheel-container"],[1,"ball-container"],["ballContainer",""],[1,"ball"],["ball",""],[1,"wheel"],["wheel",""],[1,"roulette-pie",3,"colors","offset","highlightEnabled"],["pie",""],[1,"numbers"],["class","number",4,"ngFor","ngForOf","ngForTrackBy"],[1,"center-cover"],[1,"center-cover-ripple"],["ripple",""],[1,"number"],["number",""],[4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1,2),e._UZ(3,"div",3,4),e.qZA(),e.TgZ(5,"div",5,6),e._UZ(7,"cw-pie",7,8),e.TgZ(9,"div",9),e.YNc(10,dn,4,2,"div",10),e.qZA(),e.TgZ(11,"div",11),e._UZ(12,"div",12,13),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(7),e.Q6J("colors",i.colors)("offset",-78)("highlightEnabled",!0),e.xp6(3),e.Q6J("ngForOf",i.slots)("ngForTrackBy",i.trackBy))},directives:[on.R,T.sg,T.O5],pipes:[P.A],styles:['.no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.wheel-container[_ngcontent-%COMP%]{position:relative}.wheel[_ngcontent-%COMP%]{position:relative;width:700px;height:700px;padding:8px;overflow:hidden;background-size:cover}.center-track[_ngcontent-%COMP%], .center-cover[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;border-radius:50%}.center-cover[_ngcontent-%COMP%]{overflow:hidden;border:4px solid rgba(0,0,0,.2)}.center-cover[_ngcontent-%COMP%]   .center-cover-ripple[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;transform:scale3d(0,0,0);opacity:.5;border-radius:inherit}.ball-container[_ngcontent-%COMP%]{position:absolute;z-index:40;height:50%;left:50%;transform:translate(-50%);transform-origin:50% 100%;margin-top:-2.81rem}.number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:.5rem;margin-top:44px}.ball[_ngcontent-%COMP%]{width:.1875rem;height:100%;position:relative}.ball[_ngcontent-%COMP%]:before{position:absolute;content:"";width:100%;height:100%;background:#ffffff;box-shadow:-8px 0 4px #0003}.center-track[_ngcontent-%COMP%]{width:548.7179487179px;height:548.7179487179px;margin-left:-274.358974359px;margin-top:-274.358974359px;background:rgba(0,0,0,.2)}.center-cover[_ngcontent-%COMP%]{width:448.7179487179px;height:448.7179487179px;margin-left:-224.358974359px;margin-top:-224.358974359px;background:rgba(0,0,0,.1) padding-box;transform:translateZ(0)}cw-pie[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}cw-pie[_ngcontent-%COMP%]     path.slice{stroke:#1f2227;stroke-width:.7px}.numbers[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.number[_ngcontent-%COMP%]{position:absolute;color:#fff;font-size:36.4px;font-weight:700;text-align:center;width:70px;height:70px;display:flex;justify-content:center;align-items:center}.number[_ngcontent-%COMP%]:nth-child(15){left:179.24292118px;top:27.8456899645px;transform:rotate(336deg)}.number[_ngcontent-%COMP%]:nth-child(14){left:76.7458139984px;top:103.9433334541px;transform:rotate(312deg)}.number[_ngcontent-%COMP%]:nth-child(13){left:14.06174737px;top:215.1513193014px;transform:rotate(288deg)}.number[_ngcontent-%COMP%]:nth-child(12){left:2.0293658818px;top:342.2407764606px;transform:rotate(264deg)}.number[_ngcontent-%COMP%]:nth-child(11){left:42.7291776039px;top:463.2367832173px;transform:rotate(240deg)}.number[_ngcontent-%COMP%]:nth-child(10){left:129.1238153433px;top:557.2180307891px;transform:rotate(216deg)}.number[_ngcontent-%COMP%]:nth-child(9){left:246.2748613643px;top:607.9343076781px;transform:rotate(192deg)}.number[_ngcontent-%COMP%]:nth-child(8){left:373.925835526px;top:606.6163088671px;transform:rotate(168deg)}.number[_ngcontent-%COMP%]:nth-child(7){left:490.0047247231px;top:553.4919283243px;transform:rotate(144deg)}.number[_ngcontent-%COMP%]:nth-child(6){left:574.4404344698px;top:457.7468540654px;transform:rotate(120deg)}.number[_ngcontent-%COMP%]:nth-child(5){left:612.6332634766px;top:335.9362792464px;transform:rotate(96deg)}.number[_ngcontent-%COMP%]:nth-child(4){left:597.9793246373px;top:209.1223588678px;transform:rotate(72deg)}.number[_ngcontent-%COMP%]:nth-child(3){left:533.0124171041px;top:99.2323718315px;transform:rotate(48deg)}.number[_ngcontent-%COMP%]:nth-child(2){left:428.9659093951px;top:25.2672952151px;transform:rotate(24deg)}.number[_ngcontent-%COMP%]:nth-child(1){left:303.8303879263px;top:.0163627173px;transform:rotate(0)}.number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}@media only screen and (min-height: 1200px){.wheel[_ngcontent-%COMP%]{height:875px;width:875px;padding:10px}.center-track[_ngcontent-%COMP%]{width:685.8974358974px;height:685.8974358974px;margin-left:-342.9487179487px;margin-top:-342.9487179487px}.center-cover[_ngcontent-%COMP%]{width:560.8974358974px;height:560.8974358974px;margin-left:-280.4487179487px;margin-top:-280.4487179487px}.number[_ngcontent-%COMP%]{font-size:45.5px;width:87.5px;height:87.5px}.number[_ngcontent-%COMP%]:nth-child(15){left:224.053651475px;top:34.8071124556px;transform:rotate(336deg)}.number[_ngcontent-%COMP%]:nth-child(14){left:95.9322674979px;top:129.9291668177px;transform:rotate(312deg)}.number[_ngcontent-%COMP%]:nth-child(13){left:17.5771842125px;top:268.9391491268px;transform:rotate(288deg)}.number[_ngcontent-%COMP%]:nth-child(12){left:2.5367073523px;top:427.8009705757px;transform:rotate(264deg)}.number[_ngcontent-%COMP%]:nth-child(11){left:53.4114720049px;top:579.0459790216px;transform:rotate(240deg)}.number[_ngcontent-%COMP%]:nth-child(10){left:161.4047691792px;top:696.5225384864px;transform:rotate(216deg)}.number[_ngcontent-%COMP%]:nth-child(9){left:307.8435767054px;top:759.9178845976px;transform:rotate(192deg)}.number[_ngcontent-%COMP%]:nth-child(8){left:467.4072944075px;top:758.2703860839px;transform:rotate(168deg)}.number[_ngcontent-%COMP%]:nth-child(7){left:612.5059059038px;top:691.8649104054px;transform:rotate(144deg)}.number[_ngcontent-%COMP%]:nth-child(6){left:718.0505430872px;top:572.1835675817px;transform:rotate(120deg)}.number[_ngcontent-%COMP%]:nth-child(5){left:765.7915793458px;top:419.9203490579px;transform:rotate(96deg)}.number[_ngcontent-%COMP%]:nth-child(4){left:747.4741557967px;top:261.4029485847px;transform:rotate(72deg)}.number[_ngcontent-%COMP%]:nth-child(3){left:666.2655213801px;top:124.0404647893px;transform:rotate(48deg)}.number[_ngcontent-%COMP%]:nth-child(2){left:536.2073867439px;top:31.5841190189px;transform:rotate(24deg)}.number[_ngcontent-%COMP%]:nth-child(1){left:379.7879849079px;top:.0204533967px;transform:rotate(0)}.ball[_ngcontent-%COMP%]{width:.234375rem;height:125%;margin-top:7.125rem}}@media only screen and (min-height: 1800px){.wheel[_ngcontent-%COMP%]{height:1050px;width:1050px;padding:12px}.center-track[_ngcontent-%COMP%]{width:823.0769230769px;height:823.0769230769px;margin-left:-411.5384615385px;margin-top:-411.5384615385px}.center-cover[_ngcontent-%COMP%]{width:673.0769230769px;height:673.0769230769px;margin-left:-336.5384615385px;margin-top:-336.5384615385px}.number[_ngcontent-%COMP%]{font-size:54.6px;width:105px;height:105px}.number[_ngcontent-%COMP%]:nth-child(15){left:268.86438177px;top:41.7685349468px;transform:rotate(336deg)}.number[_ngcontent-%COMP%]:nth-child(14){left:115.1187209975px;top:155.9150001812px;transform:rotate(312deg)}.number[_ngcontent-%COMP%]:nth-child(13){left:21.092621055px;top:322.7269789522px;transform:rotate(288deg)}.number[_ngcontent-%COMP%]:nth-child(12){left:3.0440488227px;top:513.3611646909px;transform:rotate(264deg)}.number[_ngcontent-%COMP%]:nth-child(11){left:64.0937664059px;top:694.855174826px;transform:rotate(240deg)}.number[_ngcontent-%COMP%]:nth-child(10){left:193.685723015px;top:835.8270461837px;transform:rotate(216deg)}.number[_ngcontent-%COMP%]:nth-child(9){left:369.4122920465px;top:911.9014615171px;transform:rotate(192deg)}.number[_ngcontent-%COMP%]:nth-child(8){left:560.888753289px;top:909.9244633007px;transform:rotate(168deg)}.number[_ngcontent-%COMP%]:nth-child(7){left:735.0070870846px;top:830.2378924865px;transform:rotate(144deg)}.number[_ngcontent-%COMP%]:nth-child(6){left:861.6606517047px;top:686.6202810981px;transform:rotate(120deg)}.number[_ngcontent-%COMP%]:nth-child(5){left:918.9498952149px;top:503.9044188695px;transform:rotate(96deg)}.number[_ngcontent-%COMP%]:nth-child(4){left:896.968986956px;top:313.6835383017px;transform:rotate(72deg)}.number[_ngcontent-%COMP%]:nth-child(3){left:799.5186256561px;top:148.8485577472px;transform:rotate(48deg)}.number[_ngcontent-%COMP%]:nth-child(2){left:643.4488640927px;top:37.9009428226px;transform:rotate(24deg)}.number[_ngcontent-%COMP%]:nth-child(1){left:455.7455818895px;top:.024544076px;transform:rotate(0)}.number[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.ball[_ngcontent-%COMP%]{width:.28125rem;height:150%;margin-top:8.55rem}}'],changeDetection:0}),n})();var gn=l(59468);function pn(n,o){if(1&n&&(e.TgZ(0,"div",1),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.tHW(3,4),e._UZ(4,"span",5),e.N_p(),e.qZA(),e._UZ(5,"cw-pretty-balance",6),e.ALo(6,"push"),e.ALo(7,"ticker"),e.qZA(),e._UZ(8,"cw-triple-jackpot-result",7),e.qZA()),2&n){const t=o.ngIf;e.xp6(5),e.Q6J("balance",e.lcZ(6,2,e.xi3(7,4,t.totalValue,"gameJackpot"))),e.xp6(3),e.Q6J("consecutiveCount",t.consecutiveCount)}}let Ke=(()=>{class n{constructor(t){this.rouletteService=t,this.gameJackpot$=this.rouletteService.gameJackpot$.pipe((0,gn.p)(250,d.Z,{leading:!0,trailing:!0}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cw-roulette-jackpot"]],decls:2,vars:3,consts:function(){let o;return o=$localize`:␟2d3ef3061dc32ffaf33df7ed5f5694f78ac1b501␟2134466622153482663:${"\ufffd#4\ufffd"}:START_TAG_SPAN:Triple Green Jackpot${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,[["class","roulette-jackpot-wrapper",4,"ngIf"],[1,"roulette-jackpot-wrapper"],["fxLayout","column",1,"jackpot-total"],["fxLayout","","fxLayoutAlign"," center","fxLayoutGap","0.2rem"],o,[1,"label"],[1,"test",3,"balance"],[1,"jackpot-results",3,"consecutiveCount"]]},template:function(t,i){1&t&&(e.YNc(0,pn,9,7,"div",0),e.ALo(1,"push")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.gameJackpot$))},directives:[T.O5,b.xw,b.Wh,b.SQ,J.q,W],pipes:[$.f,ke.t],styles:[".label[_ngcontent-%COMP%]{font-weight:500;font-size:.85em;text-transform:uppercase}.roulette-jackpot-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}.roulette-jackpot-wrapper[_ngcontent-%COMP%]   .jackpot-total[_ngcontent-%COMP%]{height:50px;justify-content:space-between}.roulette-jackpot-wrapper[_ngcontent-%COMP%]   .jackpot-results[_ngcontent-%COMP%]{margin-left:20px}.roulette-jackpot-wrapper[_ngcontent-%COMP%]     cw-pretty-balance .coins{width:1.5em}.roulette-jackpot-wrapper[_ngcontent-%COMP%]     cw-pretty-balance .currency-value{padding-left:3px;font-size:20px;color:#fff}"],changeDetection:0}),n})(),et=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[O],imports:[[ue.vY,re.Fc,Y.p0]]}),n})();var _n=l(99623),mn=l(93075),Re=(()=>{return(n=Re||(Re={})).CIRCULAR="CIRCULAR",n.HORIZONTAL="HORIZONTAL",Re;var n})(),tt=l(87254),hn=l(50727),Tn=l(56451),fn=l(29782),Cn=l(17371),Fn=l(89979),nt=l(69832),On=l(32368),En=l(63393),Rn=l(966),vn=l(88991),Sn=l(10217);function Mn(n,o){1&n&&e._UZ(0,"cw-game-in-maintenance",2)}function Ln(n,o){if(1&n&&e._UZ(0,"cw-roulette-jackpot",29),2&n){const t=e.oxw(3);e.Q6J("ngbTooltip",t.jackpotTooltipInfo)}}function bn(n,o){if(1&n&&(e.TgZ(0,"header"),e._UZ(1,"cw-roulette-game-rolls",26),e.TgZ(2,"div",27),e.YNc(3,Ln,1,1,"cw-roulette-jackpot",28),e.ALo(4,"push"),e.qZA(),e.qZA()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("iconMode",i.iconMode)("games",t),e.xp6(2),e.Q6J("ngIf",!1===e.lcZ(4,3,i.maintenanceGameJackpot$))}}function xn(n,o){1&n&&e._UZ(0,"cw-roulette-jackpot")}function yn(n,o){1&n&&(e.ynx(0),e.YNc(1,xn,1,0,"cw-roulette-jackpot",4),e.BQk()),2&n&&(e.xp6(1),e.Q6J("cwMediaIf","lt-md"))}function An(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().item;e.xp6(1),e.Oqu(t.rollValue)}}function wn(n,o){if(1&n&&(e._UZ(0,"img",32),e.ALo(1,"seasonalBranding")),2&n){const t=e.oxw().item;e.Q6J("src",e.lcZ(1,1,t.rollIcon),e.LSH)}}function In(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,An,2,1,"span",5),e.YNc(2,wn,2,3,"img",31),e.qZA()),2&n){const t=o.item,i=e.oxw(3);e.Gre("wheel-item ",t.rollColor,""),e.xp6(1),e.Q6J("ngIf",!i.iconMode),e.xp6(1),e.Q6J("ngIf",i.iconMode)}}function Pn(n,o){if(1&n&&(e.ynx(0),e.TgZ(1,"cw-wheel",30),e.ALo(2,"lowercase"),e.ALo(3,"push"),e.ALo(4,"push"),e.YNc(5,In,3,5,"ng-template"),e.qZA(),e.BQk()),2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("status",e.lcZ(2,9,null==t[0]?null:t[0].status))("durationMs",i.durationMs)("timeSincePreviousResult",e.lcZ(3,11,i.timeSincePreviousResult$))("totalItems",105)("items",i.slots)("previous",i.previousIndex)("next",i.nextIndex)("crazy",e.lcZ(4,13,i.crazy$))("trackBy",i.trackBySlot)}}function Bn(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"cw-roulette-wheel",33),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().ngIf,u=e.oxw();return"STARTED"!==(null==r[0]?null:r[0].status)&&u.setWheelType(u.WheelType.HORIZONTAL)}),e.ALo(2,"lowercase"),e.ALo(3,"push"),e.ALo(4,"push"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.lcZ(2,8,null==t[0]?null:t[0].status))("durationMs",i.durationMs)("iconMode",i.iconMode)("timeSincePreviousResult",e.lcZ(3,10,i.timeSincePreviousResult$))("previous",i.previousIndex)("next",i.nextIndex)("crazy",e.lcZ(4,12,i.crazy$))("trackBy",i.trackBySlot)}}const be=function(n,o){return[n,o]};function Dn(n,o){if(1&n&&(e.TgZ(0,"cw-roulette-bet-button",35),e.SDv(1,41),e.ALo(2,"push"),e.qZA()),2&n){const t=e.oxw().ngIf,i=e.oxw(2);e.Q6J("gameId",t.id)("iconMode",i.iconMode)("ctrlAmount",i.ctrl)("disabled",e.lcZ(2,7,i.spinning$))("selectionType",i.GameSelectionType.BAIT)("rollColors",e.WLB(9,be,null==i.baitSlots[0]?null:i.baitSlots[0].rollColor,null==i.baitSlots[1]?null:i.baitSlots[1].rollColor))("rollIcons",e.WLB(12,be,null==i.baitSlots[0]?null:i.baitSlots[0].rollIcon,null==i.baitSlots[1]?null:i.baitSlots[1].rollIcon))}}function $n(n,o){if(1&n&&(e.TgZ(0,"footer"),e._UZ(1,"cw-roulette-game-rolls",42),e.qZA()),2&n){const t=e.oxw(2).ngIf,i=e.oxw();e.xp6(1),e.Q6J("games",t)("iconMode",i.iconMode)}}const Zn=function(n){return["red",n]},Nn=function(){return["green"]},Un=function(n){return[n]},Gn=function(n){return["black",n]};function kn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"section",34),e.TgZ(2,"cw-roulette-bet-button",35),e.SDv(3,36),e.ALo(4,"push"),e.ALo(5,"push"),e.ALo(6,"gameSelectionTypeIcon"),e.qZA(),e.TgZ(7,"cw-roulette-bet-button",35),e.SDv(8,37),e.ALo(9,"push"),e.ALo(10,"gameSelectionTypeIcon"),e.qZA(),e.TgZ(11,"cw-roulette-bet-button",35),e.SDv(12,38),e.ALo(13,"push"),e.ALo(14,"push"),e.ALo(15,"gameSelectionTypeIcon"),e.qZA(),e.YNc(16,Dn,3,15,"cw-roulette-bet-button",39),e.qZA(),e.TgZ(17,"cw-roulette-bet-list",40),e.NdJ("userHasRedBet",function(r){return e.CHM(t),e.oxw(2).setUserRedBet(r)})("userHasBlackBet",function(r){return e.CHM(t),e.oxw(2).setUserBlackBet(r)}),e.qZA(),e.YNc(18,$n,2,2,"footer",4),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw(2);e.xp6(1),e.Q6J("gdColumns","1fr 1fr 1fr"+(i.enableBaitOption?" 1fr":""))("gdColumns.lt-md","1fr 1fr"+(i.enableBaitOption?"":" 1fr")),e.xp6(1),e.Q6J("gameId",t.id)("iconMode",i.iconMode)("ctrlAmount",i.ctrl)("disabled",e.lcZ(4,26,i.spinning$)||e.lcZ(5,28,i.userHasBlackBet$))("selectionType",i.GameSelectionType.RED)("rollColors",e.VKq(42,Zn,i.enableBaitOption?null==i.baitSlots[0]?null:i.baitSlots[0].rollColor:""))("rollIcons",e.WLB(44,be,e.lcZ(6,30,i.GameSelectionType.RED),i.enableBaitOption?null==i.baitSlots[0]?null:i.baitSlots[0].rollIcon:"")),e.xp6(5),e.Q6J("gameId",t.id)("iconMode",i.iconMode)("ctrlAmount",i.ctrl)("disabled",e.lcZ(9,32,i.spinning$))("selectionType",i.GameSelectionType.GREEN)("rollColors",e.DdM(47,Nn))("rollIcons",e.VKq(48,Un,e.lcZ(10,34,i.GameSelectionType.GREEN))),e.xp6(4),e.Q6J("gameId",t.id)("iconMode",i.iconMode)("ctrlAmount",i.ctrl)("disabled",e.lcZ(13,36,i.spinning$)||e.lcZ(14,38,i.userHasRedBet$))("selectionType",i.GameSelectionType.BLACK)("rollColors",e.VKq(50,Gn,i.enableBaitOption?null==i.baitSlots[1]?null:i.baitSlots[1].rollColor:""))("rollIcons",e.WLB(52,be,e.lcZ(15,40,i.GameSelectionType.BLACK),i.enableBaitOption?null==i.baitSlots[1]?null:i.baitSlots[1].rollIcon:"")),e.xp6(5),e.Q6J("ngIf",i.enableBaitOption),e.xp6(1),e.Q6J("game",t),e.xp6(1),e.Q6J("cwMediaIf","lt-md")}}const Qn=function(n){return{active:n}};function Jn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.YNc(1,bn,5,5,"header",4),e.YNc(2,yn,2,1,"ng-container",5),e.ALo(3,"push"),e.TgZ(4,"div",6),e.ynx(5,7),e.YNc(6,Pn,6,15,"ng-container",8),e.YNc(7,Bn,5,14,"ng-container",8),e.BQk(),e.qZA(),e.TgZ(8,"div",9),e.TgZ(9,"div",10),e.TgZ(10,"div",11),e.TgZ(11,"div",12),e.TgZ(12,"mat-button-toggle-group",13),e.NdJ("change",function(r){return e.CHM(t),e.oxw().setWheelTypeToggle(r)}),e.TgZ(13,"mat-button-toggle",14),e.SDv(14,15),e.qZA(),e.TgZ(15,"mat-button-toggle",14),e.SDv(16,16),e.qZA(),e.qZA(),e.qZA(),e._UZ(17,"div",17),e.TgZ(18,"div",18),e.TgZ(19,"div",19),e.ALo(20,"push"),e.TgZ(21,"mat-slide-toggle",20),e.NdJ("change",function(r){return e.CHM(t),e.oxw().setValueOfCrazyToggle(r)}),e.ALo(22,"push"),e.TgZ(23,"span",21),e.TgZ(24,"span"),e.SDv(25,22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(26,"cw-next-roll",23),e._UZ(27,"cw-roulette-countdown",24),e.qZA(),e._UZ(28,"cw-amount-input",25),e.YNc(29,kn,19,55,"div",5),e.qZA(),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw();e.xp6(1),e.Q6J("cwMediaIf","gt-sm"),e.xp6(1),e.Q6J("ngIf",!1===e.lcZ(3,16,i.maintenanceGameJackpot$)),e.xp6(2),e.Gre("play-area ",i.wheelType.toLowerCase(),""),e.xp6(1),e.Q6J("ngSwitch",i.wheelType),e.xp6(1),e.Q6J("ngSwitchCase",i.WheelType.HORIZONTAL),e.xp6(1),e.Q6J("ngSwitchCase",i.WheelType.CIRCULAR),e.xp6(5),e.Q6J("disabled","STARTED"==(null==t[0]?null:t[0].status))("value",i.wheelType),e.xp6(1),e.Q6J("value",i.WheelType.HORIZONTAL),e.xp6(2),e.Q6J("value",i.WheelType.CIRCULAR),e.xp6(4),e.Q6J("ngClass",e.VKq(22,Qn,e.lcZ(20,18,i.crazy$))),e.xp6(2),e.Q6J("checked",e.lcZ(22,20,i.crazy$)),e.xp6(7),e.Q6J("ctrl",i.ctrl),e.xp6(1),e.Q6J("ngIf",t[0])}}let pe=class{constructor(o,t,i,r,u,h,S,M,w,U){this.localStorage=t,this.rouletteService=i,this.validatorService=r,this.soundService=u,this.localStorageService=h,this.dialog=S,this.cdr=M,this.rouletteWheelService=w,this.GameSelectionType=I.Q,this.dialogWidth=400,this.dialogHeight=500,this.dialogRef=null,this.jackpotTooltipInfo="0.66666% of all the bets from the round will be added into the jackpot. The jackpot will be won any time that there\u2019s 3 greens in a row - everyone who placed a bet during any of these 3 rounds will take a split of the jackpot prize pool. The jackpot prize pool will be split into three, and the winnings for each third will be shared proportionately with the players from each round. So if you wagered 100 in one of the 3 rounds, and the total wager of that round was 200 - you\u2019ll receive 50% of 1/3rd of the total jackpot \u{1f911}",this.crazy$=this.rouletteService.crazy$,this.maintenanceSettingKey="maintenance:roulette",this.slots=this.rouletteWheelService.slots,this.baitSlots=this.rouletteWheelService.baitSlots,this.WheelType=Re,this.wheelType=this.localStorage.get(ce.F.ROULETTE_WHEEL_TYPE)||Re.HORIZONTAL,this.games$=this.rouletteService.games$,this.spinning$=this.rouletteService.spinning$,this.timeSincePreviousResult$=this.rouletteService.timeSincePreviousResult$,this.ctrl=new mn.NI(this.lastBetAmount,this.validatorService.bet),this.rouletteWinSubscription=new hn.w0,this.userHasRedBet$=new ee.X(null),this.userHasBlackBet$=new ee.X(null),this.durationMs=o.roulette.durationMs,this.iconMode=o.roulette.iconMode,this.maintenanceGameJackpot$=U.getSetting("maintenance:game_jackpot").pipe((0,c.U)(G=>null==G?void 0:G.value))}get enableBaitOption(){return this.rouletteWheelService.enableBaitOption}get lastBetAmount(){const o=parseFloat(this.localStorageService.get(ce.F.ROULETTE_LAST_BET_AMOUNT));return isNaN(o)?1:+(0,Ae.Big)(o).toFixed(2)}ngOnInit(){this.rouletteService.initializeGameQueryRef(),this.rouletteService.games$.pipe((0,A.h)(o=>!!o.length),(0,c.U)(o=>o.slice(0,2)),(0,m.t)(this)).subscribe(([o,t])=>{var i;t&&(null===(i=this.previousIndex)||void 0===i?void 0:i.seed)!==t.id&&(this.previousIndex={index:this.rouletteWheelService.getNumberIndex(t.rollValue),seed:t.id}),"STARTED"===o.status&&null!==o.rollValue&&(this.nextIndex={index:this.rouletteWheelService.getNumberIndex(o.rollValue),seed:o.id})}),this.rouletteWinSubscription.add(this.rouletteService.jackpotWin$.pipe((0,A.h)(o=>!!o),(0,m.t)(this)).subscribe(o=>{this.openRouletteWinDialog(o),this.cdr.detectChanges()}))}openRouletteWinDialog(o){this.dialogRef=this.dialog.open(N,{width:`${this.dialogWidth}px`,height:`${this.dialogHeight}px`,panelClass:"roulette-win-dialog"}),this.dialogRef.componentInstance.gameJackpot=o,this.dialogRef.componentInstance.showFireworks=!0,this.dialogRef.componentInstance.showCountdown=!0,(0,Tn.T)(this.dialogRef.afterClosed(),this.dialogRef.componentInstance.countdownComplete).pipe((0,m.t)(this)).subscribe(()=>{this.dialogRef.close()}),this.dialogRef.updatePosition(this.getDialogPositionPx())}onResize(){var o;null===(o=this.dialogRef)||void 0===o||o.updatePosition(this.getDialogPositionPx())}getDialogPositionPx(){const o=window.innerHeight,t=document.querySelector("mat-sidenav-content").getBoundingClientRect();return{left:t.left+t.width/2-this.dialogWidth/2+"px",top:o/2-this.dialogHeight/2+"px"}}setWheelType(o){this.wheelType=o,this.localStorage.set(ce.F.ROULETTE_WHEEL_TYPE,o)}setWheelTypeToggle(o){this.setWheelType(o.value)}setValueOfCrazyToggle(o){this.rouletteService.crazy$.next(o.checked),o.checked&&this.soundService.playSound("JESTER"),this.localStorage.set(ce.F.ROULETTE_MODE_CRAZY,o.checked)}setUserRedBet(o){this.userHasRedBet$.next(o)}setUserBlackBet(o){this.userHasBlackBet$.next(o)}trackBySlot(o,{rollValue:t}){return t}};pe.\u0275fac=function(o){return new(o||pe)(e.Y36(p.qBz),e.Y36(tt.n2),e.Y36(y.b),e.Y36(p.oPl),e.Y36(p.yu5),e.Y36(p.Vtq),e.Y36(ge.uw),e.Y36(e.sBO),e.Y36(L.h),e.Y36(p.RCL))},pe.\u0275cmp=e.Xpm({type:pe,selectors:[["cw-roulette"]],hostBindings:function(o,t){1&o&&e.NdJ("resize",function(r){return t.onResize(r)},!1,e.Jf7)},decls:3,vars:4,consts:function(){let n,o,t,i,r,u,h;return n=$localize`:␟4cfabb48965febabe67eb491a3b7e58555d3d52a␟4580786032076405950:Classic`,o=$localize`:␟90f280a0d262304086ccd3fbcf23d346f6b9b3e7␟93222677820351538:Wheel`,t=$localize`:␟2e101de36811ee812485954cc5f51a12c3f636eb␟6309044243707793004:Crazy Mode`,i=$localize`:␟24687fe22c6fc8a9e273e5854eee40ab1372103d␟2879188871063056328:Place Bet`,r=$localize`:␟24687fe22c6fc8a9e273e5854eee40ab1372103d␟2879188871063056328:Place Bet`,u=$localize`:␟24687fe22c6fc8a9e273e5854eee40ab1372103d␟2879188871063056328:Place Bet`,h=$localize`:␟3606a8d7f62d43752da17da756affaf62f6c0878␟2998124070745298237:Place BaitBet™`,[["gameName","The Roll Game",4,"cwGameInMaintenance"],["class","container",4,"ngIf"],["gameName","The Roll Game"],[1,"container"],[4,"cwMediaIf"],[4,"ngIf"],["ngClass.lt-md","lt-md"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"controls"],["fxLayout","column","fxLayoutAlign","center","fxLayoutGap.lt-md","2rem",1,"roulette-options-container"],["fxLayout","","fxLayoutAlign","flex-end center",1,"roulette-options"],[1,"roulette-mode"],[1,"pretty-toggle-group",3,"disabled","value","change"],[1,"low",3,"value"],n,o,[1,"separator"],["fxLayout","","fxLayoutAlign","space-between center",1,"roulette-config"],[1,"trollette",3,"ngClass"],["labelPosition","before",1,"toggle-reward","ios-slide-toggle",3,"checked","change"],[1,"input-label"],t,["fxLayoutGap",".5rem"],["warningClass","bg-roulette-countdown"],[3,"ctrl"],[3,"iconMode","games"],["fxLayout","column","fxLayoutAlign","space-between start","fxLayoutGap","1rem"],[3,"ngbTooltip",4,"ngIf"],[3,"ngbTooltip"],[3,"status","durationMs","timeSincePreviousResult","totalItems","items","previous","next","crazy","trackBy"],[3,"src",4,"ngIf"],[3,"src"],[3,"ngClass","durationMs","iconMode","timeSincePreviousResult","previous","next","crazy","trackBy","click"],[1,"bet-list-buttons",3,"gdColumns","gdColumns.lt-md"],[3,"gameId","iconMode","ctrlAmount","disabled","selectionType","rollColors","rollIcons"],i,r,u,[3,"gameId","iconMode","ctrlAmount","disabled","selectionType","rollColors","rollIcons",4,"ngIf"],[3,"game","userHasRedBet","userHasBlackBet"],h,[3,"games","iconMode"]]},template:function(o,t){1&o&&(e.YNc(0,Mn,1,0,"cw-game-in-maintenance",0),e.YNc(1,Jn,30,24,"div",1),e.ALo(2,"push")),2&o&&(e.Q6J("cwGameInMaintenance",t.maintenanceSettingKey),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,2,t.games$)))},directives:[fn.d,T.O5,Cn.K,Fn.h,te.oO,T.RF,T.n9,b.xw,b.Wh,b.SQ,nt.A9,nt.Yi,T.mk,On.Rr,se,Qe,En.l,je,Ke,Rn._L,vn.e,qe,Sn.A0,B,ae],pipes:[$.f,T.i8,P.A,V],styles:['.container[_ngcontent-%COMP%]{margin:0 auto}@media only screen and (max-width: 1180px){.container[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}@media only screen and (min-width: 1181px){.container[_ngcontent-%COMP%]{padding-left:4rem;padding-right:4rem}}@media only screen and (min-width: 1800px){.container[_ngcontent-%COMP%]{max-width:1400px}}@media only screen and (min-width: 2400px){.container[_ngcontent-%COMP%]{max-width:1800px}}@media only screen and (min-width: 3000px){.container[_ngcontent-%COMP%]{max-width:2250px}}header[_ngcontent-%COMP%]{margin:1.5rem 0;line-height:1;display:flex;justify-content:space-between}footer[_ngcontent-%COMP%]{margin:1.5rem 0 0;line-height:1;display:flex;overflow:hidden}cw-wheel[_ngcontent-%COMP%]     .reel .reel-item{width:70px}cw-wheel[_ngcontent-%COMP%]   .wheel-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;line-height:70px;height:70px;width:70px;margin:0 .1rem;border-radius:.625rem;text-shadow:1px 2px rgba(0,0,0,.35);font-size:1.5rem;font-weight:600;text-align:center;transition:text-shadow .5s}cw-wheel[_ngcontent-%COMP%]   .wheel-item[_ngcontent-%COMP%]:after{display:none;content:"";width:100%;height:100%;opacity:.25;background-image:linear-gradient(to right,rgba(255,255,255,0),#ffffff,rgba(255,255,255,0));position:absolute;top:0;animation:gradient_blink .5s linear;animation-fill-mode:forwards;z-index:2}cw-wheel[_ngcontent-%COMP%]   .wheel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;padding:.5rem;margin-top:-10px}cw-roulette-wheel[_ngcontent-%COMP%]{padding-top:2.81rem;margin-bottom:-22.5rem}.top[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]{padding:1rem 0}.top[_ngcontent-%COMP%]   .bet-list-buttons[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .bet-list-buttons[_ngcontent-%COMP%]{grid-gap:2.5rem;gap:2.5rem}@media only screen and (max-width: 1180px){.top[_ngcontent-%COMP%]   .bet-list-buttons[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .bet-list-buttons[_ngcontent-%COMP%]{grid-gap:.25rem;gap:.25rem}}.roulette-config[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:25px}.roulette-config[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-right:0}.roulette-config[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{opacity:.5;margin-right:12px;display:flex;align-items:center;transition:opacity .2s}.roulette-config[_ngcontent-%COMP%]   .trollette[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{margin-right:3px}.roulette-config[_ngcontent-%COMP%]   .trollette[_ngcontent-%COMP%]   .jester-hat[_ngcontent-%COMP%]{margin-bottom:1px;margin-right:5px;width:1.4rem;opacity:.75;transition:color .2s}.roulette-config[_ngcontent-%COMP%]   .trollette[_ngcontent-%COMP%]:hover   .jester-hat[_ngcontent-%COMP%]{animation:shake-hat .3s ease-in-out;animation-iteration-count:3}.roulette-config[_ngcontent-%COMP%]   .trollette.active[_ngcontent-%COMP%]   .jester-hat[_ngcontent-%COMP%]{color:#ff5548;opacity:1}.roulette-config[_ngcontent-%COMP%]   .trollette.active[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{opacity:1}.roulette-config[_ngcontent-%COMP%]   .roulette-mode[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{display:block}.roulette-config[_ngcontent-%COMP%]   .roulette-mode[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{display:inline-block}.play-area[_ngcontent-%COMP%]{overflow:hidden;border-radius:1.25rem;margin-top:1rem}.play-area.horizontal[_ngcontent-%COMP%]{background:#21252b}.play-area.circular[_ngcontent-%COMP%]{background:rgba(0,0,0,.1);height:235px}.play-area.lt-md[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%], .play-area.lt-md[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{padding:2.25rem 0rem}.separator[_ngcontent-%COMP%]{width:1px;margin:0 1rem;height:1.5rem;background-color:#31353d}.roulette-options[_ngcontent-%COMP%]{text-transform:uppercase;line-height:.75rem;font-size:.75rem;font-weight:500}.controls[_ngcontent-%COMP%]{z-index:1;position:relative}.pretty-toggle-group[_ngcontent-%COMP%]{border:none}.pretty-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{border:none;background-color:transparent}.pretty-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-button .mat-button-toggle-label-content{padding:0 6px;text-transform:uppercase;line-height:.75rem;font-size:.75rem;color:#fff}cw-icon[_ngcontent-%COMP%]{width:1.5rem}cw-roulette-bet-button.gt-md[_ngcontent-%COMP%]{min-width:16rem}cw-roulette-countdown[_ngcontent-%COMP%]{margin-bottom:2.5rem}@keyframes shake-hat{0%{transform:rotate(0)}25%{transform:rotate(10deg)}50%{transform:rotate(0)}75%{transform:rotate(-10deg)}to{transform:rotate(0)}}@keyframes gradient_blink{0%{left:0%;transform:translate(-100%)}to{left:100%;transform:translate(100%)}99.99%,to{display:none}}'],changeDetection:0}),pe=(0,f.gn)([(0,m.c)(),(0,f.w6)("design:paramtypes",[Object,tt.n2,y.b,p.oPl,p.yu5,p.Vtq,ge.uw,e.sBO,L.h,p.RCL])],pe);let Yn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[ue.vY,_n.$M,re.Fc,et,Pe.Bz.forChild([{path:"",component:pe,data:{title:"Roulette"}},{path:"history",component:He,data:{title:"Roulette"}}])]]}),n})()},8694:(k,x,l)=>{l.d(x,{A:()=>p});var f=l(72934),e=l(5e3);let p=(()=>{class C{constructor(_){this.rouletteWheelService=_}transform(_){return this.rouletteWheelService.redRollSlots.find(({rollValue:d})=>!_.includes(d))?this.rouletteWheelService.greenRollSlots.find(({rollValue:d})=>!_.includes(d))?this.rouletteWheelService.blackRollSlots.find(({rollValue:d})=>!_.includes(d))?void 0:"black":"green":"red"}}return C.\u0275fac=function(_){return new(_||C)(e.Y36(f.h,16))},C.\u0275pipe=e.Yjl({name:"betSelectionsColor",type:C,pure:!0}),C})()},87922:(k,x,l)=>{l.d(x,{R:()=>p});var f=l(72934),e=l(5e3);let p=(()=>{class C{constructor(_){this.rouletteWheelService=_}transform(_){return this.rouletteWheelService.redRollSlots.find(({rollValue:d})=>!_.includes(d))?this.rouletteWheelService.greenRollSlots.find(({rollValue:d})=>!_.includes(d))?this.rouletteWheelService.blackRollSlots.some(({rollValue:d})=>!_.includes(d))?void 0:this.rouletteWheelService.icons.black:this.rouletteWheelService.icons.green:this.rouletteWheelService.icons.red}}return C.\u0275fac=function(_){return new(_||C)(e.Y36(f.h,16))},C.\u0275pipe=e.Yjl({name:"betSelectionsIcon",type:C,pure:!0}),C})()},60468:(k,x,l)=>{l.d(x,{q:()=>p});var f=l(72934),e=l(5e3);let p=(()=>{class C{constructor(_){this.rouletteWheelService=_}transform(_,d=!1){if(isNaN(_))return;const c=this.rouletteWheelService.getWheelItemFromRollValue(_);return d?null==c?void 0:c.tinyRollColor:null==c?void 0:c.rollColor}}return C.\u0275fac=function(_){return new(_||C)(e.Y36(f.h,16))},C.\u0275pipe=e.Yjl({name:"rollColor",type:C,pure:!0}),C})()},16890:(k,x,l)=>{l.d(x,{W:()=>p});var f=l(72934),e=l(5e3);let p=(()=>{class C{constructor(_){this.rouletteWheelService=_}transform(_){var d;return null===(d=this.rouletteWheelService.getWheelItemFromRollValue(_))||void 0===d?void 0:d.rollIcon}}return C.\u0275fac=function(_){return new(_||C)(e.Y36(f.h,16))},C.\u0275pipe=e.Yjl({name:"rollIcon",type:C,pure:!0}),C})()},52693:(k,x,l)=>{l.d(x,{Q:()=>te});var f=l(23600),e=l(93114),p=(()=>{return(s=p||(p={})).ID="ID",s.ID_DESC="ID_DESC",s.CREATED_AT="CREATED_AT",s.CREATED_AT_DESC="CREATED_AT_DESC",s.AMOUNT="AMOUNT",s.AMOUNT_DESC="AMOUNT_DESC",p;var s})(),C=l(13099),m=l(95698),_=l(57333),d=l(60829),c=l(72934),A=l(9317),Q=l(75424),T=l(39478);const b=T.Ps`
  fragment TableBet on Bet {
    id
    createdAt
    amount
    # @deprecated(reason: "Use selections instead")
    selection
    selections
    currency
    rollValue
    user {
      ...UserBadge
    }
    game {
      id
      scheduledAt
      status
      totalBet
      rollId
    }
  }
`,q=T.Ps`
  query RouletteBetTable($first: PaginationAmount, $after: String, $userId: ID!, $orderBy: [BetOrderBy]) {
    bets(first: $first, after: $after, userId: $userId, orderBy: $orderBy) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          ...TableBet
        }
      }
    }
  }

  ${b}
  ${Q.userBadgeFragment}
`;var a=l(5e3),P=l(13302),le=l(48966),D=l(88279),Te=l(97550),W=l(69808),J=l(47423),X=l(23322),_e=l(89847),$=l(966),fe=l(79586),Ce=l(20975),z=l(60468),N=l(8694),re=l(87922),Fe=l(16890);function j(s,F){1&s&&(a.TgZ(0,"th",16),a.SDv(1,17),a.qZA())}function I(s,F){if(1&s&&(a.TgZ(0,"td",18),a._uU(1),a.qZA()),2&s){const g=F.$implicit;a.xp6(1),a.Oqu(g.id)}}function O(s,F){1&s&&(a.TgZ(0,"th",16),a.SDv(1,19),a.qZA())}function L(s,F){if(1&s&&(a.TgZ(0,"td",18),a._uU(1),a.ALo(2,"date"),a.qZA()),2&s){const g=F.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,g.createdAt,"medium")," ")}}function V(s,F){1&s&&(a.TgZ(0,"th",20),a.SDv(1,21),a.qZA())}function v(s,F){if(1&s){const g=a.EpF();a.TgZ(0,"td",22),a.TgZ(1,"a",23),a.NdJ("click",function(){const oe=a.CHM(g).$implicit;return a.oxw().openGameInfo(oe)}),a._uU(2,"View"),a.qZA(),a.qZA()}}function E(s,F){1&s&&(a.TgZ(0,"th",16),a.SDv(1,24),a.qZA())}function y(s,F){if(1&s&&(a.TgZ(0,"div",27),a.ALo(1,"rollColor"),a.ALo(2,"rollColor"),a._uU(3),a.qZA()),2&s){const g=a.oxw(2).$implicit;a.Q6J("ngClass","bg-"+a.lcZ(1,2,g.rollValue)+("black"===a.lcZ(2,4,g.rollValue)?" brighter":"")),a.xp6(3),a.hij(" ",g.rollValue," ")}}function se(s,F){if(1&s&&(a.ynx(0),a.YNc(1,y,4,6,"div",26),a.BQk()),2&s){const g=a.oxw().$implicit;a.xp6(1),a.Q6J("ngIf","FINISHED"===g.game.status)}}function Oe(s,F){if(1&s&&(a.TgZ(0,"td",22),a.YNc(1,se,2,1,"ng-container",25),a.qZA()),2&s){const g=F.$implicit;a.xp6(1),a.Q6J("ngIf",null!==g.rollValue)}}function Se(s,F){1&s&&(a.TgZ(0,"th",16),a.SDv(1,28),a.qZA())}const ce=function(s,F,g){return{"bg-red":s,"bg-green":F,"bg-black brighter":g}};function K(s,F){if(1&s&&(a.TgZ(0,"div",33),a._UZ(1,"img",34),a.ALo(2,"betSelectionsIcon"),a.qZA()),2&s){const g=F.ngIf,R=a.oxw().ngIf;a.Q6J("ngClass",a.kEZ(4,ce,"red"===g,"green"===g,"black"===g)),a.xp6(1),a.Q6J("src",a.lcZ(2,2,R),a.LSH)}}function ue(s,F){if(1&s&&(a.TgZ(0,"div",37),a._UZ(1,"img",38),a.ALo(2,"rollIcon"),a.qZA()),2&s){const g=F.ngIf,R=a.oxw().$implicit;a.Q6J("ngClass",g.rollTinyColor?"bg-"+g.rollTinyColor+("black-bait"===g.rollTinyColor?" brighter":""):"")("ngbTooltip",R),a.xp6(1),a.Q6J("src",a.lcZ(2,3,R),a.LSH)}}const de=function(s){return{rollTinyColor:s}};function ee(s,F){if(1&s&&(a.ynx(0),a.YNc(1,ue,3,5,"div",36),a.ALo(2,"rollColor"),a.BQk()),2&s){const g=F.$implicit;a.xp6(1),a.Q6J("ngIf",a.VKq(4,de,a.xi3(2,1,g,!0)))}}function me(s,F){if(1&s&&a.YNc(0,ee,3,6,"ng-container",35),2&s){const g=a.oxw().ngIf;a.Q6J("ngForOf",g)}}function Me(s,F){if(1&s&&(a.ynx(0),a.YNc(1,K,3,8,"div",31),a.ALo(2,"betSelectionsColor"),a.YNc(3,me,1,1,"ng-template",null,32,a.W1O),a.BQk()),2&s){const g=F.ngIf,R=a.MAs(4);a.xp6(1),a.Q6J("ngIf",a.lcZ(2,2,g))("ngIfElse",R)}}function Le(s,F){if(1&s&&(a.TgZ(0,"td",18),a.TgZ(1,"div",29),a._UZ(2,"cw-pretty-balance",30),a.qZA(),a._uU(3," \xa0 "),a.YNc(4,Me,5,4,"ng-container",25),a.qZA()),2&s){const g=F.$implicit,R=a.oxw();a.xp6(2),a.Q6J("balance",g.amount)("currency",g.currency)("ngClass","FINISHED"!==g.game.status?"":R.wasGameWon(g)?"text-success":"text-danger"),a.xp6(2),a.Q6J("ngIf",R.getSelections(g))}}function xe(s,F){1&s&&a._UZ(0,"tr",39)}function H(s,F){1&s&&a._UZ(0,"tr",40)}function ye(s,F){1&s&&a._UZ(0,"cw-loader",41),2&s&&a.Q6J("loading",!0)("type","view")}let te=(()=>{class s extends((0,e.A)(e.t)){constructor(g,R,ne,oe,B){super(),this.apollo=g,this.dialog=R,this.rouletteService=ne,this.rouletteWheelService=oe,this.cdr=B,this.columns=["id","createdAt","gameId","roll","amount"]}ngOnInit(){this.dataSource=new f.g3E(this.apollo,{query:q,field:"bets",variables:this.getVariables()}),this.data$=this.dataSource.connect().pipe((0,C.B)())}filter(){this.dataSource.filter(this.getVariables())}fetchMore(){this.dataSource.fetchMore()}openGameInfo(g){!g.game.rollId||(this.apollo.query({query:d.pi,variables:{id:g.game.rollId}}).pipe((0,m.q)(1)).subscribe(({data:R})=>{!(null==R?void 0:R.roll)||this.dialog.open(_.X,{data:{game:g.game,roll:R.roll}})}),this.cdr.detectChanges())}wasGameWon(g){const R=this.getSelections(g);return this.rouletteService.wasGameWon(g.rollValue,R)}getSelections(g){return g.selections?g.selections:this.rouletteWheelService.getSelectionsFromLegacySelection(g.selection)}trackBySelection(g){return g}getVariables(){return{first:f.UZ,userId:this.userId,orderBy:p.ID_DESC}}}return s.\u0275fac=function(g){return new(g||s)(a.Y36(P._M),a.Y36(le.uw),a.Y36(A.b),a.Y36(c.h),a.Y36(a.sBO))},s.\u0275cmp=a.Xpm({type:s,selectors:[["cw-roulette-bet-table"]],inputs:{userId:"userId"},features:[a.qOj],decls:27,vars:13,consts:function(){let F,g,R,ne,oe;return F=$localize`:␟45cc8ca94b5a50842a9a8ef804a5ab089a38ae5c␟8040881171107393560:ID`,g=$localize`:␟d654eb984a62fedda948733d5cc565480c6d7eff␟3198123723060667787:When`,R=$localize`:␟0e6a93b6d39a899de3abb0cb10c51f19057fa547␟4643591148728960560:Game`,ne=$localize`:␟2b43549b813b90101f4e1c364880352a2743d10d␟2734213108907937736:Roll`,oe=$localize`:␟3611e207614b2c2b82dffc027ba08b92b20a92fb␟449928999286346224:Bet`,[[1,"card"],[1,"card-body"],["mat-table","",1,"w-100",3,"dataSource","trackBy"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdAt"],["matColumnDef","gameId"],["mat-header-cell","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","roll"],["matColumnDef","amount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["cwIntersectionObserver","",1,"text-center",3,"intersectionSkipWhile","intersectionSkipNotVisible","visibilityChange"],[3,"loading","type",4,"ngIf"],["mat-header-cell",""],F,["mat-cell",""],g,["mat-header-cell","",1,"text-center"],R,["mat-cell","",1,"text-center"],["mat-flat-button","","color","primary",3,"click"],ne,[4,"ngIf"],["class","roll rounded-circle",3,"ngClass",4,"ngIf"],[1,"roll","rounded-circle",3,"ngClass"],oe,[1,"total","d-inline-block"],[3,"balance","currency","ngClass"],["class","roll rounded-circle d-inline-block align-middle",3,"ngClass",4,"ngIf","ngIfElse"],["ungroupedSelections",""],[1,"roll","rounded-circle","d-inline-block","align-middle",3,"ngClass"],["loading","lazy",1,"bet-roll-img",3,"src"],[4,"ngFor","ngForTrackBySelection","ngForOf"],["class","roll rounded-circle d-inline-block align-middle mr-2","placement","top",3,"ngClass","ngbTooltip",4,"ngIf"],["placement","top",1,"roll","rounded-circle","d-inline-block","align-middle","mr-2",3,"ngClass","ngbTooltip"],[1,"bet-roll-img","w-100",3,"src"],["mat-header-row",""],["mat-row",""],[3,"loading","type"]]},template:function(g,R){1&g&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"table",2),a.ALo(3,"push"),a.ynx(4,3),a.YNc(5,j,2,0,"th",4),a.YNc(6,I,2,1,"td",5),a.BQk(),a.ynx(7,6),a.YNc(8,O,2,0,"th",4),a.YNc(9,L,3,4,"td",5),a.BQk(),a.ynx(10,7),a.YNc(11,V,2,0,"th",8),a.YNc(12,v,3,0,"td",9),a.BQk(),a.ynx(13,10),a.YNc(14,E,2,0,"th",4),a.YNc(15,Oe,2,1,"td",9),a.BQk(),a.ynx(16,11),a.YNc(17,Se,2,0,"th",4),a.YNc(18,Le,5,4,"td",5),a.BQk(),a.YNc(19,xe,1,0,"tr",12),a.YNc(20,H,1,0,"tr",13),a.qZA(),a.TgZ(21,"section",14),a.NdJ("visibilityChange",function(){return R.fetchMore()}),a.ALo(22,"push"),a._uU(23," \xa0"),a.YNc(24,ye,1,2,"cw-loader",15),a.ALo(25,"push"),a._uU(26,"\xa0 "),a.qZA(),a.qZA(),a.qZA()),2&g&&(a.xp6(2),a.Q6J("dataSource",a.lcZ(3,7,R.data$))("trackBy",R.trackById),a.xp6(17),a.Q6J("matHeaderRowDef",R.columns),a.xp6(1),a.Q6J("matRowDefColumns",R.columns),a.xp6(1),a.Q6J("intersectionSkipWhile",a.lcZ(22,9,R.dataSource.loading$))("intersectionSkipNotVisible",!0),a.xp6(3),a.Q6J("ngIf",a.lcZ(25,11,R.dataSource.loading$)))},directives:[D.BZ,D.w1,D.fO,D.Dz,D.as,D.nj,Te.Z,W.O5,D.ge,D.ev,J.zs,W.mk,X.oO,_e.q,W.sg,$._L,D.XQ,D.Gk,fe.R],pipes:[Ce.f,W.uU,z.q,N.A,re.R,Fe.W],styles:[".roll[_ngcontent-%COMP%]{width:2rem;height:2rem;line-height:2rem;text-align:center}.total[_ngcontent-%COMP%]{vertical-align:middle;width:5rem}.brighter[_ngcontent-%COMP%]{filter:brightness(120%)}.bet-roll-img[_ngcontent-%COMP%]{height:100%;width:100%;padding:.3rem;display:flex}"]}),s})()},57333:(k,x,l)=>{l.d(x,{X:()=>C});var f=l(48966),e=l(5e3),p=l(94629);let C=(()=>{class m{constructor(d){this.data=d,this.game=this.data.game,this.roll=this.data.roll}}return m.\u0275fac=function(d){return new(d||m)(e.Y36(f.WI))},m.\u0275cmp=e.Xpm({type:m,selectors:[["cw-roulette-game-info-modal"]],decls:5,vars:2,consts:function(){let _;return _=$localize`:␟a8b21e764290824c39f6f14fc62552b99041b4a4␟5180455682893058726:${"\ufffd#2\ufffd"}:START_TAG_DIV:Roulette game information${"\ufffd/#2\ufffd"}:CLOSE_TAG_DIV:`,[["mat-dialog-title","",1,"text-center"],_,[3,"game","roll"]]},template:function(d,c){1&d&&(e.TgZ(0,"h5",0),e.tHW(1,1),e._UZ(2,"div"),e.N_p(),e.qZA(),e.TgZ(3,"mat-dialog-content"),e._UZ(4,"cw-roulette-game-info",2),e.qZA()),2&d&&(e.xp6(4),e.Q6J("game",c.game)("roll",c.roll))},directives:[f.uh,f.xY,p.e],styles:[""],changeDetection:0}),m})()},94629:(k,x,l)=>{l.d(x,{e:()=>m});var f=l(9317),e=l(5e3),p=l(69808);function C(_,d){if(1&_&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.tHW(2,2),e._UZ(3,"b"),e.N_p(),e.qZA(),e.TgZ(4,"div",1),e.tHW(5,3),e._UZ(6,"b"),e.N_p(),e.qZA(),e.TgZ(7,"div",1),e.tHW(8,4),e._UZ(9,"b"),e.N_p(),e.qZA(),e.TgZ(10,"div",1),e.tHW(11,5),e._UZ(12,"b"),e.N_p(),e.qZA(),e.qZA()),2&_){const c=e.oxw();e.xp6(3),e.pQV(c.game.id),e.QtT(2),e.xp6(3),e.pQV(c.roll.clientSeed.value),e.QtT(5),e.xp6(3),e.pQV(c.isServerSeedRevealed()?c.roll.serverSeed.value:"Not yet revealed"),e.QtT(8),e.xp6(3),e.pQV(c.roll.nonce),e.QtT(11)}}let m=(()=>{class _{constructor(c){this.rouletteService=c}isServerSeedRevealed(){return this.rouletteService.isSeedRevealed(this.roll)}}return _.\u0275fac=function(c){return new(c||_)(e.Y36(f.b))},_.\u0275cmp=e.Xpm({type:_,selectors:[["cw-roulette-game-info"]],inputs:{game:"game",roll:"roll"},decls:1,vars:1,consts:function(){let d,c,A,Q;return d=$localize`:␟20c3bc689ea0c90d3e018050ffe74c6e270a9eb1␟1445834186304453029:${"\ufffd#3\ufffd"}:START_BOLD_TEXT:Game Id:${"\ufffd/#3\ufffd"}:CLOSE_BOLD_TEXT: ${"\ufffd0\ufffd"}:INTERPOLATION:`,c=$localize`:␟7d65d8d5f1f02be33ac48ffefc5a2556a8e8cccc␟5326971551780254630:${"\ufffd#6\ufffd"}:START_BOLD_TEXT:Client Seed:${"\ufffd/#6\ufffd"}:CLOSE_BOLD_TEXT: ${"\ufffd0\ufffd"}:INTERPOLATION:`,A=$localize`:␟432d1e451f8718821fea97b175a3dd839a331d75␟6677859977086159446:${"\ufffd#9\ufffd"}:START_BOLD_TEXT:Server Seed:${"\ufffd/#9\ufffd"}:CLOSE_BOLD_TEXT: ${"\ufffd0\ufffd"}:INTERPOLATION:`,Q=$localize`:␟64e2cb8b29b61ffde6c5ffe74fc00785a20f0910␟6050684340532372305:${"\ufffd#12\ufffd"}:START_BOLD_TEXT:Nonce:${"\ufffd/#12\ufffd"}:CLOSE_BOLD_TEXT: ${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],[1,"mb-3"],d,c,A,Q]},template:function(c,A){1&c&&e.YNc(0,C,13,4,"div",0),2&c&&e.Q6J("ngIf",A.game&&A.roll&&A.game.rollId===A.roll.id)},directives:[p.O5],styles:[""],changeDetection:0}),_})()},60829:(k,x,l)=>{l.d(x,{QK:()=>e,cU:()=>p,pi:()=>C});var f=l(39478);const e=f.Ps`
  fragment Seed on Seed {
    hash
    id
    type
    value
  }
`,p=f.Ps`
  fragment ProvablyRoll on Roll {
    clientSeed {
      ...Seed
    }
    id
    serverSeed {
      ...Seed
    }
    value
    nonce
  }
`,C=f.Ps`
  query RollQuery($id: ID!) {
    roll(id: $id) {
      ...ProvablyRoll
    }
  }

  ${p}
  ${e}
`},72934:(k,x,l)=>{l.d(x,{h:()=>C});var f=l(23600),e=l(79123),p=l(5e3);let C=(()=>{class m{constructor(d){this.appConfig=d,this.icons={bait:"assets/roulette/wheel-slice-bait.svg",black:"assets/roulette/wheel-slice-black.svg",green:"assets/roulette/wheel-slice-green.svg",red:"assets/roulette/wheel-slice-red.svg",redBait:"assets/roulette/wheel-slice-red-bait.svg",blackBait:"assets/roulette/wheel-slice-black-bait.svg"},this.slots=[{rollColor:"red",rollIcon:this.icons.red,rollValue:1,selectionTypes:[e.Q.RED]},{rollColor:"black",rollIcon:this.icons.black,rollValue:14,selectionTypes:[e.Q.BLACK]},{rollColor:"red",rollIcon:this.icons.red,rollValue:2,selectionTypes:[e.Q.RED]},{rollColor:"black",rollIcon:this.icons.black,rollValue:13,selectionTypes:[e.Q.BLACK]},{rollColor:"red",rollIcon:this.icons.red,rollValue:3,selectionTypes:[e.Q.RED]},{rollColor:"black",rollIcon:this.icons.black,rollValue:12,selectionTypes:[e.Q.BLACK]},{rollColor:"red",rollIcon:this.enableBaitOption?this.icons.redBait:this.icons.red,rollValue:4,selectionTypes:this.enableBaitOption?[e.Q.RED,e.Q.BAIT]:[e.Q.RED],tinyRollColor:this.enableBaitOption?"red-bait":"red"},{rollColor:"green",rollIcon:this.icons.green,rollValue:0,selectionTypes:[e.Q.GREEN]},{rollColor:"black",rollIcon:this.enableBaitOption?this.icons.blackBait:this.icons.black,rollValue:11,selectionTypes:this.enableBaitOption?[e.Q.BLACK,e.Q.BAIT]:[e.Q.BLACK],tinyRollColor:this.enableBaitOption?"black-bait":"black"},{rollColor:"red",rollIcon:this.icons.red,rollValue:5,selectionTypes:[e.Q.RED]},{rollColor:"black",rollIcon:this.icons.black,rollValue:10,selectionTypes:[e.Q.BLACK]},{rollColor:"red",rollIcon:this.icons.red,rollValue:6,selectionTypes:[e.Q.RED]},{rollColor:"black",rollIcon:this.icons.black,rollValue:9,selectionTypes:[e.Q.BLACK]},{rollColor:"red",rollIcon:this.icons.red,rollValue:7,selectionTypes:[e.Q.RED]},{rollColor:"black",rollIcon:this.icons.black,rollValue:8,selectionTypes:[e.Q.BLACK]}],this.blackRollSlots=this.slots.filter(c=>"black"===c.rollColor),this.greenRollSlots=this.slots.filter(c=>"green"===c.rollColor),this.redRollSlots=this.slots.filter(c=>"red"===c.rollColor),this.baitSlots=this.slots.filter(c=>c.selectionTypes.includes(e.Q.BAIT))}get enableBaitOption(){return this.appConfig.roulette.enableBaitOption}getSelectionsFromGameSelectionType(d){return this.slots.filter(c=>c.selectionTypes.includes(d)).map(c=>c.rollValue)}doSelectionsMatchSelectionType(d,c,A){const Q=this.getSelectionsFromGameSelectionType(d);return c||(c=this.getSelectionsFromLegacySelection(A)),!!c&&0===c.reduce((T,b)=>Q.includes(b)?T:T+1,0)}getGameSelectionTypesFromRollValue(d){var c;return null===(c=this.slots.find(A=>A.rollValue===d))||void 0===c?void 0:c.selectionTypes}getPayoutMultiplierFromGameSelectionType(d){switch(d){case e.Q.BAIT:return 7;case e.Q.BLACK:return 2;case e.Q.GREEN:return 14;case e.Q.RED:return 2}}getWheelItemFromRollValue(d){return this.slots.find(c=>c.rollValue===d)}getNumberIndex(d){return this.slots.findIndex(c=>c.rollValue===d)}getSelectionsFromLegacySelection(d){return 0===d?this.getSelectionsFromGameSelectionType(e.Q.RED):1===d?this.getSelectionsFromGameSelectionType(e.Q.GREEN):2===d?this.getSelectionsFromGameSelectionType(e.Q.BLACK):void 0}}return m.\u0275fac=function(d){return new(d||m)(p.LFG(f.qBz))},m.\u0275prov=p.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},9317:(k,x,l)=>{l.d(x,{b:()=>Fe});var f=l(23600),e=l(62650),p=l(61135),C=l(63900),m=l(54004),_=l(34782),d=l(39300),c=l(54968),A=l(71884),Q=l(17445),T=l(70029),b=l(22529),q=l(13099),a=l(75424),P=l(39478);const le=P.Ps`
  fragment Game on Game {
    id
    createdAt
    scheduledAt
    status
    rollValue
  }
`,D=P.Ps`
  query RouletteGames($last: Int!) {
    cachedLatestGames(last: $last) {
      ...Game
    }
  }

  ${le}
`,Te=P.Ps`
  subscription OnRouletteCreateGame {
    createGame {
      game {
        ...Game
      }
    }
  }

  ${le}
`,W=P.Ps`
  subscription OnRouletteUpdateGame {
    updateGame {
      game {
        ...Game
      }
    }
  }

  ${le}
`,J=P.Ps`
  fragment GameJackpotWinner on GameJackpotWinner {
    id
    amount
    currency
    user {
      ...UserBadge
    }
  }
`,X=P.Ps`
  fragment GameJackpot on GameJackpot {
    id
    createdAt
    updatedAt
    completedAt
    gameId
    initialValue
    value
    totalValue
    currency
    consecutiveCount
    wager
    winners(orderBy: AMOUNT_DESC, first: 5) {
      edges {
        node {
          ...GameJackpotWinner
        }
      }
    }
  }
`,_e=P.Ps`
  subscription OnCreateGameJackpot {
    createGameJackpot {
      gameJackpot {
        ...GameJackpot
      }
    }
  }

  ${X}
  ${J}
  ${a.userBadgeFragment}
`,$=P.Ps`
  subscription OnUpdateGameJackpot {
    updateGameJackpot {
      gameJackpot {
        ...GameJackpot
      }
    }
  }

  ${X}
  ${J}
  ${a.userBadgeFragment}
`,fe=P.Ps`
  query GameJackpots($last: PaginationAmount) {
    gameJackpots(last: $last) {
      edges {
        node {
          ...GameJackpot
        }
      }
    }
  }

  ${X}
  ${J}
  ${a.userBadgeFragment}
`,Ce=P.Ps`
  query GameJackpot($id: ID!) {
    gameJackpot(id: $id) {
      ...GameJackpot
    }
  }

  ${X}
  ${J}
  ${a.userBadgeFragment}
`;var z=l(5e3),N=l(13302),re=l(87254);let Fe=(()=>{class j{constructor(O,L,V,v){this.apollo=O,this.localStorage=L,this.apiService=V,this.gameCount=101,this.crazy$=new p.X(this.localStorage.get(e.F.ROULETTE_MODE_CRAZY)||!1),this.initializeGameJackpots(),this.initializeGameQueryRef(),this.games$=this.apiService.lag$.pipe((0,C.w)(E=>this.gamesQueryRef.valueChanges.pipe((0,m.U)(({data:y})=>y.cachedLatestGames.map(se=>Object.assign(Object.assign({},se),{scheduledAt:this.apiService.getLaggedDateISO(se.scheduledAt,E)})).slice(0,this.gameCount)))),(0,_.d)(1)),this.jackpotWin$=this.gameJackpot$.pipe((0,d.h)(E=>!!E&&3===E.consecutiveCount)),this.reconnectionSubscription=(0,c.R)(v.document,"CW_WEB_SOCKET_RECONNECTED").subscribe(()=>{this.refetchGames()}),this.countdownTotal$=this.games$.pipe((0,d.h)(E=>!!E.length),(0,m.U)(E=>(Date.parse(E[0].scheduledAt)-Date.parse(E[0].createdAt))/1e3),(0,A.x)(),(0,_.d)(1)),this.countdown$=this.games$.pipe((0,d.h)(E=>!!E.length),(0,m.U)(E=>Date.parse(E[0].scheduledAt)),(0,A.x)(),(0,C.w)(E=>(0,Q.F)(0,T.Z).pipe((0,m.U)(()=>{const y=E-Date.now();return y<0?0:y/1e3}),(0,b.o)(y=>y>0,!0))),(0,q.B)()),this.spinning$=this.countdown$.pipe((0,m.U)(E=>0===E),(0,A.x)()),this.timeSincePreviousResult$=this.games$.pipe((0,d.h)(E=>!!E.length&&"STARTED"===E[0].status),(0,m.U)(E=>Date.now()-Date.parse(E[0].scheduledAt))),this.gamesQueryRef.subscribeToMore({document:Te,updateQuery:(E,{subscriptionData:y})=>y.data?this.addToGamesResponse(E,y.data.createGame.game):E}),this.gamesQueryRef.subscribeToMore({document:W,updateQuery:(E,{subscriptionData:y})=>y.data?this.addToGamesResponse(E,y.data.updateGame.game):E})}initializeGameQueryRef(){this.gamesQueryRef=this.apollo.watchQuery({query:D,variables:{last:this.gameCount}})}ngOnDestroy(){this.reconnectionSubscription.unsubscribe()}isSeedRevealed(O){return!(!O||O.serverSeed.value===O.serverSeed.hash)}wasGameWon(O,L){return null!==O&&L.includes(O)}getGameJackpot(O){return this.apollo.watchQuery({query:Ce,variables:{id:O}}).valueChanges.pipe((0,m.U)(({data:L})=>L.gameJackpot))}refetchGames(){this.gamesQueryRef.refetch({last:this.gameCount})}initializeGameJackpots(){this.gameJackpotQueryRef=this.apollo.watchQuery({query:fe,variables:{last:1}}),this.gameJackpots$=this.gameJackpotQueryRef.valueChanges.pipe((0,m.U)(({data:O})=>O.gameJackpots.edges.map(L=>L.node)),(0,_.d)(1)),this.gameJackpot$=this.gameJackpots$.pipe((0,m.U)(([O])=>O)),this.gameJackpotQueryRef.subscribeToMore({document:_e,updateQuery:(O,{subscriptionData:L})=>{if(!L.data||!O||!O.gameJackpots)return O;const V={__typename:"GameJackpotEdge",node:L.data.createGameJackpot.gameJackpot};return Object.assign({},O,{gameJackpots:Object.assign(Object.assign({},O.gameJackpots),{edges:[V,...O.gameJackpots.edges.slice(-100)]})})}}),this.gameJackpotQueryRef.subscribeToMore({document:$})}addToGamesResponse(O,L){return O&&O.cachedLatestGames&&L?{cachedLatestGames:[L,...O.cachedLatestGames.filter(V=>V.id!==L.id)]}:O}}return j.\u0275fac=function(O){return new(O||j)(z.LFG(N._M),z.LFG(re.n2),z.LFG(f.sMs),z.LFG(f.mix))},j.\u0275prov=z.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()}}]);