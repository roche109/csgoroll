"use strict";(self.webpackChunkcsgoroll=self.webpackChunkcsgoroll||[]).push([["default-libs_dice_src_index_ts"],{17067:(ge,U,r)=>{r.r(U),r.d(U,{BetInfoModalComponent:()=>Ue.H,DiceModule:()=>so,DiceSharedModule:()=>qe});var F=r(45990),$=r(35357),O=r(70655),T=r(23600),i=r(86513),d=r(44987),G=r(13302),f=r(61135),M=r(54004),ce=r(50727),j=r(71884),q=r(63900),ae=r(39841),De=r(59468),Ae=r(70029),de=r(61260),I=r(39646),x=r(79291),p=r(57994),h=r.n(p),R=r(77579),y=r(95698),Y=r(62843),e=r(5e3),me=r(52457),Z=(()=>{return(o=Z||(Z={}))[o.ALL=0]="ALL",o[o.MY_BETS=1]="MY_BETS",o[o.HIGH_BETS=2]="HIGH_BETS",Z;var o})();let P=(()=>{class o{constructor(t,a,s,c){this.appConfig=t,this.apollo=a,this.settingService=s,this.toastrService=c,this.diceConfig=this.appConfig.dice,this.delayBetResult$=new R.x,this.newDiceBet$=new R.x}getDefaultChance(){return(100-this.diceConfig.houseEdge)/2}getDefaultMultiplier(){const t=this.getDefaultChance();return this.getMultiplierFromChance(t)}getProfit(t,a){return parseFloat((0,p.Big)(t).times(a).minus(a).toFixed(4))}getBetFromChance(t){const a=this.getMultiplierFromChance(t);return Math.round(100*this.diceConfig.maxPot/a)/100}getMultiplierFromChance(t){const a=Math.min(this.getMaxChance(),t);return(100-this.diceConfig.houseEdge)/a}getChanceFromBet(t){return parseFloat((0,p.Big)(100).minus(this.diceConfig.houseEdge).div(Math.round(100*this.diceConfig.maxPot/t)/100).toFixed(2))}getChanceFromMultiplier(t){return+Math.min(100-this.diceConfig.houseEdge-1,(100-this.diceConfig.houseEdge)/t).toFixed(2)}getChanceFromUnderOver(t,a){return a===i.xk.UNDER?t:+(0,p.Big)(99.99).minus(t)}getUnderOverFromChance(t,a){return this.getChanceFromUnderOver(t,a)}getMaxPot(){return this.diceConfig.maxPot}getMinBet(){return this.settingService.getSetting("game:minimum_bet_amount").pipe((0,M.U)(t=>+(null==t?void 0:t.value)||0))}getMaxBet(t=this.getMinMultiplier()){return Math.round(this.diceConfig.maxPot/t*100)/100}getMinChance(){return.01}getMaxChance(){return Math.floor(100-this.diceConfig.houseEdge-.01)}getMinMultiplier(){const t=this.getMaxChance(),a=Math.round(1e4*(100-this.diceConfig.houseEdge)/t)/1e4;return parseFloat(a.toFixed(2))}getMaxMultiplier(){const t=this.getMinChance();return Math.round(1e4*(100-this.diceConfig.houseEdge)/t)/1e4}getDefaultStrategy(){return{speed:5,rollLimit:1/0,onWinOption:"return",onWinMultiplier:2,onLoseOption:"return",onLoseMultiplier:2,maxBet:this.getMaxBet()}}getJackpotWeeks(){const t=new Date,{weekDay:a,hourStart:s}=this.diceConfig.jackpot;let{startWeek:c,startYear:l}=this.diceConfig.jackpot;const u=(0,T.hAB)(c,l,a,s),g=[];do{g.push({week:c,year:l}),c+=1,c>52&&(c=1,l+=1),u.setDate(u.getDate()+7)}while(u<=t);return g.reverse()}getJackpotEndDate(t=new Date){if(!this.diceConfig.jackpot)return null;const{weekDay:a,hourStart:s}=this.diceConfig.jackpot,c=(0,T.Qk4)(t,a,s),l=(0,T.hAB)(c.week,c.year,a,s);return l.setDate(l.getDate()+7),l}getDataSource(t){return new T.g3E(this.apollo,{query:x.gY,field:"diceBets",variables:t})}getJackpotDataSource(t){return new T.arA(this.apollo,{query:x.JP,fetchPolicy:"no-cache",field:"diceBetJackpotEntries",variables:t})}bet(t){const a=+(0,p.Big)(t.amount).toFixed(2),s=+(0,p.Big)(t.chance).toFixed(2);if(!(s<.01||s>99.99))return this.settingService.getSetting("game:minimum_bet_amount").pipe((0,M.U)(u=>+(null==u?void 0:u.value)||0),(0,y.q)(1),(0,q.w)(u=>{if(a<u){const D=`You cannot bet less than ${u}`;return this.toastrService.error(D),(0,Y._)(D)}const g={amount:a,choice:t.choice,chance:s,mode:t.mode.toUpperCase(),rollsPerClick:t.rollsPerClick,userItemIds:[]};return this.apollo.mutate({mutation:x.Wr,variables:{input:g}})}),(0,M.U)(({data:u})=>u.createDiceBets.diceBets));this.toastrService.error("Chance has to be between 0.01 and 99.99")}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.qBz),e.LFG(G._M),e.LFG(T.RCL),e.LFG(me._W))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var fe=r(29782),E=r(69808),_=r(93075),z=r(48966),_e=r(24750),H=r(46082),S=r(68675),pe=r(39300),He=r(24351),he=r(50590),Le=r(4326),Ce=r(82722),Ke=r(54482),Ne=r(25403),tt=r(95577),Te=r(5963),nt=r(70262),re=r(18505),Re=r(28746),b=r(77093),ot=r(78029),ye=r(79814),ue=r(67322),Se=r(31495),be=r(96298),$e=r(98833);function it(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",25),e.TgZ(1,"input",26),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).setOnWinOption("multiply")}),e.qZA(),e.qZA()}}function at(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-radio-button",23),e._uU(2),e.qZA(),e.YNc(3,it,2,0,"mat-form-field",24),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," "),e.xp6(1),e.Q6J("ngIf",t.needsInput)}}function rt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",25),e.TgZ(1,"input",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).setOnLoseOption("multiply")}),e.qZA(),e.qZA()}}function st(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-radio-button",23),e._uU(2),e.qZA(),e.YNc(3,rt,2,0,"mat-form-field",24),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("value",t.value),e.xp6(1),e.hij(" ",t.description," "),e.xp6(1),e.Q6J("ngIf",t.needsInput)}}let X=class{constructor(n,t){this.fb=n,this.diceService=t,this.valueChange=new e.vpe,this.formValid=new e.vpe,this.maxBet=this.diceService.getMaxBet(),this.onCompleteOptions=[{value:"multiply",description:"Multiply by",needsInput:!0},{value:"return",description:"Return to base bet",needsInput:!1}],this.storageKey="dice-strategy-form",this.defaults=this.diceService.getDefaultStrategy(),this.minSpeedMultiplier=.33,this.maxSpeedMultiplier=5}ngOnInit(){const n=localStorage.getItem(this.storageKey),t=n?JSON.parse(n,function(a,s){return"Infinity"===s?1/0:s}):Object.assign({},this.defaults);this.form=this.fb.group({speed:[t.speed,[_.kI.required,_.kI.min(this.minSpeedMultiplier),_.kI.max(this.maxSpeedMultiplier)]],onWinOption:[t.onWinOption,[_.kI.required]],onWinMultiplier:[t.onWinMultiplier,[_.kI.required,_.kI.min(.1),_.kI.max(999)]],rollLimit:[t.rollLimit,[_.kI.min(1),_.kI.max(1/0)]],onLoseOption:[t.onLoseOption,[_.kI.required]],onLoseMultiplier:[t.onLoseMultiplier,[_.kI.required,_.kI.min(.1),_.kI.max(999)]],maxBet:[t.maxBet,[_.kI.max(this.maxBet)]]}),this.diceService.getMinBet().pipe((0,y.q)(1)).subscribe(a=>{this.form.controls.maxBet.setValidators([_.kI.max(this.maxBet),_.kI.min(a)]),this.form.controls.maxBet.updateValueAndValidity()}),this.form.statusChanges.pipe((0,d.t)(this),(0,M.U)(a=>"VALID"===a)).subscribe(this.formValid),this.valueChange.next(this.form.value),this.form.valueChanges.pipe((0,d.t)(this)).subscribe(a=>{this.valueChange.next(a),this.store()})}onSliderInputChange(n){this.form.controls.speed.setValue(n.value)}setOnWinOption(n){this.form.controls.onWinOption.setValue(n)}setOnLoseOption(n){this.form.controls.onLoseOption.setValue(n)}store(){this.form.statusChanges.pipe((0,pe.h)(n=>"VALID"===n),(0,he.P)(),(0,d.t)(this)).subscribe(n=>{localStorage.setItem(this.storageKey,JSON.stringify(this.form.getRawValue(),function(t,a){return a===1/0?"Infinity":a}))})}enable(){Object.keys(this.form.controls).forEach(n=>this.form.controls[n].enable({emitEvent:!1}))}disable(){Object.keys(this.form.controls).forEach(n=>this.form.controls[n].disable({emitEvent:!1}))}};X.\u0275fac=function(n){return new(n||X)(e.Y36(_.qu),e.Y36(P))},X.\u0275cmp=e.Xpm({type:X,selectors:[["cw-strategy-form"]],outputs:{valueChange:"valueChange",formValid:"formValid"},decls:36,vars:5,consts:function(){let o,n,t,a,s;return o=$localize`:␟c65e59841c2de7dba204ee5ecf7cc682e65f2488␟3128293408739574:Speed`,n=$localize`:␟7edf6263394552ba6fc3736e509b7f5467dcaae1␟3765102095014268347:On Win`,t=$localize`:␟f94fe7e2574c95813b1845837acd522bbb93257a␟851038424208192247:On Lose`,a=$localize`:␟4c4c55b06a3ca38c77ffec1d1c2834a36c755c20␟6528906951197809886:Max Bet`,s=$localize`:␟0726fdf3a1dfa40997d4facee012e707727688b6␟1646707238830456306:Roll limit`,[["novalidate","",1,"h-100","mb-5",3,"formGroup"],["fxLayout","column","fxLayoutAlign","space-between stretch",1,"card","card-body","h-100"],[1,"mt-2"],o,["fxLayout","","fxLayoutAlign","space-between center","fxLayoutGap","1rem",1,"mt-1"],["data-test","speed-multiplier","fxFlex","","step","0.01","formControlName","speed",3,"min","max","input"],[1,"text-white"],n,[1,"form-check"],[1,"custom-controls-stacked"],["formControlName","onWinOption"],[4,"ngFor","ngForOf"],t,["formControlName","onLoseOption"],["fxLayout","","fxLayoutGap","1rem"],[1,"w-50"],a,[1,"w-100"],["inlineSVG","assets/icons/coins.svg",1,"position-absolute"],["data-test","max-bet","matInput","","type","number","step","1","formControlName","maxBet","placeholder","\u221e",1,"pl-4","max-bet-input"],s,[1,"small"],["data-test","roll-limit","matInput","","type","number","step","1","formControlName","rollLimit","placeholder","\u221e",1,"roll-limit-input"],[1,"w-50",3,"value"],["class","small ml-3",4,"ngIf"],[1,"small","ml-3"],["data-test","on-win-multiplier","matInput","","type","number","step","0.1","formControlName","onWinMultiplier",3,"click"],["data-test","on-lose-multiplier","matInput","","type","number","step","0.1","formControlName","onLoseMultiplier",3,"click"]]},template:function(n,t){1&n&&(e.TgZ(0,"form",0),e.TgZ(1,"article",1),e.TgZ(2,"div",2),e.TgZ(3,"div"),e.TgZ(4,"label"),e.SDv(5,3),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"mat-slider",5),e.NdJ("input",function(s){return t.onSliderInputChange(s)}),e.qZA(),e.TgZ(8,"small",6),e._uU(9,"Faster"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div"),e.TgZ(11,"label"),e.SDv(12,7),e.qZA(),e.TgZ(13,"div",8),e.TgZ(14,"div",9),e.TgZ(15,"mat-radio-group",10),e.YNc(16,at,4,3,"ng-container",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div"),e.TgZ(18,"label"),e.SDv(19,12),e.qZA(),e.TgZ(20,"div",8),e.TgZ(21,"div",9),e.TgZ(22,"mat-radio-group",13),e.YNc(23,st,4,3,"ng-container",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"section",14),e.TgZ(25,"div",15),e.TgZ(26,"label"),e.SDv(27,16),e.qZA(),e.TgZ(28,"mat-form-field",17),e._UZ(29,"cw-icon",18),e._UZ(30,"input",19),e.qZA(),e.qZA(),e.TgZ(31,"div"),e.TgZ(32,"label"),e.SDv(33,20),e.qZA(),e.TgZ(34,"mat-form-field",21),e._UZ(35,"input",22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Q6J("formGroup",t.form),e.xp6(7),e.Q6J("min",t.minSpeedMultiplier)("max",t.maxSpeedMultiplier),e.xp6(9),e.Q6J("ngForOf",t.onCompleteOptions),e.xp6(7),e.Q6J("ngForOf",t.onCompleteOptions))},directives:[_._Y,_.JL,_.sg,b.xw,b.Wh,b.SQ,ot.pH,b.yH,_.JJ,_.u,ye.VQ,E.sg,ue.KE,Se.o,be.d$,$e.Nt,_.wV,_.Fj,ye.U0,E.O5],styles:["[_nghost-%COMP%]     .mat-slider-thumb{background-color:#fff}[_nghost-%COMP%]     .mat-slider-track-background{background-color:#0c0e10}[_nghost-%COMP%]     .mat-form-field-infix, [_nghost-%COMP%]     .mat-form-field-infix{height:42px;padding:.25em 0 1em;line-height:1}[_nghost-%COMP%]     .mat-radio-label-content{color:#fff}mat-slider[_ngcontent-%COMP%]{background-color:#1a1d22;border-radius:6px;border-top:1.5px solid #0f1114;border-bottom:1.5px solid #30363f}.max-bet-input[_ngcontent-%COMP%]::placeholder, .roll-limit-input[_ngcontent-%COMP%]::placeholder{font-size:18px}","label[_ngcontent-%COMP%]{font-size:.9em;text-transform:uppercase;color:#fff9}.mat-form-field.small[_ngcontent-%COMP%]{width:6rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0}),X=(0,O.gn)([(0,d.c)(),(0,O.w6)("design:paramtypes",[_.qu,P])],X);var ve=r(47423);let lt=(()=>{class o{constructor(t){this.dialogRef=t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(z.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["cw-strategy-modal"]],decls:11,vars:0,consts:function(){let n,t;return n=$localize`:␟e67bebb0291cbe76b190e83225878cdd3a8a6df6␟4233344881307710716: Cancel `,t=$localize`:␟39f36849c29625d56386e0824ce30659f9554457␟2685553270767608445: OK `,[[1,"modal-header"],[1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"valueChange"],["fxLayout","","fxLayoutGap","1rem",1,"modal-footer"],["mat-button","","mat-flat-button","","color","primary","type","button","fxFlex","",1,"mat-button-3d",3,"click"],n,["mat-button","","mat-flat-button","","color","accent","type","button","fxFlex","",1,"mat-button-3d",3,"click"],t]},template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"a",1),e.NdJ("click",function(){return a.dialogRef.close(a.strategy)}),e.TgZ(2,"span",2),e._uU(3,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"cw-strategy-form",4),e.NdJ("valueChange",function(c){return a.strategy=c}),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"button",6),e.NdJ("click",function(){return a.dialogRef.close(a.strategy)}),e.SDv(8,7),e.qZA(),e.TgZ(9,"button",8),e.NdJ("click",function(){return a.dialogRef.close(a.strategy)}),e.SDv(10,9),e.qZA(),e.qZA())},directives:[X,b.xw,b.SQ,ve.lW,b.yH],styles:[".modal-body[_ngcontent-%COMP%]{padding:0}"],changeDetection:0}),o})();var Be,Ee=r(23322),Fe=r(74107),Ze=r(90508),ct=r(63393),xe=r(89847),m=r(41777),Pe=r(22313),_t=r(361),ut=r(45191),se=r(56451),gt=r(13099),V=r(54968),we=r(966),ke=r(20975);const dt=["dice"],mt=["rollValue"];function ft(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw().ngIf;e.xp6(1),e.Q6J("@appear",void 0),e.xp6(1),e.Oqu(t.toFixed(2))}}function pt(o,n){if(1&o&&(e.ynx(0),e.YNc(1,ft,3,2,"ng-container",7),e.ALo(2,"push"),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.lcZ(2,1,t.isDragging$))}}const ht=function(o){return{right:o}};function Ct(o,n){if(1&o&&(e._UZ(0,"span",15),e.ALo(1,"number")),2&o){const t=n.$implicit,a=e.oxw(4);e.ekj("bg-danger",!t.won)("bg-success",t.won),e.Q6J("ngStyle",e.VKq(9,ht,a.calcRollPosition(t)+"%"))("ngbTooltip",e.xi3(1,6,t.roll.value/100,"1.2-2"))}}function Tt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div"),e.NdJ("@smallDiceEnterAnim.done",function(){return e.CHM(t),e.oxw(3).diceBatchAnimDone()}),e.YNc(1,Ct,2,11,"span",14),e.qZA()}if(2&o){const t=e.oxw().ngIf,a=e.oxw(2);e.Q6J("@smallDiceEnterAnim",t[0].id),e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",a.getRollIndex)}}function Et(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Tt,2,3,"div",7),e.TgZ(2,"span",9,10),e._UZ(4,"div",11),e.TgZ(5,"span",12,13),e._uU(7),e.qZA(),e.qZA(),e.BQk()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>1),e.xp6(1),e.ekj("invisible",1!==t.length),e.xp6(5),e.Oqu(((null==t[0]?null:t[0].roll.value)/100).toFixed(2))}}function Mt(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Et,8,4,"ng-container",7),e.BQk()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngIf",t[0])}}let K=Be=class{constructor(n,t,a,s){this.eleRef=n,this.builder=t,this.sanitizer=a,this.diceService=s,this.min=0,this.max=100,this.bgFront=null,this.bgBack=null,this.instantAnim=!1,this.blur=new e.vpe,this.value$=new f.X(0),this.isDragging$=new f.X(!1),this.rolls$=(0,I.of)([[],(new Date).getTime()]),this.initEventSubscriptions()}set rolls(n){(0,ut.b)(n)&&(this.rolls$=n.pipe((0,d.t)(this),(0,j.x)(([t],[a])=>{const s=t.map(({id:l})=>l),c=a.map(({id:l})=>l);return JSON.stringify(s)===JSON.stringify(c)}),(0,re.b)(([t,a])=>{if(1===t.length){const[s]=t;this.runDiceAnimation(s,a)}else this.runDiceBatchAnimation()})))}calcRollPosition(n){return n?100-+(0,p.Big)(n.roll.value).div(100).toFixed(2):0}ngOnInit(){(0,se.T)(this.drag$,this.click$).pipe((0,d.t)(this),(0,gt.B)()).subscribe(n=>{this.isDragging$.next(!0),this.value$.next(n),this.onChangeFn(n)})}runDiceAnimation(n,t=(new Date).getTime()){var a;const s=this.instantAnim?0:750,l="translateX(50%)",u="rotate(45deg)",g="scale3d(.75, .75, .75)",D="scale3d(1, 1, 1)";let k=360;const B=this.calcRollPosition(n);this.prevRollPosition&&B>this.prevRollPosition&&(k*=-1);const J=`rotate(${k}deg)`,W="white",L=n.won?"var(--success)":"var(--danger)",N=[];if(this.instantAnim||N.push((0,m.jt)(`${s}ms ease-in-out`,(0,m.F4)([(0,m.oB)({transform:`${l} ${D} rotate(0deg) ${u}`,offset:0}),(0,m.oB)({transform:`${l} ${g} ${u}`,offset:.1}),(0,m.oB)({transform:`${l} ${g} ${J} ${u}`,right:`${B}%`,offset:1})]))),N.push((0,m.ru)([(0,m.jt)("600ms 1ms ease-in-out",(0,m.F4)([(0,m.oB)({backgroundColor:W,transform:`${l} ${g} ${u}`,right:`${B}%`,offset:0}),(0,m.oB)({backgroundColor:L,transform:`${l} scale3d(1.3, 1.3, 1.3) ${u}`,offset:.25}),(0,m.oB)({backgroundColor:W,transform:`${l} ${D} ${u}`,offset:1})])),(0,m.IO)(".dice-ripple",[(0,m.jt)("1200ms ease-out",(0,m.F4)([(0,m.oB)({backgroundColor:L,opacity:.5,transform:"scale3d(1,1,1)"}),(0,m.oB)({backgroundColor:L,opacity:0,transform:"scale3d(2, 2, 2)"})]))])])),this.player)try{this.player.destroy()}catch(Q){}this.player=this.builder.build(N).create(this.diceElement.nativeElement),this.player.play(),(null===(a=this.rollValueElement)||void 0===a?void 0:a.nativeElement)&&(this.rollValueElement.nativeElement.style.opacity=0),(0,Te.H)(s).pipe((0,d.t)(this),(0,re.b)(()=>{var Q;this.diceService.delayBetResult$.next((new Date).getTime()-t),(null===(Q=this.rollValueElement)||void 0===Q?void 0:Q.nativeElement)&&(this.rollValueElement.nativeElement.style.opacity=1)})).subscribe(),this.prevRollPosition=B}runDiceBatchAnimation(){}diceBatchAnimDone(){this.diceService.delayBetResult$.next()}initEventSubscriptions(){const n=this.eleRef.nativeElement;this.hostMousedown$=(0,se.T)((0,V.R)(n,"mousedown"),(0,V.R)(n,"touchstart")).pipe((0,M.U)(t=>(t.preventDefault(),t))),this.mousemove$=(0,se.T)((0,V.R)(window,"mousemove"),(0,V.R)(window,"touchmove")),this.mousedown$=(0,se.T)((0,V.R)(n,"mousedown"),(0,V.R)(n,"touchstart")),this.mouseup$=(0,se.T)((0,V.R)(window,"mouseup"),(0,V.R)(window,"touchend"),(0,V.R)(this.eleRef.nativeElement,"touchend")).pipe((0,re.b)(()=>{this.isDragging$.next(!1)})),this.drag$=this.mousedown$.pipe((0,q.w)(t=>{const a=this.value$.getValue(),c=this.eleRef.nativeElement.offsetWidth,l=((null==window?void 0:window.TouchEvent)&&t instanceof TouchEvent?t.touches[0]:t).pageX;return this.mousemove$.pipe((0,M.U)(u=>{const D=((null==window?void 0:window.TouchEvent)&&u instanceof TouchEvent?u.touches[0]:u).pageX-l;let C=this.getNewValue(+(0,p.Big)(a).plus(D/c*100).toFixed(2));return this.step&&(C=Math.floor(C/this.step)*this.step),C}),(0,Ce.R)(this.mouseup$),(0,Re.x)(()=>this.blur.next()))})),this.click$=this.hostMousedown$.pipe((0,q.w)(t=>this.mouseup$.pipe((0,M.U)(a=>{const s=this.eleRef.nativeElement,c=s.offsetWidth,l=s.getBoundingClientRect(),u=((null==window?void 0:window.TouchEvent)&&a instanceof TouchEvent?a.changedTouches[0]:a).pageX-l.left;return this.getNewValue(+(0,p.Big)(u).div(c).times(100).toFixed(2))}),(0,y.q)(1),(0,Ce.R)(this.mousemove$))))}get right(){return 100-this.value$.getValue()}get background(){return this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to left,\n${this.bgBack} 0%, ${this.bgBack} ${this.right}%,\n${this.bgFront} ${this.right}%, ${this.bgFront} 100%)`)}getNewValue(n){return n<this.min?n=this.min:n>this.max&&(n=this.max),n}writeValue(n){this.value$.next(n)}registerOnChange(n){this.onChangeFn=n}registerOnTouched(n){}setDisabledState(n){this._disabled=n}getRollIndex(n){return null==n?void 0:n.id}};K.\u0275fac=function(n){return new(n||K)(e.Y36(e.SBq),e.Y36(m._j),e.Y36(Pe.H7),e.Y36(P))},K.\u0275cmp=e.Xpm({type:K,selectors:[["cw-range"]],viewQuery:function(n,t){if(1&n&&(e.Gf(dt,5),e.Gf(mt,5)),2&n){let a;e.iGM(a=e.CRH())&&(t.diceElement=a.first),e.iGM(a=e.CRH())&&(t.rollValueElement=a.first)}},hostVars:2,hostBindings:function(n,t){2&n&&e.ekj("disabled",t._disabled)},inputs:{min:"min",max:"max",step:"step",bgFront:"bgFront",bgBack:"bgBack",instantAnim:"instantAnim",rolls:"rolls"},outputs:{blur:"blur"},features:[e._Bn([{provide:_.JU,useExisting:(0,e.Gpc)(()=>Be),multi:!0}])],decls:12,vars:20,consts:[[1,"slider"],[1,"shaded"],[1,"bg"],[1,"edges"],[1,"bar"],[1,"bar-active"],[1,"handle"],[4,"ngIf"],[1,"range-tooltip"],[1,"dice-image"],["dice",""],[1,"dice-ripple"],[1,"roll-value"],["rollValue",""],["class","dice-image small-dice",3,"bg-danger","bg-success","ngStyle","ngbTooltip",4,"ngFor","ngForOf","ngForTrackBy"],[1,"dice-image","small-dice",3,"ngStyle","ngbTooltip"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"div",2),e._UZ(3,"div",3),e.qZA(),e._UZ(4,"div",4),e._UZ(5,"div",5),e.TgZ(6,"div",6),e.ALo(7,"push"),e.YNc(8,pt,3,3,"ng-container",7),e.ALo(9,"push"),e.qZA(),e.YNc(10,Mt,2,1,"ng-container",7),e.ALo(11,"push"),e.qZA()),2&n&&(e.xp6(2),e.Udp("background",t.background),e.xp6(2),e.Udp("background",t.bgBack),e.xp6(1),e.Udp("background",t.bgFront)("right",t.right,"%"),e.xp6(1),e.Udp("right",t.right,"%"),e.ekj("dragging",e.lcZ(7,14,t.isDragging$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,16,t.value$)),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,18,t.rolls$)))},directives:[E.O5,E.sg,E.PC,Ee.Zl,we._L],pipes:[ke.f,E.JJ],styles:['.no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}[_nghost-%COMP%]{display:block}.disabled[_nghost-%COMP%]{pointer-events:none}.disabled[_nghost-%COMP%]   .handle[_ngcontent-%COMP%]{opacity:.4}.slider[_ngcontent-%COMP%]{display:block;position:relative;cursor:pointer;height:3.125rem}.shaded[_ngcontent-%COMP%]{overflow:hidden;border-radius:.5rem;background-color:#00000017}.shaded[_ngcontent-%COMP%], .shaded[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0}.shaded[_ngcontent-%COMP%]:after{content:"";box-shadow:0 1px #ffffff05,inset 0 1px 3px #0000001a}.shaded[_ngcontent-%COMP%]   .edges[_ngcontent-%COMP%]{opacity:.15}.shaded[_ngcontent-%COMP%]   .edges[_ngcontent-%COMP%]:before, .shaded[_ngcontent-%COMP%]   .edges[_ngcontent-%COMP%]:after{border-radius:.5rem;content:"";position:absolute;top:0;bottom:0;width:1.3rem;height:100%}.shaded[_ngcontent-%COMP%]   .edges[_ngcontent-%COMP%]:before{left:0;background-image:linear-gradient(to right,#000000,rgba(0,0,0,0))}.shaded[_ngcontent-%COMP%]   .edges[_ngcontent-%COMP%]:after{right:0;background-image:linear-gradient(to left,#000000,rgba(0,0,0,0))}.shaded[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{width:100%;height:100%;opacity:.03}.bar[_ngcontent-%COMP%]{position:absolute;top:calc(50% - .0625rem);width:100%;height:.125rem;background:#ddd}.bar-active[_ngcontent-%COMP%]{position:absolute;top:calc(50% - .0625rem);left:0;width:auto;height:.125rem;background:var(--success)}.handle[_ngcontent-%COMP%]{position:absolute;background-color:#fff;width:3px;height:100%;top:0;bottom:0;margin-right:-1.5px;cursor:grab;transition:opacity .25s}.handle.dragging[_ngcontent-%COMP%]{cursor:grabbing}.dice-image[_ngcontent-%COMP%]{position:absolute;height:2.03125rem;width:2.03125rem;top:0;bottom:0;margin:auto;border-radius:.25rem;display:inline-block;box-shadow:0 3px 1px #0000001a,0 4px 8px #00000021,0 0 0 1px #00000005;background:white}.dice-image[_ngcontent-%COMP%]   .roll-value[_ngcontent-%COMP%]{color:#000;font-weight:700;font-size:.75rem;line-height:2rem;width:100%;text-align:center;display:inline-block;transform:rotate(-45deg);white-space:nowrap;transition:opacity .3s}.dice-image.small-dice[_ngcontent-%COMP%]{height:.625rem;width:.625rem;border-radius:.125rem;transform:translate(50%) rotate(45deg)}.dice-ripple[_ngcontent-%COMP%]{border-radius:inherit;position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.range-tooltip[_ngcontent-%COMP%]{display:inline-block;margin-top:calc(3.125rem + 10px);padding:4px 6px;border-radius:.25rem;background-color:#1a1d22;color:#fff;transform:translate(-50%)!important}'],data:{animation:[(0,m.X$)("appear",[(0,m.eR)(":enter",(0,m._7)(_t.eu,{params:{timing:.1}}))]),(0,m.X$)("smallDiceEnterAnim",[(0,m.eR)("* => *",(0,m.IO)(":enter",[(0,m.oB)({opacity:0}),(0,m.EY)(50,[(0,m.ru)([(0,m.jt)("500ms ease-out",(0,m.F4)([(0,m.oB)({transform:"translateX(50%) rotate(0deg) scale(2) rotate(45deg)",filter:"brightness(2)"}),(0,m.oB)({transform:"translateX(50%) rotate(360deg) scale(1) rotate(45deg)",filter:"brightness(1)"})])),(0,m.jt)("250ms ease-out",(0,m.F4)([(0,m.oB)({opacity:0}),(0,m.oB)({opacity:1})]))])])],{optional:!0}))])]},changeDetection:0}),K=Be=(0,O.gn)([(0,d.c)(),(0,O.w6)("design:paramtypes",[e.SBq,m._j,Pe.H7,P])],K);let Ot=(()=>{class o{constructor(){this.on=!1,this.animated=!0,this.change=new e.vpe}onClick(){this.change.next(!this.on)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["cw-toggle-switch"]],hostVars:4,hostBindings:function(t,a){1&t&&e.NdJ("click",function(c){return a.onClick(c)}),2&t&&e.ekj("switch-on",a.on)("animated",a.animated)},inputs:{on:"on",animated:"animated"},outputs:{change:"change"},decls:2,vars:0,consts:[[1,"track"],[1,"knob"]],template:function(t,a){1&t&&(e._UZ(0,"div",0),e._UZ(1,"div",1))},styles:["[_nghost-%COMP%]{-webkit-user-select:none;user-select:none;position:relative;display:inline-block;min-width:1.5625rem;height:.875rem;border-radius:1.5rem;padding:.125rem;cursor:pointer;background-color:#00000026;box-shadow:0 1px #ffffff05,inset 0 1px 1px #0000001a}.disabled[_nghost-%COMP%]{opacity:.5;cursor:default!important}.switch-on[_nghost-%COMP%]   .track[_ngcontent-%COMP%]{background:var(--success)}.switch-on[_nghost-%COMP%]   .knob[_ngcontent-%COMP%]{left:calc(100% - .875rem)}.animated[_nghost-%COMP%]   .track[_ngcontent-%COMP%]{transition:background-color .1s}.animated[_nghost-%COMP%]   .knob[_ngcontent-%COMP%]{transition:all .1s}.track[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;margin:.35rem;border-radius:1.5rem;line-height:1.3rem;box-shadow:inset 0 1px 2px #0000001f,inset 0 0 2px #00000026;background:var(--danger)}.knob[_ngcontent-%COMP%]{z-index:1;position:absolute;top:0;left:0;margin:.125rem;height:.625rem;width:.625rem;border-radius:50%;background:#ffffff;box-shadow:1px 1px 5px #0003}"],changeDetection:0}),o})();function It(o,n){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=n.$implicit,a=e.oxw(3);e.Udp("height",a.numberSize,"px")("line-height",a.numberSize,"px"),e.xp6(1),e.hij(" ",t," ")}}function Dt(o,n){if(1&o&&(e.TgZ(0,"div",6),e.YNc(1,It,2,5,"div",7),e.qZA()),2&o){const t=e.oxw(2);e.Udp("width",t.numberSize,"px"),e.xp6(1),e.Q6J("ngForOf",t.reelNumbers)}}function At(o,n){1&o&&(e.TgZ(0,"div",8),e._uU(1,"."),e.qZA())}function St(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",2),e.TgZ(2,"div",3),e.YNc(3,Dt,2,3,"div",4),e.qZA(),e.qZA(),e.YNc(4,At,2,0,"div",5),e.BQk()),2&o){const t=n.$implicit,a=n.index,s=e.oxw();e.xp6(2),e.Udp("transition-duration",t.canAnimate?t.animationSeconds+"s":null)("transform","matrix(1, 0, 0, 1, 0, "+t.offset+")"),e.xp6(1),e.Q6J("ngForOf",s.reelRepeats),e.xp6(1),e.Q6J("ngIf",1===a)}}let ee=class{constructor(){this.startOffset=-2700,this.reelRepeats=[0,1,2,3,4,5,6,7,8,9,10],this.reelNumbers=[9,8,7,6,5,4,3,2,1,0],this.reels=[{canAnimate:!1,offset:-2950,endVal:-4450,animationSeconds:8},{canAnimate:!1,offset:-2950,endVal:-4450,animationSeconds:5},{canAnimate:!1,offset:-2950,endVal:-3950,animationSeconds:4.5},{canAnimate:!1,offset:-2950,endVal:-3950,animationSeconds:4}],this.numberSize=30,this.reelHeight=this.reelNumbers.length*this.numberSize,this.reelAnimationDone=new e.vpe}set results(n){if(!n||!n.length)return;this._results=n;let t=h()(n[0].roll.value).div(100).toFixed(2).toString();t.length<5&&(t="0"+t),t.replace(".","").split("").forEach((a,s)=>{const c=this.reels[s],l=-1*(parseInt(a,10)-9),u=this.startOffset+s*this.reelHeight,g=0-(this.numberSize*l+this.reelHeight-17);c.canAnimate=!0,c.endVal=u-l*this.numberSize+17,c.offset=g,(0,Te.H)(1e3*c.animationSeconds).pipe((0,d.t)(this),(0,re.b)(()=>{c.canAnimate=!1,c.offset=c.endVal,0===s&&this.reelAnimationDone.emit()})).subscribe()})}get results(){return this._results}};ee.\u0275fac=function(n){return new(n||ee)},ee.\u0275cmp=e.Xpm({type:ee,selectors:[["cw-reels"]],inputs:{results:"results"},outputs:{reelAnimationDone:"reelAnimationDone"},decls:2,vars:1,consts:[["fxLayout","","fxLayoutGap",".3125rem"],[4,"ngFor","ngForOf"],[1,"screen"],[1,"reel"],["class","reel-group",3,"width",4,"ngFor","ngForOf"],["class","dot",4,"ngIf"],[1,"reel-group"],[3,"height","line-height",4,"ngFor","ngForOf"],[1,"dot"]],template:function(n,t){1&n&&(e.TgZ(0,"section",0),e.YNc(1,St,5,6,"ng-container",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngForOf",t.reels))},directives:[b.xw,b.SQ,E.sg,E.O5],styles:['[_nghost-%COMP%]{display:block;font-size:1.5rem;font-weight:600}.screen[_ngcontent-%COMP%]{position:relative;width:3.125rem;height:3.125rem;overflow:hidden;border-radius:9px;background-color:#0000001a;box-shadow:0 1px #ffffff05,inset 0 1px 1px #0000001a}.screen[_ngcontent-%COMP%]:before, .screen[_ngcontent-%COMP%]:after{z-index:1;content:"";position:absolute;right:0;left:0;height:40%;opacity:.9}.screen[_ngcontent-%COMP%]:before{top:0;background:linear-gradient(to bottom,#1a1e21,rgba(0,0,0,0))}.screen[_ngcontent-%COMP%]:after{bottom:0;background:linear-gradient(to top,#1a1e21,rgba(0,0,0,0))}.reel[_ngcontent-%COMP%]{margin-top:-.65rem;transform:matrix(1,0,0,1,0,-12);text-align:center}.reel-group[_ngcontent-%COMP%]{margin:0 auto}.dot[_ngcontent-%COMP%]{padding:.5rem;line-height:1}'],changeDetection:0}),ee=(0,O.gn)([(0,d.c)(),(0,O.w6)("design:paramtypes",[])],ee);var le=r(93114);function bt(o,n){if(1&o&&(e._UZ(0,"div",2),e.ALo(1,"number")),2&o){const t=n.$implicit;e.ekj("bg-success",!0===t.won)("bg-danger",!1===t.won),e.Q6J("ngbTooltip",e.xi3(1,5,t.roll.value/100,"1.2-2"))}}let vt=(()=>{class o extends((0,le.A)(le.t)){constructor(){super(...arguments),this.bets=[],this.dots=Array.from(Array(30)).map(t=>({}))}}return o.\u0275fac=function(){let n;return function(a){return(n||(n=e.n5z(o)))(a||o)}}(),o.\u0275cmp=e.Xpm({type:o,selectors:[["cw-roll-results"]],inputs:{bets:"bets"},features:[e.qOj],decls:2,vars:2,consts:[["fxLayout","row wrap","fxLayoutAlign","center","fxLayoutGap",".5rem"],["class","dot","placement","top",3,"ngbTooltip","bg-success","bg-danger",4,"ngFor","ngForOf","ngForTrackBy"],["placement","top",1,"dot",3,"ngbTooltip"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.YNc(1,bt,2,8,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",a.bets)("ngForTrackBy",a.trackById))},directives:[b.xw,b.Wh,b.SQ,E.sg,we._L],pipes:[E.JJ],styles:[".dot[_ngcontent-%COMP%]{width:.625rem;height:.625rem;margin:.5rem 0;border-radius:.125rem;transform:rotate(45deg)}"],changeDetection:0}),o})();const xt=["underOverInput"];function Bt(o,n){if(1&o&&(e.TgZ(0,"mat-option",58),e.SDv(1,59),e.qZA()),2&o){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.pQV(t.label),e.QtT(1)}}function Lt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(){return e.CHM(t),e.oxw().openStrategyModal()}),e.SDv(1,61),e.qZA()}}function Nt(o,n){1&o&&(e.ynx(0),e.SDv(1,65),e.BQk())}function Rt(o,n){1&o&&(e.ynx(0),e.SDv(1,66),e.BQk())}function yt(o,n){1&o&&(e.ynx(0),e.SDv(1,67),e.BQk())}function $t(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().setMode(c.id)}),e.ALo(1,"push"),e.ALo(2,"lowercase"),e.ynx(3,26),e.YNc(4,Nt,2,0,"ng-container",63),e.YNc(5,Rt,2,0,"ng-container",63),e.YNc(6,yt,2,0,"ng-container",63),e.BQk(),e._UZ(7,"cw-toggle-switch",64),e.qZA()}if(2&o){const t=n.$implicit,a=e.oxw();e.Q2q("data-test","mode-",e.lcZ(2,9,t.id),""),e.Q6J("disabled",e.lcZ(1,7,a.isLoading$)),e.xp6(3),e.Q6J("ngSwitch",t.id),e.xp6(1),e.Q6J("ngSwitchCase",a.DiceBetMode.BATCH),e.xp6(1),e.Q6J("ngSwitchCase",a.DiceBetMode.AUTO),e.xp6(1),e.Q6J("ngSwitchCase",a.DiceBetMode.ANIMATION),e.xp6(1),e.Q6J("on",a.form.controls.mode.value===t.id)}}function Ft(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"cw-strategy-form",68),e.NdJ("valueChange",function(s){return e.CHM(t),e.oxw().onStrategyChange(s)})("formValid",function(s){return e.CHM(t),e.oxw().onStrategyFormValid(s)}),e.qZA()}}function Zt(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.TgZ(1,"span"),e.SDv(2,69),e.qZA(),e._uU(3),e.qZA()),2&o){const t=e.oxw(2);e.xp6(3),e.hij(":\xa0",t.form.errors.maxBet," ")}}function Pt(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Zt,4,1,"mat-error",17),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.form.errors?null:t.form.errors.maxBet)}}function wt(o,n){1&o&&(e.TgZ(0,"span",70),e.SDv(1,71),e.qZA())}function kt(o,n){1&o&&(e.TgZ(0,"span",70),e.SDv(1,72),e.qZA())}function Gt(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.SDv(1,73),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.pQV(t.minUnderOver),e.QtT(1)}}function Ut(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.SDv(1,74),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.pQV(t.maxUnderOver),e.QtT(1)}}function Jt(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Gt,2,1,"mat-error",17),e.YNc(2,Ut,2,1,"mat-error",17),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.underOver.value<t.minUnderOver),e.xp6(1),e.Q6J("ngIf",t.form.controls.underOver.value>t.maxUnderOver)}}function Wt(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.SDv(1,75),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.pQV(t.minMultiplier),e.QtT(1)}}function Qt(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.SDv(1,76),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.pQV(t.maxMultiplier),e.QtT(1)}}function qt(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Wt,2,1,"mat-error",17),e.YNc(2,Qt,2,1,"mat-error",17),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.multiplier.value<t.minMultiplier),e.xp6(1),e.Q6J("ngIf",t.form.controls.multiplier.value>t.maxMultiplier)}}function Yt(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.SDv(1,77),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.pQV(t.minChance),e.QtT(1)}}function Xt(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.SDv(1,78),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.pQV(t.maxChance),e.QtT(1)}}function Vt(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Yt,2,1,"mat-error",17),e.YNc(2,Xt,2,1,"mat-error",17),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.chance.value<t.minChance),e.xp6(1),e.Q6J("ngIf",t.form.controls.chance.value>t.maxChance)}}function zt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"cw-reels",79),e.NdJ("reelAnimationDone",function(){return e.CHM(t),e.oxw().reelAnimationDone()}),e.ALo(1,"push"),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("results",e.lcZ(1,1,t.lastBets$))}}function jt(o,n){if(1&o&&e._UZ(0,"cw-pretty-balance",83),2&o){const t=e.oxw().ngIf;e.Q6J("balance",t.balance)("currency",t.currency)("ngClass",t.balanceClass)}}function Ht(o,n){if(1&o&&(e.TgZ(0,"div",80),e._UZ(1,"span",81),e.YNc(2,jt,1,3,"cw-pretty-balance",82),e.qZA()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("innerHTML",t.html,e.oJD),e.xp6(1),e.Q6J("ngIf",t.balance)}}function Kt(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.SDv(1,84),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.pQV(t.minRollsPerClick),e.QtT(1)}}function en(o,n){if(1&o&&(e.TgZ(0,"mat-error"),e.SDv(1,85),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.pQV(t.maxRollsPerClick),e.QtT(1)}}function tn(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Kt,2,1,"mat-error",17),e.YNc(2,en,2,1,"mat-error",17),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.rollsPerClick.value<t.minRollsPerClick),e.xp6(1),e.Q6J("ngIf",t.form.controls.rollsPerClick.value>t.maxRollsPerClick)}}function nn(o,n){if(1&o&&e._UZ(0,"cw-roll-results",86),2&o){const t=e.oxw();e.Q6J("bets",t.lastBets)}}const on=function(){return[1,10]};class Me{isErrorState(n,t){return n&&n.invalid&&(n.dirty||n.touched)}}let te=class{constructor(n,t,a,s,c,l,u,g){this.appConfig=n,this.fb=t,this.diceService=a,this.userService=s,this.dialog=c,this.trackingService=l,this.authDialogService=u,this.dynamicLoader=g,this.betPlaced=new e.vpe,this.DiceBetMode=i._Q,this.DiceBetChoice=i.xk,this.storageKey="dice-wager",this.submitted=!1,this.isLoading$=new f.X(!1),this.minRollsPerClick=this.appConfig.dice.minRollsPerClick,this.maxRollsPerClick=this.appConfig.dice.maxRollsPerClick,this.maxPot=this.diceService.getMaxPot(),this.maxBet=this.diceService.getMaxBet(),this.minChance=this.diceService.getMinChance(),this.maxChance=this.diceService.getMaxChance(),this.minMultiplier=this.diceService.getMinMultiplier(),this.maxMultiplier=this.diceService.getMaxMultiplier(),this.positiveColor="var(--success)",this.negativeColor="var(--danger)",this.modes=[{id:i._Q.BATCH,label:"Spray",enabled:!1},{id:i._Q.AUTO,label:"Auto",enabled:!1},{id:i._Q.ANIMATION,label:"Slow roll",enabled:!1}],this.defaults={mode:i._Q.MANUAL,choice:i.xk.UNDER,amount:this.appConfig.dice.initialBet,chance:this.diceService.getDefaultChance(),underOver:this.diceService.getDefaultChance(),multiplier:this.diceService.getDefaultMultiplier(),rollsPerClick:1},this.strategy$=new f.X(this.diceService.getDefaultStrategy()),this.multErrorStateMatcher=new Me,this.chanceErrorStateMatcher=new Me,this.underOverNumErrorStateMatcher=new Me,this.rollsPerClickErrorStateMatcher=new Me,this.lastBets$=new f.X([]),this.batchDelay$=new f.X(0),this.strategyFormValid=!0,this.gameInProgress$=new f.X(null),this.cancel=new R.x,this.reelAnimation=new R.x,this.currentBets$=new f.X([[],(new Date).getTime()]),this.maxBetValidator=()=>D=>{const C=D.controls.chance.value,w=D.controls.amount.value;if(!C||!w)return null;const k=+h()(this.diceService.getMultiplierFromChance(C)).toFixed(2);return w*k>this.maxPot?{error:!0,maxBet:this.diceService.getMaxBet(k)}:null}}set strategyForm(n){!n||(this._strategyForm=n)}get strategyForm(){return this._strategyForm}ngOnInit(){this.createForm(),this.subscribeListeners(),this.diceService.getMinBet().pipe((0,d.t)(this),(0,y.q)(1)).subscribe(n=>{this.minBet=n,this.form.controls.amount.setValidators([_.kI.required,_.kI.min(this.minBet)]),this.form.controls.amount.updateValueAndValidity({onlySelf:!0})}),this.recalculateMultiplier(),this.initObservables()}initObservables(){this.wagerText$=(0,ae.a)([this.form.controls.mode.valueChanges.pipe((0,S.O)(this.defaults.mode)),this.gameInProgress$,this.lastBets$,this.userService.currency$]).pipe((0,M.U)(([,n,t,a])=>{var s;const c=this.form.controls.mode.value;if(!n){if(1===t.length){const l=Math.abs(-1*t[0].profit);return{html:"You "+(t[0].won?"won":"lost"),balance:l,balanceClass:t[0].won?"text-success":"text-danger",currency:a}}if(t.length>1){const g=this.totalProfit;return{html:`You won ${this.totalWon}/${t.length} rolls and ${g>=0?"won":"lost"}`,balance:Math.abs(g),balanceClass:g>=0?"text-success":"text-danger",currency:a}}}return n?c===i._Q.AUTO?{html:`${t.length} / ${(null===(s=this.currentGame)||void 0===s?void 0:s.rollLimit)||"\u221e"} Rolls...`}:{html:"Rolling"}:{html:""}})),this.isDisabled$=(0,ae.a)([this.form.controls.mode.valueChanges.pipe((0,S.O)(this.defaults.mode)),this.isLoading$]).pipe((0,M.U)(([n,t])=>t&&n!==i._Q.AUTO)),this.hasDangerClass$=this.isLoading$.pipe((0,M.U)(()=>this.lastBets.length&&this.totalProfit<=0)),this.buttonText$=(0,ae.a)([this.form.controls.mode.valueChanges.pipe((0,S.O)(this.defaults.mode)),this.form.controls.rollsPerClick.valueChanges.pipe((0,S.O)(this.defaults.rollsPerClick)),this.gameInProgress$,this.lastBets$,this.batchDelay$,this.strategy$]).pipe((0,M.U)(([,n,t,a,s,c])=>{var l,u;const g=this.form.controls.mode.value;if(!t){if(1===a.length)return this.lastRoll.toString();if(a.length>1)return"Play Again"}return t?g===i._Q.AUTO?"STOP ROLLING":"Rolling":g===i._Q.AUTO?`Start ${null==c?void 0:c.speed.toFixed(2)} Roll(s) per second`:g===i._Q.BATCH?s>0?`Please wait ${s} seconds`:1===(n||(n=1),this.form.controls.rollsPerClick.value)?`ROLL ${null!==(l=this.form.controls.rollsPerClick.value)&&void 0!==l?l:0} TIME`:`ROLL ${null!==(u=this.form.controls.rollsPerClick.value)&&void 0!==u?u:0} TIMES`:"ROLL DICE"}))}ngOnDestroy(){this.gameInProgress&&this.gameInProgress.unsubscribe()}get gameInProgress(){return this.gameInProgress$.getValue()}get minUnderOver(){return this.form&&this.form.controls.choice.value!==i.xk.UNDER?5.99:this.minChance}get maxUnderOver(){return this.form&&this.form.controls.choice.value!==i.xk.UNDER?99.98:this.maxChance}get lastBets(){return this.lastBets$.getValue()}get totalWon(){return this.lastBets.reduce((n,t)=>n+(t.won?1:0),0)}get totalProfit(){return this.lastBets.reduce((n,t)=>+h()(n).plus(-1*t.profit).toFixed(4),0)}get totalProfitLabel(){const n=this.totalProfit;return`<span class="${n>0?"text-success":""} ${n<0?"text-danger":""}">${n>0?"+":""} ${n}</span>`}get lastRoll(){var n;return this.lastBets.length?+h()(null===(n=this.lastBets[this.lastBets.length-1].roll)||void 0===n?void 0:n.value).div(100).toFixed(2):null}get showRollResults(){return[i._Q.AUTO].includes(this.form.controls.mode.value)}onChoiceChange(n){n.underOver.setValidators([_.kI.required,_.kI.min(this.minUnderOver),_.kI.max(this.maxUnderOver)]),n.underOver.updateValueAndValidity({emitEvent:!1});const t=this.diceService.getUnderOverFromChance(n.chance.value,n.choice.value);n.underOver.setValue(t,{emitEvent:!1})}subscribeListeners(){const n=this.form.controls;n.underOver.valueChanges.pipe((0,d.t)(this),(0,j.x)()).subscribe(t=>{if(!t||t<this.minUnderOver||t>this.maxUnderOver)return;const a=this.diceService.getChanceFromUnderOver(t,n.choice.value);this.syncValuesToChance(+a)}),this.onChoiceChange(n),n.choice.valueChanges.pipe((0,d.t)(this),(0,j.x)()).subscribe(()=>this.onChoiceChange(n))}recalculateChance(){if(!this.form.get("chance").value)return;const n=Math.floor(100*this.form.get("chance").value)/100;!n||n<this.minChance||n>this.maxChance||this.syncValuesToChance(+n)}recalculateMultiplier(){if(!this.form.get("multiplier").value)return;const n=Math.floor(100*this.form.get("multiplier").value)/100;if(!n||n<this.minMultiplier||n>this.maxMultiplier)return;const t=this.diceService.getChanceFromMultiplier(n);this.syncValuesToChance(+t)}syncValuesToChance(n){const t=this.form.controls;if(h()(t.amount.value).times(this.diceService.getMultiplierFromChance(n)).gt(this.maxPot)){const l=this.diceService.getBetFromChance(n);t.amount.setValue(l)}const s=this.diceService.getUnderOverFromChance(n,t.choice.value),c=this.diceService.getMultiplierFromChance(n);this.form.markAllAsTouched(),t.underOver.setValue(+s.toFixed(2),{emitEvent:!1}),t.chance.setValue(+n.toFixed(2),{emitEvent:!1}),t.multiplier.setValue(+c.toFixed(2),{emitEvent:!1})}getProfit(){return this.diceService.getProfit(this.form.controls.multiplier.value||0,this.form.controls.amount.value||0)}setMode(n){n=n===this.form.controls.mode.value?i._Q.MANUAL:n,this.gameInProgress$.next(null),this.lastBets$.next([]),this.form.controls.mode.setValue(n),this.form.controls.rollsPerClick.setValue(n===i._Q.BATCH?2:1),this.setBalanceUpdateDelay()}setBalanceUpdateDelay(){this.form.controls.mode.value===i._Q.ANIMATION?(this.userService.addDelayToBalanceUpdate(H.a.DICE_WIN,this.reelAnimation),this.userService.addDelayToBalanceUpdate(H.a.DICE_BET,this.reelAnimation)):(this.userService.removeDelayFromBalanceUpdate(H.a.DICE_WIN),this.userService.removeDelayFromBalanceUpdate(H.a.DICE_BET))}getAutoDelay(){return 1e3/this.strategy$.getValue().speed}clear(){this.form.controls.amount.setValue("")}toggleType(){const n=this.form.controls.choice;n.setValue(n.value===i.xk.OVER?i.xk.UNDER:i.xk.OVER)}enable(){var n;Object.keys(this.form.controls).forEach(t=>this.form.controls[t].enable({emitEvent:!1})),null===(n=this.strategyForm)||void 0===n||n.enable()}disable(){var n;Object.keys(this.form.controls).forEach(t=>this.form.controls[t].disable({emitEvent:!1})),null===(n=this.strategyForm)||void 0===n||n.disable()}submit(){this.userService.user$.pipe((0,y.q)(1)).subscribe(n=>{if(!n)return this.authDialogService.openAuthModal();const t=this.form.controls.mode.value;if(this.submitted=!0,this.gameInProgress)return this.cancel.next(),void this.cancel.complete();if(this.lastBets.length)return this.cancel.next(),this.cancel.complete(),void this.lastBets$.next([]);if(this.form.controls.amount.value>this.userService.getBalance(n))return this.dynamicLoader.openDialog(Promise.all([r.e("default-libs_new-payment_src_index_ts"),r.e("default-libs_wallet_src_index_ts")]).then(r.bind(r,60766)).then(a=>[a.WalletModule,a.NoBalanceModalComponent])).subscribe();if(t===i._Q.BATCH&&this.form.controls.amount.value*this.form.controls.rollsPerClick.value>this.userService.getBalance(n))return this.dynamicLoader.openDialog(Promise.all([r.e("default-libs_new-payment_src_index_ts"),r.e("default-libs_wallet_src_index_ts")]).then(r.bind(r,60766)).then(a=>[a.WalletModule,a.NoBalanceModalComponent])).subscribe();if(!(t===i._Q.BATCH&&this.batchDelay$.getValue()>0)&&this.form.valid&&this.isStrategyFormValid){const a=this.getAutoDelay();this.currentGame=Object.assign({},this.form.getRawValue(),this.strategy$.getValue()),this.currentGame.baseBet=this.currentGame.amount;let s=t===i._Q.AUTO?this.currentGame.rollLimit:1;s||(s=1/0);let c=this.currentGame.maxBet;c||(c=1/0);const l=Math.min(c,this.maxBet);this.isLoading$.next(!0),this.disable(),this.cancel=new R.x;const u=this.diceService.delayBetResult$.pipe((0,S.O)(0),(0,y.q)(s),(0,pe.h)(g=>g>=0),(0,He.b)((g,D)=>(0,I.of)(this.currentGame).pipe((0,M.U)(C=>(this.trackingService.trackAffiliateCommission("dice",C.amount),0===D||(t===i._Q.AUTO&&(C.amount=this.lastBets[this.lastBets.length-1].won?"multiply"===C.onWinOption?+h()(C.amount).times(C.onWinMultiplier).toFixed(2):C.baseBet:"multiply"===C.onLoseOption?+h()(C.amount).times(C.onLoseMultiplier).toFixed(2):C.baseBet,C.amount>l&&(C.amount=l)),this.form.controls.amount.setValue(C.amount)),C)),(0,q.w)(C=>{this.betPlaced.next({game:C,mode:t});const k=(new Date).getTime();return this.diceService.bet(C).pipe((0,Ce.R)(this.cancel),(0,d.t)(this),(o=B=>B.pipe((0,tt.z)(J=>{const W=J.toString(),L=W.match(/Please wait [\d]+ seconds/g);if(L.length){const N=L[0].match(/[\d]+/g)[0],Q=parseInt(N,10);return this.batchDelay$.next(Q),(0,Te.H)(1e3*Q)}return(0,Y._)(W)})),(0,Ke.e)((n,t)=>{let a,c,s=!1;const l=()=>{a=n.subscribe(new Ne.Q(t,void 0,void 0,u=>{c||(c=new R.x,o(c).subscribe(new Ne.Q(t,()=>a?l():s=!0))),c&&c.next(u)})),s&&(a.unsubscribe(),a=null,s=!1,l())};l()})),(0,nt.K)(()=>(this.currentGame=null,this.isLoading$.next(!1),this.enable(),this.cancel.next(),this.cancel.complete(),[])),(0,he.P)(B=>!!B&&B.length),(0,re.b)(B=>{this.batchDelay$.getValue()>0&&this.batchDelay$.next(0),this.lastBets$.next([...this.lastBets,...B])}),(()=>t===i._Q.ANIMATION?(0,de.j)(B=>this.reelAnimation.asObservable().pipe((0,he.P)(),(0,M.U)(()=>B))):(0,Le.g)(D>0&&"number"==typeof g?Math.max(a-g,0):a))(),(0,re.b)(B=>{this.currentBets$.next([B,k])}));var o}))),(0,Ce.R)(this.cancel),(0,Re.x)(()=>{(t===i._Q.AUTO||t===i._Q.BATCH)&&this.form.controls.amount.setValue(this.currentGame.baseBet),this.currentGame=null,this.isLoading$.next(!1),this.enable(),this.gameInProgress$.next(null),this.batchDelay$.next(0)})).subscribe(()=>{},console.error);this.gameInProgress$.next(u)}})}onStrategyChange(n){this.strategy$.next(n)}onStrategyFormValid(n){this.strategyFormValid=n}openStrategyModal(){this.dialog.open(lt).afterClosed().subscribe(t=>{t&&this.strategy$.next(t)})}forceUnderOverBlur(){this.underOverInput.nativeElement.focus(),this.underOverInput.nativeElement.blur()}get isStrategyFormValid(){return this.form.controls.mode.value!==i._Q.AUTO||this.form.controls.mode.value===i._Q.AUTO&&this.strategyFormValid}store(){this.form.statusChanges.pipe((0,pe.h)(n=>"VALID"===n),(0,he.P)()).subscribe(n=>localStorage.setItem(this.storageKey,JSON.stringify(this.form.getRawValue())))}createForm(){const n=localStorage.getItem(this.storageKey),t=n?JSON.parse(n):Object.assign({},this.defaults);this.form=this.fb.group({mode:[t.mode,_.kI.required],choice:[t.choice,_.kI.required],amount:[t.amount,[_.kI.required]],chance:[t.chance,[_.kI.required,_.kI.min(this.minChance),_.kI.max(this.maxChance)]],underOver:[t.underOver,[_.kI.required,_.kI.min(this.minUnderOver),_.kI.max(this.maxUnderOver)]],multiplier:[t.multiplier,[_.kI.required,_.kI.min(this.minMultiplier),_.kI.max(this.maxMultiplier)]],rollsPerClick:[t.rollsPerClick,[_.kI.required,_.kI.min(this.minRollsPerClick),_.kI.max(this.maxRollsPerClick)]]},{validators:[this.maxBetValidator()]}),this.setBalanceUpdateDelay(),this.diceService.getMinBet().pipe((0,y.q)(1)).subscribe(a=>{this.form.controls.amount.setValidators([_.kI.required,_.kI.min(a)]),this.form.controls.amount.updateValueAndValidity()}),(0,Te.H)(100).pipe((0,q.w)(()=>this.userService.user$),(0,y.q)(1)).subscribe(()=>this.form.controls.amount.setValue(t.amount)),this.form.valueChanges.pipe((0,d.t)(this)).subscribe(()=>this.store())}get isButtonDisabled(){return this.form.controls.mode.value!==i._Q.AUTO&&(!!this.gameInProgress||this.form.invalid)}reelAnimationDone(){this.reelAnimation.next()}};te.\u0275fac=function(n){return new(n||te)(e.Y36(T.qBz),e.Y36(_.qu),e.Y36(P),e.Y36(T.KDu),e.Y36(z.uw),e.Y36(T.e2C),e.Y36(_e.AuthDialogService),e.Y36(F.tC))},te.\u0275cmp=e.Xpm({type:te,selectors:[["cw-dice-wager"]],viewQuery:function(n,t){if(1&n&&(e.Gf(xt,5),e.Gf(X,5)),2&n){let a;e.iGM(a=e.CRH())&&(t.underOverInput=a.first),e.iGM(a=e.CRH())&&(t.strategyForm=a.first)}},outputs:{betPlaced:"betPlaced"},decls:84,vars:55,consts:function(){let o,n,t,a,s,c,l,u,g,D,C,w,k,B,J,W,L,N,Q,Ye,Xe,Ve,ze,je;return o=$localize`:␟9d0ac9c23563b10fafabeedbf739e933b054d1c8␟2233560223291461480:Manual`,n=$localize`:␟e06e52c373917d5a112569b10d8ee3dea263e3f6␟6660884889021179834:Bet amount`,t=$localize`:␟3e7d63f0c9314462da0b3271fc10945a2459d524␟8976705228646080709:Profit on win`,a=$localize`:␟04c3a1f2142572c99466e6323f65327209c0dc66␟8989988207934635233: Roll `,s=$localize`:␟67eb60f7e60b23219df7ba26a0aa88e1ff768d36␟5493880020176468567:Multiplier`,c=$localize`:␟c542edcb6018a07f12b2e8e360010ec623fec556␟2074956869208541404:Win chance`,l=$localize`:␟b6d7c9a92429727a0199dbc41770eed59f948c38␟1922444462832845174:Chance`,u=$localize`:␟90e7306da8b21538c3909d1bb5c5970c82e11aa4␟5500541328317951531:ROLLS`,g=$localize`:␟ac17b76bb898b26c48c6e322620977a91cf5c829␟8932323459742697721:${"\ufffd0\ufffd"}:INTERPOLATION:`,D=$localize`:␟04c94dd5c17d8f23c30d848060d4f37104b78fea␟8790828363388501682: Roll settings `,C=$localize`:␟358c2931ce25d0c0c5cb1780b40e875a03257bf2␟5420601557148220080:Spray`,w=$localize`:␟5fb13fb4a8447e59cdf05dc196ade39c02a6f8aa␟616064537937996961:Auto`,k=$localize`:␟84b564ea6430f00f21642610bbcc950d1a695d34␟9212459347317802845:Slow Roll`,B=$localize`:␟543f05e452762e34b55cfa847dac418a35c992a6␟3450868632104452815:Max bet amount`,J=$localize`:␟e2f481917f3e46d81f8eceefd5b269ae655e97be␟7229707853504953626:Under`,W=$localize`:␟9255acfca599aed1ee6ff415e37a08311f0fab4e␟2624226064809724288:Over`,L=$localize`:␟47ad69013f63fa7a8d4aac339b7ea995de9f5e39␟8056857497482402877:${"\ufffd0\ufffd"}:INTERPOLATION:Min. `,N=$localize`:␟5a8397e38c1f89e41b8a6fe04d88e7d55e3d4396␟7275749978656024949:${"\ufffd0\ufffd"}:INTERPOLATION:Max. `,Q=$localize`:␟e76e1c23784625f50dd0e5013a6b2c16c1078635␟2007975948763580827:${"\ufffd0\ufffd"}:INTERPOLATION:Min. `,Ye=$localize`:␟d73001e142d8624ab00bd80265b23e88b1ffdc6c␟6742316346816769287:${"\ufffd0\ufffd"}:INTERPOLATION:Max. `,Xe=$localize`:␟64dd3344fc6de438ed56cc354d763d8713a23a88␟1211298153235928575:${"\ufffd0\ufffd"}:INTERPOLATION: Min.`,Ve=$localize`:␟11dda9df7a91271a2362c954506153129f61b6ad␟2874147776421926110:${"\ufffd0\ufffd"}:INTERPOLATION: Max.`,ze=$localize`:␟46a1cab46d898ba6ec48e178c417d6b6d02c0ac9␟3839659664119600635:${"\ufffd0\ufffd"}:INTERPOLATION: Min. `,je=$localize`:␟08d727d1a2ae4e9ef34cf271bc3f03e0e4d435a7␟3041963852357499386:${"\ufffd0\ufffd"}:INTERPOLATION: Max. `,[["fxHide.gt-xs","","fxLayout","","fxLayoutGap.gt-xs","1rem","fxLayoutAlign","space-between center",1,"mobile-modes"],["fxFlex","50"],[3,"ngModel","selectionChange"],["selected","",3,"value"],o,[3,"value",4,"ngFor","ngForOf"],["class","mat-flat-button mat-primary",3,"click",4,"ngIf"],["fxLayoutAlign","center center","fxLayoutGap","1rem","fxHide.lt-sm","",1,"modes"],["mat-flat-button","","fxLayoutAlign","space-around center",3,"disabled","click",4,"ngFor","ngForOf"],["fxLayout","","fxLayoutGap.gt-xs","2rem"],["fxHide.xs","",3,"valueChange","formValid",4,"ngIf"],["novalidate","",3,"formGroup"],[1,"card","card-body","mt-1","right-side"],["fxLayout","row","fxLayoutGap","2rem","fxLayoutAlign","space-between center",1,"bet-amount-section"],["fxFlex",""],n,[3,"ctrl","minValue","clearValue","lastButton","options","label"],[4,"ngIf"],["fxHide.lt-md",""],t,["data-test","profit-on-win",1,"profit-box","text-success"],[3,"balance"],["fxLayout.xs","row wrap","fxLayout.gt-xs","row nowrap","fxLayoutAlign","space-between center",1,"bet-form"],["fxFlex","","fxFlex.xs","100"],["data-test","choice-label",1,"mr-1",3,"click"],a,[3,"ngSwitch"],["class","text-success font-weight-bold",4,"ngSwitchCase"],["fxLayout","","fxLayoutGap",".625rem","fxLayoutAlign","start start"],["data-test","choice-switch","mat-flat-button","","type","button",1,"btn-switch",3,"ngClass","disabled","click"],["src","assets/dice/switch.svg"],[1,"under-over-input"],["data-test","threshold","matInput","","type","number","formControlName","underOver",3,"errorStateMatcher"],["underOverInput",""],[1,"d-block"],s,[1,"multiplier","w-100"],["data-test","multiplier","matInput","","type","number","step","0.01","formControlName","multiplier",3,"errorStateMatcher","blur"],["fxHide.xs",""],c,["fxHide.gt-xs",""],l,[1,"w-100"],["data-test","chance","matInput","","type","number","step","0.01","formControlName","chance",3,"errorStateMatcher","input"],[1,"uo-range"],["formControlName","underOver",3,"min","max","step","bgFront","bgBack","rolls","instantAnim"],["fxLayout","","fxLayoutAlign","space-between center",1,"uo-labels"],[3,"results","reelAnimationDone",4,"ngIf"],["class","wager-text",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"wager-footer"],u,[1,"small","ml-2"],["data-test","rolls-per-click","matInput","","type","number","step","1","formControlName","rollsPerClick",3,"errorStateMatcher"],["fxFlex","",1,"button-wrapper"],["fxFlexAlign","center","mat-flat-button","","type","submit",1,"btn-roll","mat-button-3d",3,"color","disabled","click"],["fxFlex","",1,"text-right"],[1,"font-weight-bold",3,"innerHTML"],["class","mt-2",3,"bets",4,"ngIf"],[3,"value"],g,[1,"mat-flat-button","mat-primary",3,"click"],D,["mat-flat-button","","fxLayoutAlign","space-around center",3,"disabled","click"],[4,"ngSwitchCase"],[1,"ml-2",3,"on"],C,w,k,["fxHide.xs","",3,"valueChange","formValid"],B,[1,"text-success","font-weight-bold"],J,W,L,N,Q,Ye,Xe,Ve,[3,"results","reelAnimationDone"],[1,"wager-text"],[3,"innerHTML"],["class","ml-2",3,"balance","currency","ngClass",4,"ngIf"],[1,"ml-2",3,"balance","currency","ngClass"],ze,je,[1,"mt-2",3,"bets"]]},template:function(n,t){1&n&&(e.TgZ(0,"section",0),e.TgZ(1,"mat-form-field",1),e.TgZ(2,"mat-select",2),e.NdJ("selectionChange",function(s){return t.setMode(s.value)}),e.TgZ(3,"mat-option",3),e.SDv(4,4),e.qZA(),e.YNc(5,Bt,2,2,"mat-option",5),e.qZA(),e.qZA(),e.YNc(6,Lt,2,0,"button",6),e.qZA(),e.TgZ(7,"section",7),e.YNc(8,$t,8,11,"button",8),e.qZA(),e.TgZ(9,"section",9),e.YNc(10,Ft,1,0,"cw-strategy-form",10),e.TgZ(11,"form",11),e.TgZ(12,"div",12),e.TgZ(13,"section",13),e.TgZ(14,"div",14),e.TgZ(15,"label"),e.SDv(16,15),e.qZA(),e._UZ(17,"cw-amount-input",16),e.YNc(18,Pt,2,1,"ng-container",17),e.qZA(),e.TgZ(19,"div",18),e.TgZ(20,"label"),e.SDv(21,19),e.qZA(),e.TgZ(22,"div",20),e._UZ(23,"cw-pretty-balance",21),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",22),e.TgZ(25,"div",23),e.TgZ(26,"label",24),e.NdJ("click",function(){return t.toggleType()}),e.TgZ(27,"span"),e.SDv(28,25),e.qZA(),e.ynx(29,26),e.YNc(30,wt,2,0,"span",27),e.YNc(31,kt,2,0,"span",27),e.BQk(),e.qZA(),e.TgZ(32,"div",28),e.TgZ(33,"button",29),e.NdJ("click",function(){return t.toggleType()}),e.ALo(34,"push"),e._UZ(35,"img",30),e.qZA(),e.TgZ(36,"mat-form-field",31),e._UZ(37,"input",32,33),e.YNc(39,Jt,3,2,"ng-container",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",14),e.TgZ(41,"label",34),e.SDv(42,35),e.qZA(),e.TgZ(43,"mat-form-field",36),e.TgZ(44,"span"),e._uU(45,"x"),e.qZA(),e.TgZ(46,"input",37),e.NdJ("blur",function(){return t.recalculateMultiplier()}),e.qZA(),e.YNc(47,qt,3,2,"ng-container",17),e.qZA(),e.qZA(),e.TgZ(48,"div",14),e.TgZ(49,"label"),e.TgZ(50,"span",38),e.SDv(51,39),e.qZA(),e.TgZ(52,"span",40),e.SDv(53,41),e.qZA(),e.qZA(),e.TgZ(54,"mat-form-field",42),e.TgZ(55,"input",43),e.NdJ("input",function(){return t.recalculateChance()}),e.qZA(),e.YNc(56,Vt,3,2,"ng-container",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",44),e._UZ(58,"cw-range",45),e.TgZ(59,"div",46),e.TgZ(60,"span"),e._uU(61,"0"),e.qZA(),e.TgZ(62,"span"),e._uU(63,"100"),e.qZA(),e.qZA(),e.qZA(),e.YNc(64,zt,2,3,"cw-reels",47),e.YNc(65,Ht,3,2,"div",48),e.ALo(66,"push"),e.TgZ(67,"section",49),e.TgZ(68,"div",14),e.TgZ(69,"label"),e.SDv(70,50),e.qZA(),e.TgZ(71,"mat-form-field",51),e._UZ(72,"input",52),e.YNc(73,tn,3,2,"ng-container",17),e.qZA(),e.qZA(),e.TgZ(74,"div",53),e.TgZ(75,"button",54),e.NdJ("click",function(){return t.submit()}),e.ALo(76,"push"),e._uU(77),e.ALo(78,"push"),e.qZA(),e.qZA(),e.TgZ(79,"div",55),e.TgZ(80,"small"),e._uU(81,"PROFIT SO FAR"),e.qZA(),e._UZ(82,"div",56),e.qZA(),e.qZA(),e.YNc(83,nn,1,1,"cw-roll-results",57),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("ngModel",t.form.controls.mode.value),e.xp6(1),e.Q6J("value",t.DiceBetMode.MANUAL),e.xp6(2),e.Q6J("ngForOf",t.modes),e.xp6(1),e.Q6J("ngIf",t.form.controls.mode.value==t.DiceBetMode.AUTO),e.xp6(2),e.Q6J("ngForOf",t.modes),e.xp6(2),e.Q6J("ngIf",t.form.controls.mode.value==t.DiceBetMode.AUTO),e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(6),e.Q6J("ctrl",t.form.controls.amount)("minValue",t.minBet)("clearValue",null)("lastButton",!1)("options",e.DdM(54,on))("label",!1),e.xp6(1),e.Q6J("ngIf",t.form.invalid),e.xp6(5),e.Q6J("balance",t.getProfit()),e.xp6(6),e.Q6J("ngSwitch",t.form.controls.choice.value),e.xp6(1),e.Q6J("ngSwitchCase",t.DiceBetChoice.UNDER),e.xp6(1),e.Q6J("ngSwitchCase",t.DiceBetChoice.OVER),e.xp6(2),e.Q6J("ngClass",null==t.form.controls.choice.value?null:t.form.controls.choice.value.toLowerCase())("disabled",e.lcZ(34,46,t.isDisabled$)),e.xp6(4),e.Q6J("errorStateMatcher",t.underOverNumErrorStateMatcher),e.xp6(2),e.Q6J("ngIf",t.form.controls.underOver.invalid),e.xp6(7),e.Q6J("errorStateMatcher",t.multErrorStateMatcher),e.xp6(1),e.Q6J("ngIf",t.form.controls.multiplier.invalid),e.xp6(8),e.Q6J("errorStateMatcher",t.chanceErrorStateMatcher),e.xp6(1),e.Q6J("ngIf",t.form.controls.chance.invalid),e.xp6(2),e.Q6J("min",t.minUnderOver)("max",t.maxUnderOver)("step",.01)("bgFront",t.form.controls.choice.value===t.DiceBetChoice.UNDER?t.positiveColor:t.negativeColor)("bgBack",t.form.controls.choice.value===t.DiceBetChoice.UNDER?t.negativeColor:t.positiveColor)("rolls",t.currentBets$)("instantAnim",t.form.controls.mode.value===t.DiceBetMode.AUTO&&t.getAutoDelay()<=1e3),e.xp6(6),e.Q6J("ngIf",t.form.controls.mode.value===t.DiceBetMode.ANIMATION),e.xp6(1),e.Q6J("ngIf",e.lcZ(66,48,t.wagerText$)),e.xp6(3),e.ekj("invisible",t.form.controls.mode.value!==t.DiceBetMode.BATCH),e.xp6(4),e.Q6J("errorStateMatcher",t.rollsPerClickErrorStateMatcher),e.xp6(1),e.Q6J("ngIf",t.form.controls.rollsPerClick.invalid),e.xp6(2),e.Q6J("color",e.lcZ(76,50,t.hasDangerClass$)?"red":"accent")("disabled",t.isButtonDisabled),e.xp6(2),e.hij(" ",e.lcZ(78,52,t.buttonText$)," "),e.xp6(2),e.ekj("invisible",t.form.controls.mode.value!==t.DiceBetMode.AUTO),e.xp6(3),e.Q6J("innerHTML",t.totalProfitLabel,e.oJD),e.xp6(1),e.Q6J("ngIf",t.showRollResults))},directives:[Ee.b8,b.xw,b.SQ,b.Wh,ue.KE,b.yH,Fe.gD,_.JJ,_.On,Ze.ey,E.sg,E.O5,_._Y,_.JL,_.sg,ct.l,xe.q,E.RF,E.n9,ve.lW,E.mk,Ee.oO,$e.Nt,_.wV,_.Fj,_.u,K,b.XD,Ot,X,ue.TO,ee,vt],pipes:[ke.f,E.i8],styles:["[_nghost-%COMP%]{display:block;text-align:left}[_nghost-%COMP%]     .mat-form-field-wrapper{color:#fff;font-weight:500}.text-success[_ngcontent-%COMP%]{color:#00e258!important}.card[_ngcontent-%COMP%]{padding:.75rem}@media (min-width: 576px){.card[_ngcontent-%COMP%]{padding:1.875rem}}cw-strategy-form[_ngcontent-%COMP%]{max-width:19.5rem}.right-side[_ngcontent-%COMP%]{max-width:42.5rem}.coins[_ngcontent-%COMP%]{width:1rem}.profit-box[_ngcontent-%COMP%]{background:rgba(0,199,77,.1);border-radius:6px;font-weight:700;min-width:120px;text-align:center;margin-bottom:1.25rem;height:3.375rem;line-height:3.375rem}.modes[_ngcontent-%COMP%]{margin:.5rem 0 2rem}.modes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff!important;font-size:.8rem;text-transform:uppercase;min-width:8.25rem;background-color:#ffffff0d}.modes[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     .mat-button-wrapper{width:100%;justify-content:space-around}.btn-switch[_ngcontent-%COMP%]{height:52px;width:52px;border-radius:8px!important;background-color:#31353d;border-top:2px solid #3c414b;border-bottom:2.5px solid #1f2126}.btn-switch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5rem;vertical-align:bottom;transition:transform .3s}.btn-switch.under[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:rotate(-180deg)}.btn-roll[_ngcontent-%COMP%]{min-width:12rem;padding:.25rem 1rem}cw-reels[_ngcontent-%COMP%]{margin:1rem auto 2rem}cw-range[_ngcontent-%COMP%]{margin-bottom:.5rem}.uo-range[_ngcontent-%COMP%]{margin:1rem 0}.uo-labels[_ngcontent-%COMP%]{color:#fff9;font-size:.75rem;font-weight:500}.bet-amount-section[_ngcontent-%COMP%]{margin-bottom:.75rem}.bet-form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:1rem}.bet-form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-right:0}.bet-form[_ngcontent-%COMP%]   .under-over-input[_ngcontent-%COMP%]     .mat-form-field-infix{width:inherit}.bet-form[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.bet-form[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:.6rem}.bet-form[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{transform:translateY(-10%);font-size:12px}.wager-text[_ngcontent-%COMP%]{height:2rem;text-align:center}.wager-footer[_ngcontent-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width: 650px){.wager-footer[_ngcontent-%COMP%]{display:block!important;margin-bottom:.5rem;text-align:center}.wager-footer[_ngcontent-%COMP%]   .invisible[_ngcontent-%COMP%]{display:none}.wager-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:inline-block}.wager-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:.5rem 1rem}}.x-icon[_ngcontent-%COMP%]{position:absolute}.multiplier[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;color:#fff9}mat-select[_ngcontent-%COMP%], mat-option[_ngcontent-%COMP%]{text-transform:uppercase}.bet-form[_ngcontent-%COMP%]     .mat-form-field-infix, .small[_ngcontent-%COMP%]     .mat-form-field-infix{height:52px;padding:.5em 0 1em;line-height:1}@media only screen and (max-width: 475px){.bet-amount-section[_ngcontent-%COMP%]{margin-bottom:.5rem}.bet-form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:0}.uo-range[_ngcontent-%COMP%]{margin-bottom:0}}","label[_ngcontent-%COMP%]{font-size:.9em;text-transform:uppercase;color:#fff9}.mat-form-field.small[_ngcontent-%COMP%]{width:6rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0}),te=(0,O.gn)([(0,d.c)(),(0,O.w6)("design:paramtypes",[Object,_.qu,P,T.KDu,z.uw,T.e2C,_e.AuthDialogService,F.tC])],te);var an=r(17371),rn=r(89979),sn=r(57963),Oe=r(13270),Ge=r(34782),Ue=r(67015),v=r(88279),Je=r(27737),We=r(30121),ln=r(40068);function cn(o,n){1&o&&(e.TgZ(0,"th",18),e._uU(1,"Bet ID"),e.qZA())}function _n(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"td",19),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().showBetInfoModal(c)}),e._uU(1),e.qZA()}if(2&o){const t=n.$implicit;e.xp6(1),e.Oqu(t.gameNumber)}}function un(o,n){1&o&&(e.TgZ(0,"th",18),e._uU(1,"User"),e.qZA())}const gn=function(o){return["/player",o]};function dn(o,n){if(1&o&&(e.TgZ(0,"td",20),e.TgZ(1,"a",21),e._UZ(2,"cw-user-avatar-badge",22),e.qZA(),e.TgZ(3,"span",23),e._uU(4),e.qZA(),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(5,gn,t.user.id)),e.xp6(1),e.Q6J("user",t.user)("small",!0)("authenticBadge",!0),e.xp6(2),e.Oqu(t.user.name)}}function mn(o,n){1&o&&(e.TgZ(0,"th",18),e._uU(1,"Time"),e.qZA())}function fn(o,n){if(1&o&&(e.TgZ(0,"td",24),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdAt,"HH:mm"))}}function pn(o,n){1&o&&(e.TgZ(0,"th",18),e._uU(1,"Bet"),e.qZA())}function hn(o,n){if(1&o&&(e.TgZ(0,"td",24),e._UZ(1,"cw-pretty-balance",25),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("balance",t.amount)("currency",t.currency)}}function Cn(o,n){1&o&&(e.TgZ(0,"th",18),e._uU(1,"Multiplier"),e.qZA())}function Tn(o,n){if(1&o&&(e.TgZ(0,"td",24),e._uU(1),e.ALo(2,"multiplierText"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.multiplier))}}function En(o,n){1&o&&(e.TgZ(0,"th",18),e._uU(1,"Game"),e.qZA())}function Mn(o,n){if(1&o&&(e.TgZ(0,"td",24),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"lowercase"),e.ALo(4,"rollTarget"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.AsE("",e.lcZ(2,2,e.lcZ(3,4,t.choice))," ",e.lcZ(4,6,t),"")}}function On(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Roll"),e.qZA())}function In(o,n){if(1&o&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"number"),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.roll.value/100,"1.2-2"))}}function Dn(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Profit"),e.qZA())}function An(o,n){if(1&o&&(e.TgZ(0,"td",28),e._UZ(1,"cw-pretty-balance",25),e.qZA()),2&o){const t=n.$implicit;e.ekj("text-success",t.profit<0)("text-danger",t.profit>0),e.xp6(1),e.Q6J("balance",-1*t.profit)("currency",t.currency)}}function Sn(o,n){1&o&&e._UZ(0,"tr",29)}function bn(o,n){1&o&&e._UZ(0,"tr",30),2&o&&e.Q6J("@fade",!!n.$implicit.new&&"show")}let ne=class extends((0,le.A)(le.t)){constructor(n,t){super(),this.dialog=n,this.media=t,this.bets=[],this.columns$=this.media.asObservable().pipe((0,S.O)(null),(0,M.U)(()=>{let a=["id","user","time","bet","multiplier","game","roll","profit"];return this.media.isActive("lt-lg")&&(a=a.filter(s=>!["time","multiplier","roll"].includes(s))),this.media.isActive("lt-md")&&(a=a.filter(s=>!["bet","game"].includes(s))),a}),(0,Ge.d)(1))}showBetInfoModal(n){this.dialog.open(Ue.H,{width:"800px",data:{bet:n}})}};ne.\u0275fac=function(n){return new(n||ne)(e.Y36(z.uw),e.Y36(Oe.u0))},ne.\u0275cmp=e.Xpm({type:ne,selectors:[["cw-dice-bet-list"]],inputs:{bets:"bets"},features:[e.qOj],decls:29,vars:8,consts:[["mat-table","",1,"w-100",3,"dataSource","trackBy"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","pointer",3,"click",4,"matCellDef"],["matColumnDef","user"],["mat-cell","","class","user",4,"matCellDef"],["matColumnDef","time"],["mat-cell","",4,"matCellDef"],["matColumnDef","bet"],["matColumnDef","multiplier"],["matColumnDef","game"],["matColumnDef","roll"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","profit"],["mat-cell","","class","text-right font-weight-bold",3,"text-success","text-danger",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"pointer",3,"click"],["mat-cell","",1,"user"],[1,"avatar",3,"routerLink"],[3,"user","small","authenticBadge"],[1,"name"],["mat-cell",""],[3,"balance","currency"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-cell","",1,"text-right","font-weight-bold"],["mat-header-row",""],["mat-row",""]],template:function(n,t){1&n&&(e.TgZ(0,"table",0),e.ynx(1,1),e.YNc(2,cn,2,0,"th",2),e.YNc(3,_n,2,1,"td",3),e.BQk(),e.ynx(4,4),e.YNc(5,un,2,0,"th",2),e.YNc(6,dn,5,7,"td",5),e.BQk(),e.ynx(7,6),e.YNc(8,mn,2,0,"th",2),e.YNc(9,fn,3,4,"td",7),e.BQk(),e.ynx(10,8),e.YNc(11,pn,2,0,"th",2),e.YNc(12,hn,2,2,"td",7),e.BQk(),e.ynx(13,9),e.YNc(14,Cn,2,0,"th",2),e.YNc(15,Tn,3,3,"td",7),e.BQk(),e.ynx(16,10),e.YNc(17,En,2,0,"th",2),e.YNc(18,Mn,5,8,"td",7),e.BQk(),e.ynx(19,11),e.YNc(20,On,2,0,"th",12),e.YNc(21,In,3,4,"td",13),e.BQk(),e.ynx(22,14),e.YNc(23,Dn,2,0,"th",12),e.YNc(24,An,2,6,"td",15),e.BQk(),e.YNc(25,Sn,1,0,"tr",16),e.ALo(26,"async"),e.YNc(27,bn,1,1,"tr",17),e.ALo(28,"async"),e.qZA()),2&n&&(e.Q6J("dataSource",t.bets)("trackBy",t.trackById),e.xp6(25),e.Q6J("matHeaderRowDef",e.lcZ(26,4,t.columns$)),e.xp6(2),e.Q6J("matRowDefColumns",e.lcZ(28,6,t.columns$)))},directives:[v.BZ,v.w1,v.fO,v.Dz,v.as,v.nj,v.ge,v.ev,$.yS,Je.i,xe.q,v.XQ,v.Gk],pipes:[E.Ov,E.uU,We.Y,E.rS,E.i8,ln.V,E.JJ],styles:[".no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.mat-table[_ngcontent-%COMP%]{background:none}.mat-header-cell[_ngcontent-%COMP%]{color:#fff9;text-transform:uppercase;font-weight:400;background:none;border-bottom:0}.mat-cell[_ngcontent-%COMP%]{height:2.5rem;border-bottom:0;color:#fff}.user[_ngcontent-%COMP%]{display:flex;align-items:center}.avatar[_ngcontent-%COMP%]{display:block;transform:scale(.75);margin-right:.5rem}.name[_ngcontent-%COMP%]{display:inline-block;max-width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;color:#fff9;font-weight:500;margin-left:.25rem}",""],data:{animation:[(0,m.X$)("fade",[(0,m.SB)("void",(0,m.oB)({opacity:0})),(0,m.SB)("show",(0,m.oB)({opacity:1})),(0,m.eR)("void => show",(0,m.jt)(250))])]},changeDetection:0}),ne=(0,O.gn)([(0,d.c)(),(0,O.w6)("design:paramtypes",[z.uw,Oe.u0])],ne);var vn=r(8189),xn=r(22940);function Bn(o,n){if(1&o&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.AsE("",t.year," - ",t.week,"")}}function Ln(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Place"),e.qZA())}function Nn(o,n){1&o&&(e.ynx(0),e._UZ(1,"cw-icon",30),e.BQk())}function Rn(o,n){1&o&&(e.ynx(0),e._UZ(1,"cw-icon",31),e.BQk())}function yn(o,n){1&o&&(e.ynx(0),e._UZ(1,"cw-icon",32),e.BQk())}function $n(o,n){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw().index;e.xp6(1),e.hij(" ",t+1," ")}}function Fn(o,n){if(1&o&&(e.TgZ(0,"td",27),e.YNc(1,Nn,2,0,"ng-container",28),e.YNc(2,Rn,2,0,"ng-container",28),e.YNc(3,yn,2,0,"ng-container",28),e.YNc(4,$n,2,1,"ng-container",29),e.qZA()),2&o){const t=n.index;e.ekj("muted",t>2),e.Q6J("ngSwitch",t),e.xp6(1),e.Q6J("ngSwitchCase",0),e.xp6(1),e.Q6J("ngSwitchCase",1),e.xp6(1),e.Q6J("ngSwitchCase",2)}}function Zn(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1,"User"),e.qZA())}const Pn=function(o){return["/player",o]};function wn(o,n){if(1&o&&(e.TgZ(0,"td",33),e.TgZ(1,"a",34),e._UZ(2,"cw-user-avatar-badge",35),e.qZA(),e.TgZ(3,"span",36),e._uU(4),e.qZA(),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(5,Pn,t.user.id)),e.xp6(1),e.Q6J("user",t.user)("small",!0)("authenticBadge",!0),e.xp6(2),e.Oqu(t.user.name)}}function kn(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Time"),e.qZA())}function Gn(o,n){if(1&o&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=n.$implicit;e.ekj("muted",n.index>2),e.xp6(1),e.Oqu(e.xi3(2,3,t.createdAt,"EEEE HH:mm"))}}function Un(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Bet"),e.qZA())}function Jn(o,n){if(1&o&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"number"),e.qZA()),2&o){const t=n.$implicit;e.ekj("muted",n.index>2),e.xp6(1),e.Oqu(e.xi3(2,3,t.amount,"1.2-2"))}}function Wn(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Multiplier"),e.qZA())}function Qn(o,n){if(1&o&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"multiplierText"),e.qZA()),2&o){const t=n.$implicit;e.ekj("muted",n.index>2),e.xp6(1),e.Oqu(e.lcZ(2,3,t.multiplier))}}function qn(o,n){1&o&&(e.TgZ(0,"th",26),e._uU(1,"Bet"),e.qZA())}function Yn(o,n){if(1&o&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"number"),e.ALo(3,"multiplierText"),e.qZA()),2&o){const t=n.$implicit;e.ekj("muted",n.index>2),e.xp6(1),e.AsE(" ",e.xi3(2,4,t.amount,"1.2-2")," @ ",e.lcZ(3,7,t.multiplier)," ")}}function Xn(o,n){1&o&&(e.TgZ(0,"th",38),e._uU(1,"Prize"),e.qZA())}function Vn(o,n){if(1&o&&(e.TgZ(0,"td",39),e._UZ(1,"cw-pretty-balance",7),e.qZA()),2&o){const t=n.index;e.ekj("muted",t>2),e.xp6(1),e.Q6J("balance",0===t?500:1===t?300:2===t?200:0)}}function zn(o,n){1&o&&e._UZ(0,"tr",40)}function jn(o,n){1&o&&e._UZ(0,"tr",41)}let oe=class extends((0,le.A)(le.t)){constructor(n,t,a){super(),this.media=a,this.weekYears=[];const{weekDay:s,hourStart:c}=n.dice.jackpot;this.currentWeekYear=(0,T.Qk4)(new Date,s,c),this.weekStart=(0,T.hAB)(this.currentWeekYear.week,this.currentWeekYear.year,s,c),this.weekYears=t.getJackpotWeeks(),this.form=new _.cw({weekYear:new _.NI(this.currentWeekYear,[_.kI.required])}),this.columns$=this.media.asObservable().pipe((0,M.U)(()=>this.media.isActive("lt-lg")?["user","multiplierBet","prize"]:["place","user","time","multiplier","bet","prize"]),(0,Ge.d)(1));const l=Object.assign({first:20,minTotalPayout:.01,minAmount:1},this.getDateArgs(this.weekStart));this.dataSource=t.getJackpotDataSource(l);const u=t.newDiceBet$.pipe((0,pe.h)(g=>g.won&&g.amount>=1),(0,M.U)(g=>Object.assign(new i.ue,g)));this.data$=this.dataSource.connect().pipe((0,j.x)(),(0,M.U)(g=>g.map(D=>Object.assign(new i.ue,D))),(0,q.w)(g=>{const{week:D,year:C}=this.form.get("weekYear").value,{week:w,year:k}=this.currentWeekYear;return C===k&&D===w?(0,se.T)((0,I.of)(g).pipe((0,vn.J)()),u).pipe((0,xn.R)((J,W)=>Array.from(J.concat([W]).sort((L,N)=>L.chance<N.chance?-1:L.chance>N.chance?1:L.totalBet>N.totalBet?-1:L.totalBet<N.totalBet||L.user.id>N.user.id?1:-1).reduce((L,N)=>L.has(N.user.id)?L:L.set(N.user.id,N),new Map).values()).slice(0,20),[])):(0,I.of)(g)})),this.form.get("weekYear").valueChanges.pipe((0,d.t)(this)).subscribe(({week:g,year:D})=>{const C=(0,T.hAB)(g,D,s,c);this.dataSource.filter(Object.assign(Object.assign({},l),this.getDateArgs(C)))})}getDateArgs(n){const t=new Date(n);return t.setUTCDate(t.getDate()+7),{createdAtMinDate:n,createdAtMaxDate:t}}compareWith(n,t){return n.week===t.week&&n.year===t.year}};function Hn(o,n){1&o&&e._UZ(0,"cw-game-in-maintenance",14)}function Kn(o,n){1&o&&(e.TgZ(0,"section",15),e._UZ(1,"a",16),e.qZA())}oe.\u0275fac=function(n){return new(n||oe)(e.Y36(T.qBz),e.Y36(P),e.Y36(Oe.u0))},oe.\u0275cmp=e.Xpm({type:oe,selectors:[["cw-dice-bet-jackpot-table"]],features:[e.qOj],decls:41,vars:14,consts:function(){let o,n;return o=$localize`:␟73339760fe932d2b494728d4366947755d127e00␟5141352019990967744:Week`,n=$localize`:␟c78185c8d9d9bd27e6d1f285171b9d736909cba0␟8308996489981506260:${"\ufffd#12\ufffd"}:START_TAG_CW_PRETTY_BALANCE:${"\ufffd/#12\ufffd"}:CLOSE_TAG_CW_PRETTY_BALANCE: or more to play. The top 3 players with the highest multiplier win. ${"\ufffd#13\ufffd"}:START_LINK:Find out more${"\ufffd/#13\ufffd"}:CLOSE_LINK:`,[["fxLayout","row wrap","fxLayoutAlign","space-between center"],[1,"h2"],[3,"formGroup"],o,["formControlName","weekYear",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],n,[3,"balance"],["rel","nofollow","target","_blank","href","https://blog.csgoroll.com/weekly-dice-jackpot"],["mat-table","",1,"w-100",3,"dataSource","trackBy"],["matColumnDef","place"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngSwitch","muted",4,"matCellDef"],["matColumnDef","user"],["mat-cell","","class","user",4,"matCellDef"],["matColumnDef","time"],["mat-cell","",3,"muted",4,"matCellDef"],["matColumnDef","bet"],["matColumnDef","multiplier"],["matColumnDef","multiplierBet"],["matColumnDef","prize"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",3,"muted",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell","",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["inlineSVG","assets/icons/crown.svg",1,"crown-icon","gold"],["inlineSVG","assets/icons/crown.svg",1,"crown-icon","silver"],["inlineSVG","assets/icons/crown.svg",1,"crown-icon","bronze"],["mat-cell","",1,"user"],[1,"avatar",3,"routerLink"],[3,"user","small","authenticBadge"],[1,"name"],["mat-cell",""],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-header-row",""],["mat-row",""]]},template:function(n,t){1&n&&(e.TgZ(0,"section",0),e.TgZ(1,"header"),e.TgZ(2,"h1",1),e._uU(3,"Weekly 1K Jackpot for the biggest pair of dice!"),e.qZA(),e.qZA(),e.TgZ(4,"form",2),e.TgZ(5,"mat-form-field"),e.TgZ(6,"mat-label"),e.SDv(7,3),e.qZA(),e.TgZ(8,"mat-select",4),e.YNc(9,Bn,2,3,"mat-option",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"p"),e.tHW(11,6),e._UZ(12,"cw-pretty-balance",7),e._UZ(13,"a",8),e.N_p(),e.qZA(),e.TgZ(14,"table",9),e.ALo(15,"async"),e.ynx(16,10),e.YNc(17,Ln,2,0,"th",11),e.YNc(18,Fn,5,6,"td",12),e.BQk(),e.ynx(19,13),e.YNc(20,Zn,2,0,"th",11),e.YNc(21,wn,5,7,"td",14),e.BQk(),e.ynx(22,15),e.YNc(23,kn,2,0,"th",11),e.YNc(24,Gn,3,6,"td",16),e.BQk(),e.ynx(25,17),e.YNc(26,Un,2,0,"th",11),e.YNc(27,Jn,3,6,"td",16),e.BQk(),e.ynx(28,18),e.YNc(29,Wn,2,0,"th",11),e.YNc(30,Qn,3,5,"td",16),e.BQk(),e.ynx(31,19),e.YNc(32,qn,2,0,"th",11),e.YNc(33,Yn,4,9,"td",16),e.BQk(),e.ynx(34,20),e.YNc(35,Xn,2,0,"th",21),e.YNc(36,Vn,2,3,"td",22),e.BQk(),e.YNc(37,zn,1,0,"tr",23),e.ALo(38,"async"),e.YNc(39,jn,1,0,"tr",24),e.ALo(40,"async"),e.qZA()),2&n&&(e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("compareWith",t.compareWith),e.xp6(1),e.Q6J("ngForOf",t.weekYears),e.xp6(3),e.Q6J("balance",1),e.xp6(2),e.Q6J("dataSource",e.lcZ(15,8,t.data$))("trackBy",t.trackById),e.xp6(23),e.Q6J("matHeaderRowDef",e.lcZ(38,10,t.columns$)),e.xp6(2),e.Q6J("matRowDefColumns",e.lcZ(40,12,t.columns$)))},directives:[b.xw,b.Wh,_._Y,_.JL,_.sg,ue.KE,ue.hX,Fe.gD,_.JJ,_.u,E.sg,xe.q,v.BZ,v.w1,v.fO,v.Dz,v.as,v.nj,Ze.ey,v.ge,v.ev,E.RF,E.n9,E.ED,Se.o,be.d$,$.yS,Je.i,v.XQ,v.Gk],pipes:[E.Ov,E.uU,E.JJ,We.Y],styles:[".no-scrollbar[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}.no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.mat-table[_ngcontent-%COMP%]{background:none}.mat-header-cell[_ngcontent-%COMP%]{color:#fff9;text-transform:uppercase;font-weight:400;background:none;border-bottom:0}.mat-cell[_ngcontent-%COMP%]{height:2.5rem;border-bottom:0;color:#fff}.user[_ngcontent-%COMP%]{display:flex;align-items:center}.avatar[_ngcontent-%COMP%]{display:block;transform:scale(.75);margin-right:.5rem}.name[_ngcontent-%COMP%]{display:inline-block;max-width:80%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;color:#fff9;font-weight:500;margin-left:.25rem}","header[_ngcontent-%COMP%]{margin-bottom:1.34375em}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}.crown-icon[_ngcontent-%COMP%]{width:1.4rem}.crown-icon.gold[_ngcontent-%COMP%]{color:#e6be4f}.crown-icon.silver[_ngcontent-%COMP%]{color:#b3afaf}.crown-icon.bronze[_ngcontent-%COMP%]{color:#dba15f}.muted[_ngcontent-%COMP%]{opacity:.6}"],changeDetection:0}),oe=(0,O.gn)([(0,d.c)(),(0,O.w6)("design:paramtypes",[Object,P,Oe.u0])],oe);const Ie=function(o){return{active:o}};function eo(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return s.setListType(s.BetListType.MY_BETS)}),e.SDv(1,17),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,Ie,t.isActive(t.BetListType.MY_BETS)))}}function to(o,n){1&o&&(e.tHW(0,21,1),e.GkF(1),e.N_p())}function no(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e.TgZ(1,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().toggleJackpotBets()}),e._UZ(2,"cw-icon",20),e.TgZ(3,"div"),e.tHW(4,21),e.YNc(5,to,2,0,"ng-container",22),e.N_p(),e.qZA(),e.qZA(),e.TgZ(6,"div",23),e._UZ(7,"cw-countdown",24),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,Ie,t.showJackpotBets)),e.xp6(4),e.Q6J("cwMediaIf","gt-sm"),e.xp6(2),e.Q6J("until",t.jackpotEnd)}}function oo(o,n){if(1&o&&(e._UZ(0,"cw-dice-bet-list",25),e.ALo(1,"async")),2&o){const t=e.oxw();e.Q6J("bets",e.lcZ(1,1,t.bets$))}}function io(o,n){1&o&&e._UZ(0,"cw-dice-bet-jackpot-table")}let ie=class{constructor(n,t,a,s){var c;this.appConfig=n,this.diceService=t,this.apollo=a,this.BetListType=Z,this.showJackpotBets=!1,this.betListType$=new f.X(Z.ALL),this.maintenanceSettingKey="maintenance:dice",this.isJackpotEnabled=!!(null===(c=this.appConfig.dice)||void 0===c?void 0:c.jackpot),this.queryRef=this.apollo.watchQuery({query:x.gY,variables:x.pA}),this.queriedBets$=this.queryRef.valueChanges.pipe((0,M.U)(({data:l})=>l.diceBets?l.diceBets.edges.map(u=>u.node):[])),this.myNewBets$=new f.X([]),this.subscription=new ce.w0,this.createNode=l=>({node:Object.assign(Object.assign({},l),{new:!0}),__typename:"DiceBetEdge"}),this.user$=s.user$,this.user$.pipe((0,d.t)(this),(0,M.U)(l=>null==l?void 0:l.id),(0,j.x)()).subscribe(l=>this._userId=l),this.jackpotEnd=t.getJackpotEndDate(),this.subscription.add(this.queryRef.subscribeToMore({document:x.OK,updateQuery:(l,{subscriptionData:u})=>{for(const g of u.data.createDiceBets.diceBets)this.betListType$.getValue()===Z.HIGH_BETS?g.totalBet>=this.diceService.diceConfig.highRollersMinBet&&(l.diceBets.edges=this.addNodeToTheArray(g,l.diceBets.edges)):g.user.id===this._userId?this.myNewBets$.next([Object.assign(Object.assign({},g),{new:!0}),...this.myNewBets$.getValue()]):l.diceBets.edges=this.addNodeToTheArray(g,l.diceBets.edges);return l}})),this.betListType$.pipe((0,M.U)(l=>{switch(l){case Z.ALL:return{orderBy:i.pr.ID_DESC};case Z.HIGH_BETS:return{orderBy:i.pr.ID_DESC,minAmount:this.diceService.diceConfig.highRollersMinBet};case Z.MY_BETS:return{orderBy:i.pr.ID_DESC,userId:this._userId}}}),(0,q.w)(l=>(this.queryRef.setVariables(Object.assign(Object.assign({},x.pA),l)),this.queryRef.refetch())),(0,d.t)(this)).subscribe(()=>this.myNewBets$.next([])),this.bets$=(0,ae.a)([this.queriedBets$.pipe((0,De.p)(250,Ae.Z,{leading:!0,trailing:!0})),this.myNewBets$.pipe((0,de.j)(l=>{var u;return l&&this._userId&&(null===(u=l[0])||void 0===u?void 0:u.user.id)===this._userId?this.diceService.delayBetResult$:(0,I.of)({})}))]).pipe((0,M.U)(([l,u])=>((null==u?void 0:u.length)&&(l=[...u,...l]),this.betListType$.getValue()===Z.MY_BETS&&(l=l.filter(g=>g.user.id===this._userId)),l.slice(0,x.lO))),(0,M.U)(l=>l.map(u=>Object.assign(new i.ue,u))),(0,M.U)(l=>l.sort((u,g)=>g.createdAt.localeCompare(u.createdAt))))}setListType(n){this.showJackpotBets=!1,(this.showJackpotBets||this.betListType$.value!==n)&&this.betListType$.next(n)}toggleJackpotBets(){this.showJackpotBets=!this.showJackpotBets}isActive(n){return!this.showJackpotBets&&this.betListType$.getValue()===n}ngOnDestroy(){this.subscription.unsubscribe()}addNodeToTheArray(n,t){return[this.createNode(n),...t.slice(-100).slice(0,-1)]}};ie.\u0275fac=function(n){return new(n||ie)(e.Y36(T.qBz),e.Y36(P),e.Y36(G._M),e.Y36(T.KDu))},ie.\u0275cmp=e.Xpm({type:ie,selectors:[["cw-dice"]],decls:16,vars:14,consts:function(){let o,n,t,a;return o=$localize`:␟0cdecd94c66bf46800d7b81bd7787992f7594acc␟3371123467152286675: All Bets `,n=$localize`:␟26d006824ea0bcc4fe3c76352ea1956342dc894c␟7354846530311290747: High Rollers `,t=$localize`:␟15115f722eb424f169b6555ac27bd3c613fe7c18␟6571236401765978644: My Bets `,a=$localize`:␟eddb73ccf42098a88af3c7735483ee54595b2962␟2745620931288250659:1K ${"\ufffd*5:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER:Weekly${"\ufffd/#1:1\ufffd\ufffd/*5:1\ufffd"}:CLOSE_TAG_NG_CONTAINER: Jackpot`,[["gameName","Dice",4,"cwGameInMaintenance"],["class","promotional-banner",4,"ngIf"],[1,"text-center"],[1,"mb-4"],["fxLayout","","fxLayoutAlign","center"],["fxLayout","row wrap","fxLayoutAlign","center start",1,"list-type-buttons"],["mat-flat-button","","fxFlex","none","fxFlex.xs","",3,"ngClass","click"],o,["mat-flat-button","","fxFlex","none","fxFlex.xs","",3,"ngClass","click",4,"ngIf"],n,["class","jackpot-area","fxFlex","none","fxFlex.xs","",4,"ngIf"],[1,"px-md-4"],[3,"bets",4,"ngIf"],[4,"ngIf"],["gameName","Dice"],[1,"promotional-banner"],["rel","nofollow","target","_blank","href","https://blog.csgoroll.com/weekly-dice-jackpot",1,"inner"],t,["fxFlex","none","fxFlex.xs","",1,"jackpot-area"],["mat-flat-button","",3,"ngClass","click"],["inlineSVG","assets/icons/crown.svg",1,"crown-icon","mr-2"],a,[4,"cwMediaIf"],[1,"countdown"],[3,"until"],[3,"bets"]]},template:function(n,t){1&n&&(e.YNc(0,Hn,1,0,"cw-game-in-maintenance",0),e.YNc(1,Kn,2,0,"section",1),e.TgZ(2,"section",2),e._UZ(3,"cw-dice-wager",3),e.qZA(),e.TgZ(4,"section",4),e.TgZ(5,"div",5),e.TgZ(6,"button",6),e.NdJ("click",function(){return t.setListType(t.BetListType.ALL)}),e.SDv(7,7),e.qZA(),e.YNc(8,eo,2,3,"button",8),e.ALo(9,"async"),e.TgZ(10,"button",6),e.NdJ("click",function(){return t.setListType(t.BetListType.HIGH_BETS)}),e.SDv(11,9),e.qZA(),e.YNc(12,no,8,5,"div",10),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e.YNc(14,oo,2,3,"cw-dice-bet-list",12),e.YNc(15,io,1,0,"cw-dice-bet-jackpot-table",13),e.qZA()),2&n&&(e.Q6J("cwGameInMaintenance",t.maintenanceSettingKey),e.xp6(1),e.Q6J("ngIf",t.isJackpotEnabled),e.xp6(5),e.Q6J("ngClass",e.VKq(10,Ie,t.isActive(t.BetListType.ALL))),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,8,t.user$)),e.xp6(2),e.Q6J("ngClass",e.VKq(12,Ie,t.isActive(t.BetListType.HIGH_BETS))),e.xp6(2),e.Q6J("ngIf",t.isJackpotEnabled),e.xp6(2),e.Q6J("ngIf",!t.showJackpotBets),e.xp6(1),e.Q6J("ngIf",t.showJackpotBets))},directives:[fe.d,E.O5,te,b.xw,b.Wh,ve.lW,b.yH,E.mk,Ee.oO,an.K,Se.o,be.d$,rn.h,sn.M,ne,oe],pipes:[E.Ov],styles:["[_nghost-%COMP%]{margin:0 auto}cw-dice-wager[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}.promotional-banner[_ngcontent-%COMP%]{margin:calc(var(--vertical-spacing) * -1) calc(var(--horizontal-spacing) * -1) 1rem}.promotional-banner[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{display:block;background-image:url(https://static.ancientgaming.io/promotional/dice-promo-banner-2000x200-v7.png);background-position:top right;background-size:cover;padding-bottom:10%}.list-type-buttons[_ngcontent-%COMP%]{position:relative;margin-right:-1rem;margin-bottom:1rem}.list-type-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1rem;text-transform:uppercase;font-size:.8rem;background-color:#ffffff0d}.list-type-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#0003}.list-type-buttons[_ngcontent-%COMP%]   .jackpot-area[_ngcontent-%COMP%]{margin-right:1rem}.list-type-buttons[_ngcontent-%COMP%]   .jackpot-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-right:0}@media (max-width: 767.98px){.list-type-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .list-type-buttons[_ngcontent-%COMP%]   .jackpot-area[_ngcontent-%COMP%]{min-width:33.33%}}.jackpot-area[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.jackpot-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:.25rem}.jackpot-area[_ngcontent-%COMP%]   .countdown[_ngcontent-%COMP%]{font-size:.8rem}.crown-icon[_ngcontent-%COMP%]{width:1.5rem;color:#e6be4f}.countdown[_ngcontent-%COMP%]{color:#35d87b}"],changeDetection:0}),ie=(0,O.gn)([(0,d.c)(),(0,O.w6)("design:paramtypes",[Object,P,G._M,T.KDu])],ie);const ao=[{path:"",component:ie}];let ro=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[$.Bz.forChild(ao)],$.Bz]}),o})();var Qe=r(36822);let qe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[F.vY,v.p0,Qe.Fc]]}),o})(),so=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[F.vY,ro,Qe.Fc,qe,v.p0]]}),o})()},79291:(ge,U,r)=>{r.d(U,{lO:()=>T,pA:()=>i,gY:()=>G,JP:()=>f,Wr:()=>M,OK:()=>ce});var F=r(86513),$=r(75424),O=r(39478);const T=20,i={orderBy:F.pr.ID_DESC,first:T},d=O.Ps`
  fragment DiceBet on DiceBet {
    id
    amount
    totalBet
    totalPayout
    profit
    won
    choice
    createdAt
    chance
    currency
    houseEdgePercent
    roll {
      id
      value
      nonce
      clientSeed {
        id
        value
      }
      serverSeed {
        id
        value
      }
    }
    user {
      ...UserBadge
    }
  }
`,G=O.Ps`
  query DiceBets(
    $after: String
    $createdAtMaxDate: SequelizeDate
    $createdAtMinDate: SequelizeDate
    $first: PaginationAmount
    $last: PaginationAmount
    $maxAmount: Float
    $maxTotalPayout: Float
    $minAmount: Float
    $minTotalPayout: Float
    $orderBy: [DiceBetOrderBy]
    $userId: ID
    $gameTypes: [DiceGameType!]
  ) {
    diceBets(
      after: $after
      createdAtMaxDate: $createdAtMaxDate
      createdAtMinDate: $createdAtMinDate
      first: $first
      last: $last
      maxAmount: $maxAmount
      maxTotalPayout: $maxTotalPayout
      minAmount: $minAmount
      minTotalPayout: $minTotalPayout
      orderBy: $orderBy
      userId: $userId
      gameTypes: $gameTypes
    ) {
      pageInfo {
        hasNextPage
        endCursor
      }
      edges {
        node {
          ...DiceBet
        }
      }
    }
  }

  ${d}
  ${$.userBadgeFragment}
`,f=O.Ps`
  query DiceBetJackpotEntries(
    $createdAtMaxDate: SequelizeDate!
    $createdAtMinDate: SequelizeDate!
    $first: PaginationAmount!
    $minAmount: Float!
    $minTotalPayout: Float!
  ) {
    diceBetJackpotEntries(
      createdAtMaxDate: $createdAtMaxDate
      createdAtMinDate: $createdAtMinDate
      first: $first
      minAmount: $minAmount
      minTotalPayout: $minTotalPayout
    ) {
      ...DiceBet
    }
  }

  ${d}
  ${$.userBadgeFragment}
`,M=O.Ps`
  mutation CreateDiceBets($input: CreateDiceBetsInput!) {
    createDiceBets(input: $input) {
      diceBets {
        ...DiceBet
      }
    }
  }

  ${d}
  ${$.userBadgeFragment}
`,ce=O.Ps`
  subscription OnCreateDiceBets {
    createDiceBets {
      diceBets {
        ...DiceBet
      }
    }
  }

  ${d}
  ${$.userBadgeFragment}
`},67015:(ge,U,r)=>{r.d(U,{H:()=>de});var F=r(86513),$=r(6535),O=r(23600),T=r(48966),i=r(5e3),d=r(69808),G=r(35357),f=r(30121),M=r(40068);function ce(I,x){1&I&&(i.TgZ(0,"h4"),i.SDv(1,26),i.qZA())}function j(I,x){1&I&&(i.TgZ(0,"h4"),i.SDv(1,27),i.qZA())}function q(I,x){1&I&&i.GkF(0)}function ae(I,x){if(1&I&&(i.ynx(0),i.YNc(1,q,1,0,"ng-container",28),i.BQk()),2&I){const p=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",p.betTemplateRef)}}function De(I,x){if(1&I&&(i.TgZ(0,"p"),i._uU(1),i.ALo(2,"number"),i.qZA()),2&I){const p=i.oxw();i.xp6(1),i.Oqu(i.xi3(2,1,p.bet.amount,"1.2-2"))}}const Ae=function(){return["/info/provably-fair"]};let de=(()=>{class I{constructor(p,h){this.appConfig=p,this.data=h,this.isEcommerceType=this.appConfig.siteType===$.NM.ECOMMERCE,this.DiceBetChoice=F.xk;const{bet:R,betTemplateRef:y}=this.data;this.bet=R,this.betTemplateRef=y}isSeedRevealed(p){var h,R,y,Y;return(null===(h=null==p?void 0:p.serverSeed)||void 0===h?void 0:h.value)&&(null===(R=null==p?void 0:p.serverSeed)||void 0===R?void 0:R.hash)&&(null===(y=null==p?void 0:p.serverSeed)||void 0===y?void 0:y.value)!==(null===(Y=null==p?void 0:p.serverSeed)||void 0===Y?void 0:Y.hash)}}return I.\u0275fac=function(p){return new(p||I)(i.Y36(O.qBz),i.Y36(T.WI))},I.\u0275cmp=i.Xpm({type:I,selectors:[["cw-bet-info-modal"]],hostVars:2,hostBindings:function(p,h){2&p&&i.ekj("ecommerce",h.isEcommerceType)},decls:90,vars:42,consts:function(){let x,p,h,R,y,Y,e,me,Z,P,fe,E,_,z,_e,H;return x=$localize`:␟d49e5d94cbd496e50c6cbc7728d3b246b429127e␟5292771341791459990:Bet: #${"\ufffd0\ufffd"}:INTERPOLATION:`,p=$localize`:␟ee769ff638a08486b10f2742577049056571dd9a␟2089084302447055997:Client seed`,h=$localize`:␟a6bb63d98a8a67689070a79ccf13960c25b572ef␟4513869814948231749:Nonce`,R=$localize`:␟e08a77594f3d89311cdf6da5090044270909c194␟2392488717875840729:User`,y=$localize`:␟0b2a151bb9435b83715016338b5c27c25a65f4c4␟6531637421202791278:Time of bet (UTC)`,Y=$localize`:␟3611e207614b2c2b82dffc027ba08b92b20a92fb␟449928999286346224:Bet`,e=$localize`:␟67eb60f7e60b23219df7ba26a0aa88e1ff768d36␟5493880020176468567:Multiplier`,me=$localize`:␟a43dd0a1bbcabf99c62a75ba68c1ee66a085e5c9␟5552946715208529758:Profit`,Z=$localize`:␟0e6a93b6d39a899de3abb0cb10c51f19057fa547␟4643591148728960560:Game`,P=$localize`:␟c542edcb6018a07f12b2e8e360010ec623fec556␟2074956869208541404:Win chance`,fe=$localize`:␟80ebb1b82fed892345531fff2ba095160972dd86␟2525230676386818985:Result`,E=$localize`:␟601360dcb0e46da6b619da435c7f569e9c4c7fde␟2407860499554401189:How it works`,_=$localize`:␟122d4ca6026b91271197c7cbd25c5329829e17dd␟1800732881002579548:Result computed using formula:`,z=$localize`:␟f72c4e74ba3918a32a1fda2f2fdf7ba5ca992a14␟4536483371757229873: For more detailed info regarding the provably fair aspect, see the ${"\ufffd#89\ufffd"}:START_LINK:Provably Fair${"\ufffd/#89\ufffd"}:CLOSE_LINK: page. `,_e=$localize`:␟ba76f196d763fa2bab4fe60bcd0d650343ba1e06␟3650337502840798991:Server seed (revealed)`,H=$localize`:␟f36485ce2552f674809ba9d2103a7b4ac317f899␟3564354275431450321:Server seed (hashed)`,[["mat-dialog-title","",1,"position-relative"],x,[1,"close-modal-icon",3,"matDialogClose"],["aria-hidden","true"],[1,"pretty-scrollbar"],[1,"row"],[1,"col-8"],[4,"ngIf"],[1,"col-4"],p,h,R,y,Y,[1,"w-20"],[4,"ngIf","ngIfElse"],["betAmountTpl",""],e,me,Z,P,fe,E,_,z,[3,"matDialogClose","routerLink"],_e,H,[4,"ngTemplateOutlet"]]},template:function(p,h){if(1&p&&(i.TgZ(0,"h1",0),i.TgZ(1,"span"),i.SDv(2,1),i.qZA(),i.TgZ(3,"a",2),i.TgZ(4,"span",3),i._uU(5,"\xd7"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(6,"mat-dialog-content",4),i.TgZ(7,"div",5),i.TgZ(8,"div",6),i.YNc(9,ce,2,0,"h4",7),i.YNc(10,j,2,0,"h4",7),i.TgZ(11,"p"),i._uU(12),i.qZA(),i._UZ(13,"hr"),i.qZA(),i.TgZ(14,"div",8),i.TgZ(15,"h4"),i.SDv(16,9),i.qZA(),i.TgZ(17,"p"),i._uU(18),i.qZA(),i._UZ(19,"hr"),i.TgZ(20,"h4"),i.SDv(21,10),i.qZA(),i.TgZ(22,"p"),i._uU(23),i.qZA(),i._UZ(24,"hr"),i.qZA(),i.qZA(),i.TgZ(25,"div",5),i.TgZ(26,"div",8),i.TgZ(27,"h4"),i.SDv(28,11),i.qZA(),i.TgZ(29,"p"),i._uU(30),i.qZA(),i._UZ(31,"hr"),i.TgZ(32,"h4"),i.SDv(33,12),i.qZA(),i.TgZ(34,"p"),i._uU(35),i.ALo(36,"date"),i.qZA(),i._UZ(37,"hr"),i.qZA(),i.TgZ(38,"div",8),i.TgZ(39,"h4"),i.SDv(40,13),i.qZA(),i.TgZ(41,"div",14),i.YNc(42,ae,2,1,"ng-container",15),i.qZA(),i.YNc(43,De,3,4,"ng-template",null,16,i.W1O),i._UZ(45,"hr"),i.TgZ(46,"h4"),i.SDv(47,17),i.qZA(),i.TgZ(48,"p"),i._uU(49),i.ALo(50,"multiplierText"),i.qZA(),i._UZ(51,"hr"),i.TgZ(52,"h4"),i.SDv(53,18),i.qZA(),i.TgZ(54,"p"),i._uU(55),i.ALo(56,"number"),i.qZA(),i.qZA(),i.TgZ(57,"div",8),i.TgZ(58,"h4"),i.SDv(59,19),i.qZA(),i.TgZ(60,"p"),i._uU(61),i.ALo(62,"titlecase"),i.ALo(63,"lowercase"),i.ALo(64,"number"),i.ALo(65,"rollTarget"),i.qZA(),i._UZ(66,"hr"),i.TgZ(67,"h4"),i.SDv(68,20),i.qZA(),i.TgZ(69,"p"),i._uU(70),i.ALo(71,"number"),i.qZA(),i._UZ(72,"hr"),i.TgZ(73,"h4"),i.SDv(74,21),i.qZA(),i.TgZ(75,"p"),i._uU(76),i.ALo(77,"number"),i.qZA(),i.qZA(),i.qZA(),i._UZ(78,"hr"),i.TgZ(79,"h2"),i.SDv(80,22),i.qZA(),i.TgZ(81,"p"),i.TgZ(82,"span"),i.SDv(83,23),i.qZA(),i._UZ(84,"br"),i.TgZ(85,"code"),i._uU(86),i.qZA(),i.qZA(),i.TgZ(87,"p"),i.tHW(88,24),i._UZ(89,"a",25),i.N_p(),i.qZA(),i.qZA()),2&p){const R=i.MAs(44);i.xp6(2),i.pQV(h.bet.id),i.QtT(2),i.xp6(7),i.Q6J("ngIf",h.isSeedRevealed(h.bet.roll)),i.xp6(1),i.Q6J("ngIf",!h.isSeedRevealed(h.bet.roll)),i.xp6(2),i.Oqu(h.bet.roll.serverSeed.value||h.bet.roll.serverSeed.hash),i.xp6(6),i.Oqu(h.bet.roll.clientSeed.value),i.xp6(5),i.Oqu(h.bet.roll.nonce),i.xp6(7),i.Oqu(h.bet.user.name),i.xp6(5),i.Oqu(i.xi3(36,18,h.bet.createdAt,"medium")),i.xp6(7),i.Q6J("ngIf",h.betTemplateRef)("ngIfElse",R),i.xp6(7),i.Oqu(i.lcZ(50,21,h.bet.multiplier)),i.xp6(6),i.Oqu(i.xi3(56,23,-1*h.bet.profit,"1.2-2")),i.xp6(6),i.AsE("",i.lcZ(62,26,i.lcZ(63,28,h.bet.choice))," ",i.xi3(64,30,i.lcZ(65,33,h.bet),"1.2-2"),""),i.xp6(9),i.Oqu(i.xi3(71,35,h.bet.chance,"1.2-2")),i.xp6(6),i.Oqu(i.xi3(77,38,(null==h.bet.roll?null:h.bet.roll.value)/100,"1.2-2")),i.xp6(10),i.Oqu("(SHA512({server_seed} - {client_seed} - {nonce}) % 10000) / 100.0"),i.xp6(3),i.Q6J("routerLink",i.DdM(41,Ae))}},directives:[T.uh,T.ZT,T.xY,d.O5,G.yS,d.tP],pipes:[d.uU,f.Y,d.JJ,d.rS,d.i8,M.V],styles:["[_nghost-%COMP%]:not(.ecommerce)   p[_ngcontent-%COMP%]{color:#fff}.close-modal-icon[_ngcontent-%COMP%]{position:absolute;top:-1rem;right:0;cursor:pointer}"],changeDetection:0}),I})()},40068:(ge,U,r)=>{r.d(U,{V:()=>i});var F=r(57994),$=r.n(F),O=r(86513),T=r(5e3);let i=(()=>{class d{transform(f,...M){return f.choice===O.xk.UNDER?f.chance:+$()(99.99).minus(f.chance)}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275pipe=T.Yjl({name:"rollTarget",type:d,pure:!0}),d})()},86513:(ge,U,r)=>{r.d(U,{_Q:()=>O,xk:()=>T,fZ:()=>i,pr:()=>d,ue:()=>G});var F=r(57994),O=(()=>{return(f=O||(O={})).ANIMATION="ANIMATION",f.AUTO="AUTO",f.BATCH="BATCH",f.MANUAL="MANUAL",O;var f})(),T=(()=>{return(f=T||(T={})).OVER="OVER",f.UNDER="UNDER",T;var f})(),i=(()=>{return(f=i||(i={})).DICE="DICE",f.UPGRADE="UPGRADE",i;var f})(),d=(()=>{return(f=d||(d={})).CHANCE_DESC="CHANCE_DESC",f.CHANCE="CHANCE",f.ID_DESC="ID_DESC",f.ID="ID",f.PROFIT_DESC="PROFIT_DESC",f.PROFIT="PROFIT",f.TOTAL_BET_DESC="TOTAL_BET_DESC",f.TOTAL_BET="TOTAL_BET",d;var f})();class G{get multiplier(){return parseFloat((0,F.Big)(100).minus(this.houseEdgePercent).div(this.chance).toFixed(2))}get date(){const M=this.createdAt.replace(" ","T")+".000Z";return new Date(M)}get gameNumber(){return atob(this.id).split(":")[1]}}}}]);